2025-08-20T03:29:25.4645017Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:29:25.4645072Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:29:25.4645105Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:29:25.4645140Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:29:25.4645173Z 2025-08-20 03:29:25.463 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3565ms with message 'Database connection failed'
2025-08-20T03:29:25.4723243Z 2025-08-20 03:29:25.471 +00:00 [INF] All configurations are valid
2025-08-20T03:29:25.4905538Z 2025-08-20 03:29:25.490 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:29:25.5016280Z 2025-08-20 03:29:25.494 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000013": An unhandled exception was thrown by the application.
2025-08-20T03:29:25.5028109Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:29:25.5096407Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:29:25.5096637Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:29:25.5096669Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:29:25.5096705Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:29:25.5096733Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:29:25.5096763Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:29:25.5096791Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:29:25.5096878Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:29:25.5096906Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:29:25.5096935Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:29:25.5096962Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:29:25.5096992Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:29:25.5097021Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:29:25.5097049Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:29:25.5097081Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:29:25.5097108Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:29:25.5097155Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:29:25.5097180Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:29:25.5097212Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:29:25.5097242Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:29:25.5175496Z 2025-08-20 03:29:25.511 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 65.9829ms
2025-08-20T03:29:42.3846977Z 2025-08-20 03:29:42.375 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:29:42.3847547Z 2025-08-20 03:29:42.378 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:29:42.3866245Z 2025-08-20 03:29:42.386 +00:00 [INF] Starting configuration status health check
2025-08-20T03:29:42.3955181Z 2025-08-20 03:29:42.394 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.3433ms with message 'Event Store connection failed'
2025-08-20T03:29:42.3960309Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:29:42.3960376Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:29:42.3960403Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:29:42.3960434Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:29:42.3960468Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:29:42.3960566Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:29:42.3960592Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:29:42.3960621Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:29:42.3960648Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:29:42.3960676Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:29:42.3960701Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:29:42.3960731Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:29:42.3960763Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:29:42.3960794Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:29:42.3960850Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:29:42.3961105Z 2025-08-20 03:29:42.395 +00:00 [INF] All configurations are valid
2025-08-20T03:29:42.4029339Z 2025-08-20 03:29:42.402 +00:00 [ERR] Health check database with status Unhealthy completed after 15.8418ms with message 'Database connection failed'
2025-08-20T03:29:42.4104864Z 2025-08-20 03:29:42.410 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:29:42.4165361Z 2025-08-20 03:29:42.411 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000014": An unhandled exception was thrown by the application.
2025-08-20T03:29:42.4166583Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:29:42.4167193Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:29:42.4167269Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:29:42.4167756Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:29:42.4172851Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:29:42.4172968Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:29:42.4173002Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:29:42.4173030Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:29:42.4173057Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:29:42.4173125Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:29:42.4173156Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:29:42.4173184Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:29:42.4173214Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:29:42.4173243Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:29:42.4173273Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:29:42.4173299Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:29:42.4173327Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:29:42.4173354Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:29:42.4173400Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:29:42.4173432Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:29:42.4173461Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:29:42.4297162Z 2025-08-20 03:29:42.429 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 54.4503ms
2025-08-20T03:30:26.4919420Z 2025-08-20 03:30:26.491 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:30:26.5114512Z 2025-08-20 03:30:26.511 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 19.7589ms
2025-08-20T03:30:26.5186978Z 2025-08-20 03:30:26.517 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:30:26.5304295Z 2025-08-20 03:30:26.530 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:30:26.5361529Z 2025-08-20 03:30:26.535 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 5.4592ms
2025-08-20T03:30:26.5375075Z 2025-08-20 03:30:26.537 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:30:26.5514453Z 2025-08-20 03:30:26.551 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:30:26.5596234Z 2025-08-20 03:30:26.559 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:30:26.5607081Z 2025-08-20 03:30:26.560 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:30:26.5617809Z 2025-08-20 03:30:26.561 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 2.5096ms
2025-08-20T03:30:26.5753297Z 2025-08-20 03:30:26.575 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:30:26.5771454Z 2025-08-20 03:30:26.577 +00:00 [INF] Starting configuration status health check
2025-08-20T03:30:26.5795504Z 2025-08-20 03:30:26.577 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 9.5249ms with message 'Event Store connection failed'
2025-08-20T03:30:26.5795691Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:30:26.5797957Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:30:26.5798054Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:30:26.5863455Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:30:26.5863842Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:30:26.5863880Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:30:26.5863908Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:30:26.5863932Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:30:26.5864207Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:30:26.5864241Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:30:26.5864266Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:30:26.5864296Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:30:26.5864325Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:30:26.5864357Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:30:26.5864392Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:30:26.5873821Z 2025-08-20 03:30:26.585 +00:00 [INF] All configurations are valid
2025-08-20T03:30:26.6007796Z 2025-08-20 03:30:26.599 +00:00 [ERR] Health check database with status Unhealthy completed after 6.2589ms with message 'Database connection failed'
2025-08-20T03:30:26.6013105Z 2025-08-20 03:30:26.601 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:30:26.6055353Z 2025-08-20 03:30:26.604 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000017": An unhandled exception was thrown by the application.
2025-08-20T03:30:26.6055641Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:30:26.6073060Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:30:26.6073109Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:26.6073138Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:26.6073173Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:30:26.6073399Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:26.6073436Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:30:26.6073464Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:26.6073491Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:30:26.6073518Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:30:26.6073545Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:30:26.6073574Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:30:26.6073603Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:26.6073631Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:26.6073724Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:30:26.6073751Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:30:26.6073778Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:30:26.6073803Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:26.6073828Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:26.6073861Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:30:26.6073888Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:30:26.6080147Z 2025-08-20 03:30:26.607 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 56.6706ms
2025-08-20T03:30:31.6417238Z 2025-08-20 03:30:31.641 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:30:31.6429197Z 2025-08-20 03:30:31.642 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:30:31.6435198Z 2025-08-20 03:30:31.643 +00:00 [INF] Starting configuration status health check
2025-08-20T03:30:31.6486766Z 2025-08-20 03:30:31.648 +00:00 [INF] All configurations are valid
2025-08-20T03:30:31.6566881Z 2025-08-20 03:30:31.656 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.2756ms with message 'Event Store connection failed'
2025-08-20T03:30:31.6567271Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:30:31.6567313Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:30:31.6567343Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:30:31.6567557Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:30:31.6567590Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:30:31.6567621Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:30:31.6567646Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:30:31.6567670Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:30:31.6567695Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:30:31.6567722Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:30:31.6567746Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:30:31.6567776Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:30:31.6567875Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:30:31.6567909Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:30:31.6567943Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:30:31.6651181Z 2025-08-20 03:30:31.657 +00:00 [ERR] Health check database with status Unhealthy completed after 7.0886ms with message 'Database connection failed'
2025-08-20T03:30:31.6651456Z 2025-08-20 03:30:31.658 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:30:31.6654163Z 2025-08-20 03:30:31.658 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000018": An unhandled exception was thrown by the application.
2025-08-20T03:30:31.6703041Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:30:31.6703192Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:30:31.6703352Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:31.6703382Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:31.6703418Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:30:31.6703446Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:31.6703478Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:30:31.6703509Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:31.6703987Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:30:31.6704032Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:30:31.6704346Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:30:31.6704378Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:30:31.6704408Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:31.6704436Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:31.6704467Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:30:31.6704492Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:30:31.6704520Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:30:31.6704546Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:31.6704570Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:31.6704700Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:30:31.6704730Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:30:31.6890263Z 2025-08-20 03:30:31.681 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 39.9859ms
2025-08-20T03:30:36.7110015Z 2025-08-20 03:30:36.696 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:30:36.7110399Z 2025-08-20 03:30:36.702 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:30:36.7110435Z 2025-08-20 03:30:36.703 +00:00 [INF] Starting configuration status health check
2025-08-20T03:30:36.7110460Z 2025-08-20 03:30:36.704 +00:00 [INF] All configurations are valid
2025-08-20T03:30:36.7117272Z 2025-08-20 03:30:36.711 +00:00 [ERR] Health check database with status Unhealthy completed after 6.6242ms with message 'Database connection failed'
2025-08-20T03:30:36.7218589Z 2025-08-20 03:30:36.721 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8622ms with message 'Event Store connection failed'
2025-08-20T03:30:36.7219202Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:30:36.7302759Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:30:36.7312238Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:30:36.7380999Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:30:36.7381212Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:30:36.7381254Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:30:36.7381287Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:30:36.7381585Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:30:36.7381615Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:30:36.7381642Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:30:36.7381668Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:30:36.7381698Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:30:36.7381727Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:30:36.7381759Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:30:36.7381793Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:30:36.7390138Z 2025-08-20 03:30:36.738 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:30:36.7404536Z 2025-08-20 03:30:36.739 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000019": An unhandled exception was thrown by the application.
2025-08-20T03:30:36.7404690Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:30:36.7406540Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:30:36.7406578Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:36.7406613Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:36.7406759Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:30:36.7406792Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:36.7406821Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:30:36.7406849Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:36.7406876Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:30:36.7406903Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:30:36.7406932Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:30:36.7406959Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:30:36.7406989Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:36.7407096Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:36.7407126Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:30:36.7407152Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:30:36.7407179Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:30:36.7407206Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:36.7407231Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:36.7407263Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:30:36.7407292Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:30:36.7476513Z 2025-08-20 03:30:36.741 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 44.531ms
2025-08-20T03:30:41.7751770Z 2025-08-20 03:30:41.774 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:30:41.7766258Z 2025-08-20 03:30:41.775 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:30:41.7826880Z 2025-08-20 03:30:41.782 +00:00 [INF] Starting configuration status health check
2025-08-20T03:30:41.7845611Z 2025-08-20 03:30:41.779 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7399ms with message 'Event Store connection failed'
2025-08-20T03:30:41.7845861Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:30:41.7845902Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:30:41.7845936Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:30:41.7845961Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:30:41.7846026Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:30:41.7846058Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:30:41.7846084Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:30:41.7846110Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:30:41.7846134Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:30:41.7846160Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:30:41.7846185Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:30:41.7846215Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:30:41.7846245Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:30:41.7846295Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:30:41.7846330Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:30:41.7917720Z 2025-08-20 03:30:41.791 +00:00 [INF] All configurations are valid
2025-08-20T03:30:41.8006409Z 2025-08-20 03:30:41.794 +00:00 [ERR] Health check database with status Unhealthy completed after 10.2035ms with message 'Database connection failed'
2025-08-20T03:30:41.8006748Z 2025-08-20 03:30:41.799 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:30:41.8006785Z 2025-08-20 03:30:41.799 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000001A": An unhandled exception was thrown by the application.
2025-08-20T03:30:41.8006998Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:30:41.8007039Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:30:41.8007133Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:41.8007161Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:41.8007198Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:30:41.8007226Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:41.8007254Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:30:41.8007283Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:41.8007310Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:30:41.8007337Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:30:41.8007365Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:30:41.8007412Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:30:41.8007548Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:41.8007577Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:41.8007605Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:30:41.8007672Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:30:41.8007702Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:30:41.8007726Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:41.8007751Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:41.8007806Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:30:41.8007837Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:30:41.8103872Z 2025-08-20 03:30:41.806 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 31.7886ms
2025-08-20T03:30:42.3770384Z 2025-08-20 03:30:42.376 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:30:42.3824531Z 2025-08-20 03:30:42.381 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:30:42.3830199Z 2025-08-20 03:30:42.382 +00:00 [INF] Starting configuration status health check
2025-08-20T03:30:42.3850706Z 2025-08-20 03:30:42.384 +00:00 [INF] All configurations are valid
2025-08-20T03:30:42.3908979Z 2025-08-20 03:30:42.389 +00:00 [ERR] Health check database with status Unhealthy completed after 6.3254ms with message 'Database connection failed'
2025-08-20T03:30:42.3925040Z 2025-08-20 03:30:42.391 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 9.5339ms with message 'Event Store connection failed'
2025-08-20T03:30:42.3925203Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:30:42.3926084Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:30:42.3926303Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:30:42.3926869Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:30:42.3926943Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:30:42.3927591Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:30:42.3927700Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:30:42.3928393Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:30:42.3928465Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:30:42.3928494Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:30:42.3929081Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:30:42.3929157Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:30:42.3929845Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:30:42.3930466Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:30:42.3931228Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:30:42.4098014Z 2025-08-20 03:30:42.409 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:30:42.4132618Z 2025-08-20 03:30:42.410 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000001B": An unhandled exception was thrown by the application.
2025-08-20T03:30:42.4134472Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:30:42.4134579Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:30:42.4134611Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:42.4134644Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:42.4134754Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:30:42.4134783Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:42.4134813Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:30:42.4134842Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:42.4134869Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:30:42.4134896Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:30:42.4134925Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:30:42.4134953Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:30:42.4135005Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:42.4135035Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:42.4135063Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:30:42.4135092Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:30:42.4135119Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:30:42.4135145Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:42.4135171Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:42.4135203Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:30:42.4135230Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:30:42.4175775Z 2025-08-20 03:30:42.417 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 40.7501ms
2025-08-20T03:30:46.8115070Z 2025-08-20 03:30:46.811 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:30:46.8217489Z 2025-08-20 03:30:46.815 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:30:46.8234646Z 2025-08-20 03:30:46.823 +00:00 [INF] Starting configuration status health check
2025-08-20T03:30:46.8312281Z 2025-08-20 03:30:46.829 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9842ms with message 'Database connection failed'
2025-08-20T03:30:46.8312642Z 2025-08-20 03:30:46.830 +00:00 [INF] All configurations are valid
2025-08-20T03:30:46.8411279Z 2025-08-20 03:30:46.838 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 22.038ms with message 'Event Store connection failed'
2025-08-20T03:30:46.8413615Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:30:46.8413677Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:30:46.8413706Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:30:46.8413733Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:30:46.8413760Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:30:46.8413791Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:30:46.8413817Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:30:46.8413842Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:30:46.8413866Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:30:46.8413892Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:30:46.8413950Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:30:46.8413982Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:30:46.8414012Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:30:46.8414043Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:30:46.8414079Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:30:46.8480631Z 2025-08-20 03:30:46.847 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:30:46.8517783Z 2025-08-20 03:30:46.849 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000001C": An unhandled exception was thrown by the application.
2025-08-20T03:30:46.8520980Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:30:46.8526256Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:30:46.8526375Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:46.8539628Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:46.8544406Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:30:46.8544579Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:46.8615187Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:30:46.8615550Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:46.8615585Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:30:46.8615615Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:30:46.8615645Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:30:46.8615672Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:30:46.8615703Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:46.8615733Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:46.8615761Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:30:46.8615787Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:30:46.8615836Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:30:46.8615863Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:46.8615890Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:46.8615922Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:30:46.8615949Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:30:46.8647376Z 2025-08-20 03:30:46.864 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 53.3624ms
2025-08-20T03:30:51.8934908Z 2025-08-20 03:30:51.887 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:30:51.8935264Z 2025-08-20 03:30:51.887 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:30:51.8935378Z 2025-08-20 03:30:51.888 +00:00 [INF] Starting configuration status health check
2025-08-20T03:30:51.8935405Z 2025-08-20 03:30:51.888 +00:00 [INF] All configurations are valid
2025-08-20T03:30:51.9276932Z 2025-08-20 03:30:51.908 +00:00 [ERR] Health check database with status Unhealthy completed after 13.0623ms with message 'Database connection failed'
2025-08-20T03:30:51.9277464Z 2025-08-20 03:30:51.908 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9041ms with message 'Event Store connection failed'
2025-08-20T03:30:51.9277502Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:30:51.9277535Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:30:51.9277562Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:30:51.9277586Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:30:51.9277614Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:30:51.9277732Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:30:51.9277761Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:30:51.9277786Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:30:51.9277810Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:30:51.9277838Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:30:51.9277863Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:30:51.9277893Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:30:51.9277923Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:30:51.9277954Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:30:51.9278011Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:30:51.9278036Z 2025-08-20 03:30:51.922 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:30:51.9365121Z 2025-08-20 03:30:51.923 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000001D": An unhandled exception was thrown by the application.
2025-08-20T03:30:51.9365524Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:30:51.9365561Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:30:51.9365589Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:51.9365618Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:51.9365656Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:30:51.9365737Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:51.9365769Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:30:51.9365796Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:51.9365824Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:30:51.9365852Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:30:51.9365879Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:30:51.9365906Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:30:51.9365935Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:51.9365966Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:51.9366017Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:30:51.9366043Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:30:51.9366071Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:30:51.9366096Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:51.9366120Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:51.9366152Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:30:51.9366179Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:30:51.9723451Z 2025-08-20 03:30:51.967 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 79.998ms
2025-08-20T03:30:56.9983786Z 2025-08-20 03:30:56.985 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:30:56.9991647Z 2025-08-20 03:30:56.998 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:30:57.0116021Z 2025-08-20 03:30:57.006 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0699ms with message 'Database connection failed'
2025-08-20T03:30:57.0123415Z 2025-08-20 03:30:57.006 +00:00 [INF] Starting configuration status health check
2025-08-20T03:30:57.0143527Z 2025-08-20 03:30:57.014 +00:00 [INF] All configurations are valid
2025-08-20T03:30:57.0202222Z 2025-08-20 03:30:57.007 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.63ms with message 'Event Store connection failed'
2025-08-20T03:30:57.0202552Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:30:57.0202594Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:30:57.0202701Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:30:57.0202727Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:30:57.0202755Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:30:57.0202787Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:30:57.0202812Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:30:57.0202836Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:30:57.0202861Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:30:57.0202889Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:30:57.0202914Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:30:57.0202973Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:30:57.0203003Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:30:57.0203034Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:30:57.0203068Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:30:57.0277214Z 2025-08-20 03:30:57.022 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:30:57.0380570Z 2025-08-20 03:30:57.022 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000001E": An unhandled exception was thrown by the application.
2025-08-20T03:30:57.0380935Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:30:57.0381413Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:30:57.0381470Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:57.0381499Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:30:57.0381534Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:30:57.0381563Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:57.0381593Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:30:57.0381621Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:30:57.0381650Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:30:57.0381676Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:30:57.0381724Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:30:57.0381753Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:30:57.0524348Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:57.0524492Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:30:57.0524530Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:30:57.0524576Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:30:57.0524611Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:30:57.0524637Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:57.0524662Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:30:57.0524848Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:30:57.0524877Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:30:57.0634360Z 2025-08-20 03:30:57.062 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 53.8307ms
2025-08-20T03:31:02.0453597Z 2025-08-20 03:31:02.045 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:02.0464036Z 2025-08-20 03:31:02.045 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:02.0564979Z 2025-08-20 03:31:02.056 +00:00 [ERR] Health check database with status Unhealthy completed after 0.8193ms with message 'Database connection failed'
2025-08-20T03:31:02.0626186Z 2025-08-20 03:31:02.056 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9533ms with message 'Event Store connection failed'
2025-08-20T03:31:02.0626842Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:02.0626889Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:31:02.0626917Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:02.0626942Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:02.0626969Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:31:02.0627000Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:02.0627027Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:31:02.0627051Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:02.0627076Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:31:02.0627101Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:31:02.0627201Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:02.0627233Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:02.0627264Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:02.0627295Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:02.0627334Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:02.0627359Z 2025-08-20 03:31:02.060 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:02.0695721Z 2025-08-20 03:31:02.068 +00:00 [INF] All configurations are valid
2025-08-20T03:31:02.0809637Z 2025-08-20 03:31:02.078 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:02.0872646Z 2025-08-20 03:31:02.080 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000001F": An unhandled exception was thrown by the application.
2025-08-20T03:31:02.0874598Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:02.0874665Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:02.0874695Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:02.0874727Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:02.0874762Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:02.0874790Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:02.0874820Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:02.0874942Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:02.0874971Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:02.0874998Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:02.0875026Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:02.0875055Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:02.0875085Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:02.0875113Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:02.0875144Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:02.0875413Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:02.0875455Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:02.0875481Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:02.0875506Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:02.0875539Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:02.0875566Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:02.1055864Z 2025-08-20 03:31:02.104 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 55.8868ms
2025-08-20T03:31:07.1180338Z 2025-08-20 03:31:07.117 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:07.1241251Z 2025-08-20 03:31:07.118 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:07.1335561Z 2025-08-20 03:31:07.128 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8167ms with message 'Event Store connection failed'
2025-08-20T03:31:07.1335891Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:07.1335931Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:31:07.1335965Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:07.1335994Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:07.1336021Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:31:07.1336054Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:07.1336079Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:31:07.1336324Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:07.1336353Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:31:07.1336378Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:31:07.1336404Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:07.1336434Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:07.1336464Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:07.1336496Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:07.1336530Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:07.1336555Z 2025-08-20 03:31:07.129 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:07.1394014Z 2025-08-20 03:31:07.135 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9082ms with message 'Database connection failed'
2025-08-20T03:31:07.1471743Z 2025-08-20 03:31:07.144 +00:00 [INF] All configurations are valid
2025-08-20T03:31:07.1526293Z 2025-08-20 03:31:07.152 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:07.1539103Z 2025-08-20 03:31:07.153 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000020": An unhandled exception was thrown by the application.
2025-08-20T03:31:07.1550501Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:07.1556711Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:07.1557039Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:07.1563612Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:07.1564226Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:07.1564304Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:07.1564803Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:07.1564876Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:07.1565342Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:07.1565413Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:07.1566059Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:07.1566560Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:07.1566632Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:07.1567094Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:07.1567162Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:07.1567615Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:07.1567683Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:07.1568277Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:07.1568351Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:07.1568816Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:07.1568885Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:07.1578085Z 2025-08-20 03:31:07.157 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 39.9684ms
2025-08-20T03:31:12.1825947Z 2025-08-20 03:31:12.182 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:12.1833799Z 2025-08-20 03:31:12.183 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:12.1888082Z 2025-08-20 03:31:12.187 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:12.1888606Z 2025-08-20 03:31:12.188 +00:00 [INF] All configurations are valid
2025-08-20T03:31:12.1957204Z 2025-08-20 03:31:12.191 +00:00 [ERR] Health check database with status Unhealthy completed after 3.0071ms with message 'Database connection failed'
2025-08-20T03:31:12.1995300Z 2025-08-20 03:31:12.198 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.876ms with message 'Event Store connection failed'
2025-08-20T03:31:12.1995789Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:12.2076301Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:31:12.2076671Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:12.2076714Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:12.2077005Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:31:12.2077047Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:12.2077074Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:31:12.2077100Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:12.2077125Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:31:12.2077152Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:31:12.2077180Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:12.2077211Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:12.2077244Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:12.2077347Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:12.2077387Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:12.2149965Z 2025-08-20 03:31:12.207 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:12.2150277Z 2025-08-20 03:31:12.208 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000021": An unhandled exception was thrown by the application.
2025-08-20T03:31:12.2150325Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:12.2150359Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:12.2150386Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:12.2150413Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:12.2150713Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:12.2150748Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:12.2150778Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:12.2150806Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:12.2150833Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:12.2150862Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:12.2150890Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:12.2150917Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:12.2150947Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:12.2151318Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:12.2151352Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:12.2151379Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:12.2151407Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:12.2151434Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:12.2151459Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:12.2151491Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:12.2151519Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:12.2245778Z 2025-08-20 03:31:12.218 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 36.6483ms
2025-08-20T03:31:17.2404157Z 2025-08-20 03:31:17.240 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:17.2462139Z 2025-08-20 03:31:17.245 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:17.2583627Z 2025-08-20 03:31:17.254 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:17.2584274Z 2025-08-20 03:31:17.254 +00:00 [INF] All configurations are valid
2025-08-20T03:31:17.2584319Z 2025-08-20 03:31:17.256 +00:00 [ERR] Health check database with status Unhealthy completed after 1.198ms with message 'Database connection failed'
2025-08-20T03:31:17.2673275Z 2025-08-20 03:31:17.264 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 15.0651ms with message 'Event Store connection failed'
2025-08-20T03:31:17.2788210Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:17.2788470Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:31:17.2788501Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:17.2788526Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:17.2788554Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:31:17.2788588Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:17.2788615Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:31:17.2788640Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:17.2788666Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:31:17.2788692Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:31:17.2788718Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:17.2788777Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:17.2788807Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:17.2788841Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:17.2788877Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:17.2789529Z 2025-08-20 03:31:17.271 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:17.2789572Z 2025-08-20 03:31:17.272 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000022": An unhandled exception was thrown by the application.
2025-08-20T03:31:17.2789608Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:17.2789660Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:17.2789688Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:17.2789714Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:17.2789751Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:17.2789779Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:17.2789808Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:17.2789838Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:17.2789865Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:17.2789893Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:17.2789943Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:17.2789970Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:17.2790002Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:17.2790030Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:17.2790058Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:17.2790085Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:17.2790113Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:17.2790139Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:17.2790163Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:17.2790216Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:17.2790245Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:17.2886742Z 2025-08-20 03:31:17.288 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 48.3921ms
2025-08-20T03:31:22.2939869Z 2025-08-20 03:31:22.293 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:22.2945414Z 2025-08-20 03:31:22.294 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:22.2953673Z 2025-08-20 03:31:22.295 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:22.3010477Z 2025-08-20 03:31:22.300 +00:00 [INF] All configurations are valid
2025-08-20T03:31:22.3036374Z 2025-08-20 03:31:22.303 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3209ms with message 'Database connection failed'
2025-08-20T03:31:22.3089396Z 2025-08-20 03:31:22.307 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 5.1965ms with message 'Event Store connection failed'
2025-08-20T03:31:22.3089641Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:22.3089677Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:22.3089762Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:22.3089795Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:22.3089822Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:22.3089846Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:22.3089876Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:22.3089907Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:22.3089938Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:22.3089974Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:22.3177899Z 2025-08-20 03:31:22.317 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:22.3234104Z 2025-08-20 03:31:22.319 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000023": An unhandled exception was thrown by the application.
2025-08-20T03:31:22.3234688Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:22.3234734Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:22.3234764Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:22.3234796Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:22.3234831Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:22.3234859Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:22.3234953Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:22.3234983Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:22.3235012Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:22.3235039Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:22.3235068Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:22.3235094Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:22.3235123Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:22.3235157Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:22.3235185Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:22.3235236Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:22.3235265Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:22.3235291Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:22.3235315Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:22.3235346Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:22.3235375Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:22.3413425Z 2025-08-20 03:31:22.337 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 43.4443ms
2025-08-20T03:31:27.3509099Z 2025-08-20 03:31:27.350 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:27.3514671Z 2025-08-20 03:31:27.351 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:27.3526446Z 2025-08-20 03:31:27.352 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:27.3552381Z 2025-08-20 03:31:27.354 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.803ms with message 'Event Store connection failed'
2025-08-20T03:31:27.3552498Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:27.3578628Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:27.3578795Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:27.3579514Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:27.3638493Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:27.3677447Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:27.3678160Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:27.3678209Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:27.3678241Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:27.3678275Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:27.3678307Z 2025-08-20 03:31:27.355 +00:00 [INF] All configurations are valid
2025-08-20T03:31:27.3678337Z 2025-08-20 03:31:27.357 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3922ms with message 'Database connection failed'
2025-08-20T03:31:27.3678361Z 2025-08-20 03:31:27.366 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:27.3678442Z 2025-08-20 03:31:27.366 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000024": An unhandled exception was thrown by the application.
2025-08-20T03:31:27.3678480Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:27.3678511Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:27.3678538Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:27.3678563Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:27.3678597Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:27.3678627Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:27.3755207Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:27.3755340Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:27.3755375Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:27.3755405Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:27.3755435Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:27.3755464Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:27.3755500Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:27.3755531Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:27.3755560Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:27.3755586Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:27.3755640Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:27.3755667Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:27.3755692Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:27.3756180Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:27.3756220Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:27.3756251Z 2025-08-20 03:31:27.374 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 23.9488ms
2025-08-20T03:31:32.3901884Z 2025-08-20 03:31:32.390 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:32.3908360Z 2025-08-20 03:31:32.390 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:32.3927541Z 2025-08-20 03:31:32.392 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.998ms with message 'Event Store connection failed'
2025-08-20T03:31:32.3927669Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:32.3927700Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:32.3927725Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:32.3927758Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:32.3927784Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:32.3927809Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:32.3927840Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:32.3927870Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:32.3927939Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:32.3927974Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:32.3932234Z 2025-08-20 03:31:32.393 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:32.3939972Z 2025-08-20 03:31:32.393 +00:00 [ERR] Health check database with status Unhealthy completed after 2.2075ms with message 'Database connection failed'
2025-08-20T03:31:32.3948102Z 2025-08-20 03:31:32.394 +00:00 [INF] All configurations are valid
2025-08-20T03:31:32.4021534Z 2025-08-20 03:31:32.400 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:32.4022025Z 2025-08-20 03:31:32.400 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000025": An unhandled exception was thrown by the application.
2025-08-20T03:31:32.4022119Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:32.4022152Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:32.4022180Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:32.4022207Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:32.4022242Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:32.4022272Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:32.4022301Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:32.4022329Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:32.4022381Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:32.4022409Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:32.4022437Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:32.4022463Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:32.4022493Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:32.4022524Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:32.4022551Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:32.4022577Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:32.4022605Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:32.4022650Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:32.4022676Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:32.4022707Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:32.4022734Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:32.4085685Z 2025-08-20 03:31:32.407 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 17.3338ms
2025-08-20T03:31:37.4116664Z 2025-08-20 03:31:37.410 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:37.4118543Z 2025-08-20 03:31:37.411 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:37.4125605Z 2025-08-20 03:31:37.412 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:37.4151290Z 2025-08-20 03:31:37.414 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.2441ms with message 'Event Store connection failed'
2025-08-20T03:31:37.4151455Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:37.4156400Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:37.4156508Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:37.4156545Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:37.4156572Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:37.4156597Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:37.4156627Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:37.4156656Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:37.4156722Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:37.4156757Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:37.4158231Z 2025-08-20 03:31:37.415 +00:00 [INF] All configurations are valid
2025-08-20T03:31:37.4223779Z 2025-08-20 03:31:37.421 +00:00 [ERR] Health check database with status Unhealthy completed after 1.4635ms with message 'Database connection failed'
2025-08-20T03:31:37.4232764Z 2025-08-20 03:31:37.423 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:37.4293293Z 2025-08-20 03:31:37.428 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000026": An unhandled exception was thrown by the application.
2025-08-20T03:31:37.4293872Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:37.4293991Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:37.4294020Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:37.4294047Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:37.4294082Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:37.4294113Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:37.4294142Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:37.4294171Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:37.4294198Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:37.4294252Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:37.4294281Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:37.4294307Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:37.4294337Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:37.4294367Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:37.4294394Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:37.4294420Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:37.4294448Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:37.4294473Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:37.4294519Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:37.4294551Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:37.4294578Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:37.4300548Z 2025-08-20 03:31:37.429 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 19.2088ms
2025-08-20T03:31:42.3913163Z 2025-08-20 03:31:42.390 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:42.3915604Z 2025-08-20 03:31:42.391 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:42.3919927Z 2025-08-20 03:31:42.391 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:42.3973385Z 2025-08-20 03:31:42.397 +00:00 [INF] All configurations are valid
2025-08-20T03:31:42.4049267Z 2025-08-20 03:31:42.402 +00:00 [ERR] Health check database with status Unhealthy completed after 0.8541ms with message 'Database connection failed'
2025-08-20T03:31:42.4049759Z 2025-08-20 03:31:42.402 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.5758ms with message 'Event Store connection failed'
2025-08-20T03:31:42.4049794Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:42.4049823Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:42.4050021Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:42.4050059Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:42.4050086Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:42.4050111Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:42.4050141Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:42.4050171Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:42.4050202Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:42.4050239Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:42.4135941Z 2025-08-20 03:31:42.410 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:42.4285885Z 2025-08-20 03:31:42.415 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000027": An unhandled exception was thrown by the application.
2025-08-20T03:31:42.4286207Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:42.4286244Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:42.4286273Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:42.4287544Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:42.4289501Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:42.4289541Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:42.4289777Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:42.4289814Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:42.4289841Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:42.4289868Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:42.4289896Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:42.4289923Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:42.4289951Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:42.4289981Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:42.4290009Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:42.4290108Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:42.4290138Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:42.4290163Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:42.4290187Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:42.4290218Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:42.4290245Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:42.4290274Z 2025-08-20 03:31:42.426 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 36.3428ms
2025-08-20T03:31:42.4641585Z 2025-08-20 03:31:42.459 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:42.4658713Z 2025-08-20 03:31:42.465 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:42.4837778Z 2025-08-20 03:31:42.466 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:42.4838397Z 2025-08-20 03:31:42.476 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.67ms with message 'Event Store connection failed'
2025-08-20T03:31:42.4838433Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:42.4838465Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:42.4838494Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:42.4838527Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:42.4838552Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:42.4838577Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:42.4838817Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:42.4838855Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:42.4838886Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:42.4838920Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:42.4861505Z 2025-08-20 03:31:42.485 +00:00 [ERR] Health check database with status Unhealthy completed after 2.6921ms with message 'Database connection failed'
2025-08-20T03:31:42.5102159Z 2025-08-20 03:31:42.504 +00:00 [INF] All configurations are valid
2025-08-20T03:31:42.5102497Z 2025-08-20 03:31:42.505 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:42.5102541Z 2025-08-20 03:31:42.505 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000028": An unhandled exception was thrown by the application.
2025-08-20T03:31:42.5102587Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:42.5102618Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:42.5102644Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:42.5102870Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:42.5102913Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:42.5102943Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:42.5102973Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:42.5103001Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:42.5103030Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:42.5103057Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:42.5103085Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:42.5103111Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:42.5103191Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:42.5103224Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:42.5103253Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:42.5103279Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:42.5103307Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:42.5103332Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:42.5103357Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:42.5103388Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:42.5103872Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:42.5199090Z 2025-08-20 03:31:42.512 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 52.9322ms
2025-08-20T03:31:47.5235924Z 2025-08-20 03:31:47.521 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:47.5237575Z 2025-08-20 03:31:47.522 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:47.5241564Z 2025-08-20 03:31:47.524 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:47.5250173Z 2025-08-20 03:31:47.524 +00:00 [INF] All configurations are valid
2025-08-20T03:31:47.5335722Z 2025-08-20 03:31:47.533 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9382ms with message 'Database connection failed'
2025-08-20T03:31:47.5484951Z 2025-08-20 03:31:47.540 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1965ms with message 'Event Store connection failed'
2025-08-20T03:31:47.5485268Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:47.5485309Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:47.5485409Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:47.5485441Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:47.5485466Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:47.5485491Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:47.5485523Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:47.5485552Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:47.5485583Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:47.5485625Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:47.5485649Z 2025-08-20 03:31:47.542 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:47.5514557Z 2025-08-20 03:31:47.550 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:00000029": An unhandled exception was thrown by the application.
2025-08-20T03:31:47.5518789Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:47.5610315Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:47.5682794Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:47.5682914Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:47.5682965Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:47.5682995Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:47.5683094Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:47.5683128Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:47.5683155Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:47.5683182Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:47.5683212Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:47.5683239Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:47.5683269Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:47.5683298Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:47.5683327Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:47.5683378Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:47.5683407Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:47.5683433Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:47.5683460Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:47.5683491Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:47.5683519Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:47.5683548Z 2025-08-20 03:31:47.559 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 37.406ms
2025-08-20T03:31:52.5800484Z 2025-08-20 03:31:52.574 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:52.5815595Z 2025-08-20 03:31:52.581 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:52.5823224Z 2025-08-20 03:31:52.582 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:52.6030717Z 2025-08-20 03:31:52.602 +00:00 [INF] All configurations are valid
2025-08-20T03:31:52.6140019Z 2025-08-20 03:31:52.610 +00:00 [ERR] Health check database with status Unhealthy completed after 1.7419ms with message 'Database connection failed'
2025-08-20T03:31:52.6221969Z 2025-08-20 03:31:52.615 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7347ms with message 'Event Store connection failed'
2025-08-20T03:31:52.6222372Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:52.6222411Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:52.6222506Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:52.6222539Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:52.6222564Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:52.6222589Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:52.6222620Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:52.6222648Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:52.6222679Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:52.6222716Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:52.6222740Z 2025-08-20 03:31:52.620 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:52.6222797Z 2025-08-20 03:31:52.621 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000002A": An unhandled exception was thrown by the application.
2025-08-20T03:31:52.6222832Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:52.6222862Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:52.6222891Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:52.6222917Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:52.6222951Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:52.6222980Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:52.6223008Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:52.6223059Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:52.6223085Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:52.6223113Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:52.6223141Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:52.6223170Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:52.6223199Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:52.6223228Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:52.6223445Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:52.6223499Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:52.6223527Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:52.6223552Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:52.6223580Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:52.6223611Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:52.6223639Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:52.6387284Z 2025-08-20 03:31:52.633 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 59.4934ms
2025-08-20T03:31:53.6700527Z    _____                               
2025-08-20T03:31:53.6703415Z   /  _  \ __________ _________   ____  
2025-08-20T03:31:53.6703546Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:31:53.6703580Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:31:53.6703609Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:31:53.6703648Z         \/      \/                  \/ 
2025-08-20T03:31:53.6703679Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:31:53.6703707Z 
2025-08-20T03:31:53.6703743Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:31:53.6703799Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:31:53.6703828Z ASP .NETCore Version: 8.0.18
2025-08-20T03:31:53.6703858Z Note: Any data outside '/home' is not persisted
2025-08-20T03:31:56.1603318Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:31:56.1603782Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:31:56.1603829Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:31:57.6535207Z 2025-08-20 03:31:57.652 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:31:57.6606442Z 2025-08-20 03:31:57.654 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:31:57.6606702Z 2025-08-20 03:31:57.656 +00:00 [INF] Starting configuration status health check
2025-08-20T03:31:57.6606739Z 2025-08-20 03:31:57.657 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9631ms with message 'Database connection failed'
2025-08-20T03:31:57.6684638Z 2025-08-20 03:31:57.663 +00:00 [INF] All configurations are valid
2025-08-20T03:31:57.6770171Z 2025-08-20 03:31:57.676 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 11.9981ms with message 'Event Store connection failed'
2025-08-20T03:31:57.6770487Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:31:57.6770521Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:31:57.6770547Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:31:57.6770663Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:31:57.6770689Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:31:57.6770714Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:31:57.6770746Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:31:57.6770775Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:31:57.6770807Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:31:57.6770846Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:31:57.6779660Z 2025-08-20 03:31:57.677 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:31:57.6848428Z 2025-08-20 03:31:57.683 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000002B": An unhandled exception was thrown by the application.
2025-08-20T03:31:57.6918592Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:31:57.6919833Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:31:57.6920068Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:57.6920669Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:31:57.6921560Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:31:57.6921749Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:57.6923995Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:31:57.6924088Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:31:57.6924825Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:31:57.6924905Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:31:57.6925581Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:31:57.6926288Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:31:57.6926367Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:57.6927056Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:31:57.6927138Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:31:57.6927840Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:31:57.6927915Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:31:57.6928582Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:57.6928656Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:31:57.6969269Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:31:57.6969487Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:31:57.6987835Z 2025-08-20 03:31:57.698 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 46.1337ms
2025-08-20T03:32:02.7315946Z 2025-08-20 03:32:02.726 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:32:02.7897191Z 2025-08-20 03:32:02.732 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:32:02.7897511Z 2025-08-20 03:32:02.775 +00:00 [INF] Starting configuration status health check
2025-08-20T03:32:02.7897552Z 2025-08-20 03:32:02.771 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.6935ms with message 'Event Store connection failed'
2025-08-20T03:32:02.7897580Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:32:02.7897609Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:32:02.7897634Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:32:02.7897789Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:32:02.7897817Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:32:02.7897843Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:32:02.7897873Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:32:02.7897902Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:32:02.7897935Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:32:02.7897972Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:32:02.8992734Z 2025-08-20 03:32:02.885 +00:00 [INF] All configurations are valid
2025-08-20T03:32:02.9820345Z 2025-08-20 03:32:02.977 +00:00 [ERR] Health check database with status Unhealthy completed after 65.7715ms with message 'Database connection failed'
2025-08-20T03:32:03.0002963Z 2025-08-20 03:32:02.999 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:32:03.0007308Z 2025-08-20 03:32:02.999 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000002C": An unhandled exception was thrown by the application.
2025-08-20T03:32:03.0058453Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:32:03.0058655Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:32:03.0058689Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:03.0058717Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:03.0058841Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:32:03.0058871Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:03.0058900Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:32:03.0058928Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:03.0058955Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:32:03.0058983Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:32:03.0059014Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:32:03.0059040Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:32:03.0059071Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:03.0059129Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:03.0059158Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:32:03.0059184Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:32:03.0059213Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:32:03.0059239Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:03.0059266Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:03.0059297Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:32:03.0059359Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:32:03.0141972Z 2025-08-20 03:32:03.008 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 282.6945ms
2025-08-20T03:32:04.7221763Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:32:04.7857519Z 4 added, 0 removed; done.
2025-08-20T03:32:04.7872039Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:32:04.8032259Z done.
2025-08-20T03:32:04.8299187Z CA certificates copied and updated successfully.
2025-08-20T03:32:05.2913636Z Starting periodic command scheduler: cron.
2025-08-20T03:32:05.3024343Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:32:05.4129628Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:32:05.4199626Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:32:05.4218220Z Build Operation ID: fcfa65c2-b666-466b-bd69-b5225f85bae4
2025-08-20T03:32:05.6341049Z 
2025-08-20T03:32:05.6341824Z Agent extension 
2025-08-20T03:32:05.6341873Z Before if loop >> DotNet Runtime 
2025-08-20T03:32:05.8238183Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:32:05.8442187Z Trying to find the startup DLL name...
2025-08-20T03:32:05.8448280Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:32:05.8513424Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:32:08.0478924Z 2025-08-20 03:32:08.041 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:32:08.0479905Z 2025-08-20 03:32:08.047 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:32:08.0484975Z 2025-08-20 03:32:08.048 +00:00 [INF] Starting configuration status health check
2025-08-20T03:32:08.0489809Z 2025-08-20 03:32:08.048 +00:00 [INF] All configurations are valid
2025-08-20T03:32:08.0565020Z 2025-08-20 03:32:08.056 +00:00 [ERR] Health check database with status Unhealthy completed after 0.8191ms with message 'Database connection failed'
2025-08-20T03:32:08.0569177Z 2025-08-20 03:32:08.056 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.5098ms with message 'Event Store connection failed'
2025-08-20T03:32:08.0569281Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:32:08.0569402Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:32:08.0569430Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:32:08.0569461Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:32:08.0569487Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:32:08.0569512Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:32:08.0569543Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:32:08.0569572Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:32:08.0569603Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:32:08.0569641Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:32:08.0575478Z 2025-08-20 03:32:08.057 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:32:08.0760735Z 2025-08-20 03:32:08.057 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000002D": An unhandled exception was thrown by the application.
2025-08-20T03:32:08.0761088Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:32:08.0761126Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:32:08.0761154Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:08.0761181Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:08.0761220Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:32:08.0761328Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:08.0761358Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:32:08.0761386Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:08.0761414Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:32:08.0761441Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:32:08.0761471Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:32:08.0761499Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:32:08.0761528Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:08.0761558Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:08.0761608Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:32:08.0761635Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:32:08.0761662Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:32:08.0761689Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:08.0761716Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:08.0761747Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:32:08.0761775Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:32:08.0952429Z 2025-08-20 03:32:08.091 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 49.8174ms
2025-08-20T03:32:08.6513995Z 2025-08-20 03:32:08.423 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:32:09.0936596Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:32:09.6369268Z 2025-08-20 03:32:09.599 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:32:09.6369917Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:32:09.6369965Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:32:09.6369997Z    at System.Uri..ctor(String uriString)
2025-08-20T03:32:09.6370034Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:32:09.6370072Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:32:09.6370140Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:32:09.7207037Z 2025-08-20 03:32:09.707 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:32:09.8452540Z 2025-08-20 03:32:09.840 +00:00 [INF] Starting configuration validation...
2025-08-20T03:32:09.9385679Z 2025-08-20 03:32:09.937 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:32:09.9386230Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:32:09.9386277Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:32:09.9386310Z    at System.Uri..ctor(String uriString)
2025-08-20T03:32:09.9386348Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:32:09.9386387Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:32:09.9386487Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:32:09.9768332Z 2025-08-20 03:32:09.974 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:32:09.9841616Z 2025-08-20 03:32:09.981 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:32:10.0738990Z 2025-08-20 03:32:10.073 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:32:10.3939210Z 2025-08-20 03:32:10.393 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:32:10.4351319Z 2025-08-20 03:32:10.433 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:32:10.9204217Z 2025-08-20 03:32:10.917 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:32:10.9227041Z 2025-08-20 03:32:10.922 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:32:10.9288036Z 2025-08-20 03:32:10.928 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:32:10.9370782Z 2025-08-20 03:32:10.936 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:32:12.1324485Z 2025-08-20 03:32:12.112 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - null null
2025-08-20T03:32:12.7868494Z 2025-08-20 03:32:12.382 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:32:12.8952243Z 2025-08-20 03:32:12.793 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - 404 0 null 726.856ms
2025-08-20T03:32:13.1088124Z 2025-08-20 03:32:13.105 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:32:13.1088463Z 2025-08-20 03:32:13.106 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:32:13.1769533Z 2025-08-20 03:32:13.153 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.6956ms with message 'Event Store connection failed'
2025-08-20T03:32:13.1769885Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:32:13.1769987Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:32:13.1770016Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:32:13.1770047Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:32:13.1770073Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:32:13.1770097Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:32:13.1770198Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:32:13.1770231Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:32:13.1770261Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:32:13.1770401Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:32:13.1770425Z 2025-08-20 03:32:13.154 +00:00 [INF] Starting configuration status health check
2025-08-20T03:32:13.1770453Z 2025-08-20 03:32:13.154 +00:00 [ERR] Health check database with status Unhealthy completed after 16.01ms with message 'Database connection failed'
2025-08-20T03:32:13.1770478Z 2025-08-20 03:32:13.169 +00:00 [INF] All configurations are valid
2025-08-20T03:32:13.1770505Z 2025-08-20 03:32:13.170 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:32:13.2226862Z 2025-08-20 03:32:13.222 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:32:13.2233056Z 2025-08-20 03:32:13.223 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:32:13.2375717Z 2025-08-20 03:32:13.237 +00:00 [INF] Starting configuration status health check
2025-08-20T03:32:13.2532398Z 2025-08-20 03:32:13.252 +00:00 [ERR] Health check database with status Unhealthy completed after 13.7889ms with message 'Database connection failed'
2025-08-20T03:32:13.2544228Z 2025-08-20 03:32:13.253 +00:00 [ERR] Connection id "0HNEVJ629NE9T", Request id "0HNEVJ629NE9T:0000002E": An unhandled exception was thrown by the application.
2025-08-20T03:32:13.2545251Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:32:13.2546030Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:32:13.2546150Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:13.2546837Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:13.2547555Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:32:13.2547634Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:13.2548295Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:32:13.2548373Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:13.2672346Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:32:13.2672759Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:32:13.2672798Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:32:13.2672826Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:32:13.2672856Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:13.2672886Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:13.2672916Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:32:13.2672942Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:32:13.2672970Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:32:13.2672995Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:13.2673045Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:13.2673080Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:32:13.2673107Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:32:13.2792942Z 2025-08-20 03:32:13.278 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7567ms with message 'Event Store connection failed'
2025-08-20T03:32:13.2793268Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:32:13.2923359Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:32:13.2923809Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:32:13.2923849Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:32:13.2923880Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:32:13.2923968Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:32:13.2923999Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:32:13.2924030Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:32:13.2924064Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:32:13.2924101Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:32:13.2945206Z 2025-08-20 03:32:13.268 +00:00 [INF] All configurations are valid
2025-08-20T03:32:13.3009840Z 2025-08-20 03:32:13.300 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 195.5576ms
2025-08-20T03:32:13.3304545Z 2025-08-20 03:32:13.330 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:32:13.3495595Z 2025-08-20 03:32:13.344 +00:00 [ERR] Connection id "0HNEVJ629NE9V", Request id "0HNEVJ629NE9V:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:32:13.3495977Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:32:13.3496015Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:32:13.3496046Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:13.3496073Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:13.3496194Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:32:13.3496224Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:13.3496254Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:32:13.3496283Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:13.3496311Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:32:13.3496338Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:32:13.3496368Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:32:13.3496395Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:32:13.3496449Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:13.3496480Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:13.3496508Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:32:13.3496534Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:32:13.3496561Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:32:13.3496587Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:13.3496614Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:13.3496645Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:32:13.3496673Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:32:13.3771269Z 2025-08-20 03:32:13.376 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 205.5522ms
2025-08-20T03:32:18.3330777Z 2025-08-20 03:32:18.329 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:32:18.3404406Z 2025-08-20 03:32:18.340 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:32:18.3479791Z 2025-08-20 03:32:18.347 +00:00 [INF] Starting configuration status health check
2025-08-20T03:32:18.3570412Z 2025-08-20 03:32:18.356 +00:00 [ERR] Health check database with status Unhealthy completed after 1.356ms with message 'Database connection failed'
2025-08-20T03:32:18.3619181Z 2025-08-20 03:32:18.357 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.4233ms with message 'Event Store connection failed'
2025-08-20T03:32:18.3619395Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:32:18.3619431Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:32:18.3619458Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:32:18.3619566Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:32:18.3619593Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:32:18.3619618Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:32:18.3619648Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:32:18.3619679Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:32:18.3619711Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:32:18.3619749Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:32:18.3619772Z 2025-08-20 03:32:18.358 +00:00 [INF] All configurations are valid
2025-08-20T03:32:18.3795890Z 2025-08-20 03:32:18.379 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:32:18.3866901Z 2025-08-20 03:32:18.380 +00:00 [ERR] Connection id "0HNEVJ629NE9V", Request id "0HNEVJ629NE9V:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:32:18.3866999Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:32:18.3867031Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:32:18.3867062Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:18.3867093Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:18.3867128Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:32:18.3867157Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:18.3867187Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:32:18.3867281Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:18.3867310Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:32:18.3867337Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:32:18.3867367Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:32:18.3867394Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:32:18.3867424Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:18.3867456Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:18.3867484Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:32:18.3867532Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:32:18.3867561Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:32:18.3867587Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:18.3867613Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:18.3867645Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:32:18.3867672Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:32:18.3962708Z 2025-08-20 03:32:18.394 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 65.5473ms
2025-08-20T03:32:23.4159441Z 2025-08-20 03:32:23.415 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:32:23.4242289Z 2025-08-20 03:32:23.423 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:32:23.4432462Z 2025-08-20 03:32:23.436 +00:00 [INF] Starting configuration status health check
2025-08-20T03:32:23.4497826Z 2025-08-20 03:32:23.449 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 23.7354ms with message 'Event Store connection failed'
2025-08-20T03:32:23.4498137Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:32:23.4498170Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:32:23.4498195Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:32:23.4498228Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:32:23.4498256Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:32:23.4498360Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:32:23.4498391Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:32:23.4498420Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:32:23.4498453Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:32:23.4498503Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:32:23.4556014Z 2025-08-20 03:32:23.450 +00:00 [INF] All configurations are valid
2025-08-20T03:32:23.4563795Z 2025-08-20 03:32:23.456 +00:00 [ERR] Health check database with status Unhealthy completed after 19.3788ms with message 'Database connection failed'
2025-08-20T03:32:23.4892809Z 2025-08-20 03:32:23.489 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:32:23.5016412Z 2025-08-20 03:32:23.500 +00:00 [ERR] Connection id "0HNEVJ629NE9V", Request id "0HNEVJ629NE9V:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:32:23.5069744Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:32:23.5070032Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:32:23.5070068Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:23.5070095Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:23.5070129Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:32:23.5070164Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:23.5070273Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:32:23.5070303Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:23.5070330Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:32:23.5070357Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:32:23.5070395Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:32:23.5070423Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:32:23.5070451Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:23.5070481Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:23.5070510Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:32:23.5070562Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:32:23.5070589Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:32:23.5070615Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:23.5070641Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:23.5070673Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:32:23.5070700Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:32:23.5328352Z 2025-08-20 03:32:23.520 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 104.8391ms
2025-08-20T03:32:27.3439018Z 2025-08-20 03:32:27.336 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:32:27.4020443Z 2025-08-20 03:32:27.400 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 63.8132ms
2025-08-20T03:32:27.4112521Z 2025-08-20 03:32:27.405 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:32:42.4003169Z 2025-08-20 03:32:42.399 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:32:42.4186522Z 2025-08-20 03:32:42.418 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:32:42.4893120Z 2025-08-20 03:32:42.488 +00:00 [INF] Starting configuration status health check
2025-08-20T03:32:43.5321266Z 2025-08-20 03:32:43.531 +00:00 [INF] All configurations are valid
2025-08-20T03:32:46.8210251Z 2025-08-20 03:32:46.820 +00:00 [ERR] Health check database with status Unhealthy completed after 3910.5967ms with message 'Database connection failed'
2025-08-20T03:32:46.8322730Z 2025-08-20 03:32:46.820 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 3911.442ms with message 'Event Store connection failed'
2025-08-20T03:32:46.8364268Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:32:46.8365948Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:32:46.8366044Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:32:46.8367246Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:32:46.8367333Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:32:46.8368101Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:32:46.8368176Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:32:46.8368713Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:32:46.8368780Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:32:46.8368810Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:32:46.8369522Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:32:46.8369863Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:32:46.8370576Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:32:46.8371256Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:32:46.8372035Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:32:46.8563764Z 2025-08-20 03:32:46.856 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:32:46.8765791Z 2025-08-20 03:32:46.868 +00:00 [ERR] Connection id "0HNEVJ8J6F9QC", Request id "0HNEVJ8J6F9QC:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:32:46.8766511Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:32:46.8766567Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:32:46.8766596Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:46.8766625Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:32:46.8766662Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:32:46.8766693Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:32:46.8766723Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:32:46.8766753Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:32:46.8766826Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:32:46.8766856Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:32:46.8766882Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:32:46.8766913Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:32:46.8766941Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:32:46.8766970Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:32:46.8766999Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:32:46.8767028Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:32:46.8767059Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:46.8767414Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:32:46.8767458Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:32:46.8767485Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:32:46.8767515Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:32:46.8767540Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:46.8767566Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:32:46.8767601Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:32:46.8767629Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:32:46.8849148Z 2025-08-20 03:32:46.884 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4485.0572ms
2025-08-20T03:33:14.0808901Z 2025-08-20 03:33:14.080 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:33:14.0957719Z 2025-08-20 03:33:14.087 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:33:14.1211840Z 2025-08-20 03:33:14.113 +00:00 [INF] Starting configuration status health check
2025-08-20T03:33:14.1323037Z 2025-08-20 03:33:14.132 +00:00 [INF] All configurations are valid
2025-08-20T03:33:15.0662868Z 2025-08-20 03:33:15.065 +00:00 [ERR] Health check database with status Unhealthy completed after 950.0726ms with message 'Database connection failed'
2025-08-20T03:33:15.0716313Z 2025-08-20 03:33:15.066 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 929.6647ms with message 'Event Store connection failed'
2025-08-20T03:33:15.0716551Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:33:15.0716600Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:33:15.0716630Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:33:15.0716656Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:33:15.0716685Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:33:15.0716719Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:33:15.0716754Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:33:15.0716812Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:33:15.0716839Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:33:15.0716866Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:33:15.0716892Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:33:15.0716923Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:33:15.0716955Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:33:15.0716987Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:33:15.0717024Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:33:15.1056033Z 2025-08-20 03:33:15.105 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:33:15.1292925Z 2025-08-20 03:33:15.115 +00:00 [ERR] Connection id "0HNEVJ8J6F9QC", Request id "0HNEVJ8J6F9QC:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:33:15.1296190Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:33:15.1296995Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:33:15.1297072Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:33:15.1297590Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:33:15.1298122Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:33:15.1298277Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:33:15.1298824Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:33:15.1298892Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:33:15.1299371Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:33:15.1299975Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:33:15.1300047Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:33:15.1300546Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:33:15.1300646Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:33:15.1301134Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:33:15.1301246Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:33:15.1301782Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:33:15.1301857Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:33:15.1302344Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:33:15.1302411Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:33:15.1302923Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:33:15.1303002Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:33:15.1303489Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:33:15.1303556Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:33:15.1304122Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:33:15.1304708Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:33:15.1558589Z 2025-08-20 03:33:15.155 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 1075.2932ms
2025-08-20T03:33:19.3118815Z    _____                               
2025-08-20T03:33:19.3120636Z   /  _  \ __________ _________   ____  
2025-08-20T03:33:19.3120713Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:33:19.3120806Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:33:19.3120835Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:33:19.3120873Z         \/      \/                  \/ 
2025-08-20T03:33:19.3120903Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:33:19.3120929Z 
2025-08-20T03:33:19.3120965Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:33:19.3121014Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:33:19.3121046Z ASP .NETCore Version: 8.0.18
2025-08-20T03:33:19.3121076Z Note: Any data outside '/home' is not persisted
2025-08-20T03:33:22.1139396Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:33:22.1290372Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:33:22.1542973Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:33:35.3708009Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:33:35.4194419Z 4 added, 0 removed; done.
2025-08-20T03:33:35.4257940Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:33:35.4354982Z done.
2025-08-20T03:33:35.4795429Z CA certificates copied and updated successfully.
2025-08-20T03:33:35.9048625Z Starting periodic command scheduler: cron.
2025-08-20T03:33:35.9286807Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:33:36.1200158Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:33:36.1200750Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:33:36.1200812Z Build Operation ID: a37c28c6-e406-43de-b454-25407a92b09f
2025-08-20T03:33:37.1270467Z 
2025-08-20T03:33:37.1270827Z Agent extension 
2025-08-20T03:33:37.1270868Z Before if loop >> DotNet Runtime 
2025-08-20T03:33:37.1270903Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:33:37.1270936Z Trying to find the startup DLL name...
2025-08-20T03:33:37.1270966Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:33:37.1271024Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:33:39.9965135Z 2025-08-20 03:33:39.713 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:33:40.7613329Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:33:43.0213682Z 2025-08-20 03:33:42.947 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:33:43.0214400Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:33:43.0214465Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:33:43.0214505Z    at System.Uri..ctor(String uriString)
2025-08-20T03:33:43.0214546Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:33:43.0214625Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:33:43.0214669Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:33:43.2277277Z 2025-08-20 03:33:43.223 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:33:43.3083979Z 2025-08-20 03:33:43.304 +00:00 [INF] Starting configuration validation...
2025-08-20T03:33:43.3454865Z 2025-08-20 03:33:43.345 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:33:43.3455789Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:33:43.3455839Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:33:43.3455870Z    at System.Uri..ctor(String uriString)
2025-08-20T03:33:43.3455917Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:33:43.3456039Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:33:43.3456083Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:33:43.3846750Z 2025-08-20 03:33:43.381 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:33:43.3847515Z 2025-08-20 03:33:43.383 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:33:43.5595309Z 2025-08-20 03:33:43.558 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:33:44.5133837Z 2025-08-20 03:33:44.513 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:33:44.6141090Z 2025-08-20 03:33:44.612 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:33:45.3478357Z 2025-08-20 03:33:45.347 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:33:45.3491090Z 2025-08-20 03:33:45.348 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:33:45.3559922Z 2025-08-20 03:33:45.355 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:33:45.3566806Z 2025-08-20 03:33:45.356 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:33:46.3998218Z 2025-08-20 03:33:46.379 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.7:8080/robots933456.txt - null null
2025-08-20T03:33:46.5262645Z 2025-08-20 03:33:46.525 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:33:46.9906727Z 2025-08-20 03:33:46.937 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.7:8080/robots933456.txt - 404 0 null 629.0664ms
2025-08-20T03:33:47.0592636Z 2025-08-20 03:33:47.042 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.7:8080/robots933456.txt, Response status code: 404
2025-08-20T03:33:47.1802137Z 2025-08-20 03:33:47.165 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:33:47.2023801Z 2025-08-20 03:33:47.201 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:33:47.2108074Z 2025-08-20 03:33:47.209 +00:00 [INF] Starting configuration status health check
2025-08-20T03:33:47.2287121Z 2025-08-20 03:33:47.223 +00:00 [INF] All configurations are valid
2025-08-20T03:33:47.2507937Z 2025-08-20 03:33:47.247 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.3919ms with message 'Event Store connection failed'
2025-08-20T03:33:47.2508267Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:33:47.2508312Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:33:47.2508339Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:33:47.2508436Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:33:47.2508466Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:33:47.2508497Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:33:47.2508523Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:33:47.2508547Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:33:47.2508573Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:33:47.2508599Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:33:47.2508623Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:33:47.2508654Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:33:47.2508705Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:33:47.2508738Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:33:47.2508773Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:33:47.2509026Z 2025-08-20 03:33:47.250 +00:00 [ERR] Health check database with status Unhealthy completed after 11.8808ms with message 'Database connection failed'
2025-08-20T03:33:47.2989553Z 2025-08-20 03:33:47.298 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:33:47.3152547Z 2025-08-20 03:33:47.307 +00:00 [ERR] Connection id "0HNEVJ8J6F9QC", Request id "0HNEVJ8J6F9QC:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:33:47.3153491Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:33:47.3154140Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:33:47.3154228Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:33:47.3154722Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:33:47.3363630Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:33:47.3364153Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:33:47.3364193Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:33:47.3364227Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:33:47.3364302Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:33:47.3364333Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:33:47.3364360Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:33:47.3364388Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:33:47.3364417Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:33:47.3364444Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:33:47.3364475Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:33:47.3364503Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:33:47.3364532Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:33:47.3364582Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:33:47.3364610Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:33:47.3364636Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:33:47.3364662Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:33:47.3364694Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:33:47.3364722Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:33:47.3664690Z 2025-08-20 03:33:47.354 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 188.2189ms
2025-08-20T03:33:55.3906697Z 2025-08-20 03:33:55.386 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:33:55.4086373Z 2025-08-20 03:33:55.408 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 22.293ms
2025-08-20T03:33:55.4097332Z 2025-08-20 03:33:55.409 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:34:13.8054066Z 2025-08-20 03:34:13.804 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:34:13.8230508Z 2025-08-20 03:34:13.822 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:34:13.8595879Z 2025-08-20 03:34:13.859 +00:00 [INF] Starting configuration status health check
2025-08-20T03:34:14.8379373Z 2025-08-20 03:34:14.833 +00:00 [INF] All configurations are valid
2025-08-20T03:34:16.2864155Z 2025-08-20 03:34:16.271 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1876.0617ms with message 'Event Store connection failed'
2025-08-20T03:34:16.2864791Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:34:16.2865155Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:34:16.2865191Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:34:16.2865217Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:34:16.2865246Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:34:16.2865277Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:34:16.2865317Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:34:16.2865475Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:34:16.2865505Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:34:16.2865532Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:34:16.2865594Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:34:16.2865627Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:34:16.2892233Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:34:16.2892440Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:34:16.2892500Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:34:18.4629306Z 2025-08-20 03:34:18.462 +00:00 [ERR] Health check database with status Unhealthy completed after 4101.7414ms with message 'Database connection failed'
2025-08-20T03:34:18.4737189Z 2025-08-20 03:34:18.473 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:34:19.2555423Z 2025-08-20 03:34:18.489 +00:00 [ERR] Connection id "0HNEVJ9F9TKUD", Request id "0HNEVJ9F9TKUD:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:34:19.2555686Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:34:19.2555725Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:34:19.2555753Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:19.2555881Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:19.2555921Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:34:19.2555951Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:34:19.2555980Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:34:19.2556009Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:19.2556039Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:34:19.2556066Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:34:19.2556092Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:34:19.2556121Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:34:19.2556181Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:34:19.2556210Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:34:19.2556239Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:34:19.2556266Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:34:19.2556308Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:19.2556338Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:19.2556368Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:34:19.2556394Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:34:19.2556451Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:34:19.2556477Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:19.2556502Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:19.2556533Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:34:19.2556561Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:34:19.2556590Z 2025-08-20 03:34:18.499 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4695.1144ms
2025-08-20T03:34:35.4751626Z 2025-08-20 03:34:35.474 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:34:35.4769798Z 2025-08-20 03:34:35.476 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:34:35.4931290Z 2025-08-20 03:34:35.492 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:34:35.4974848Z 2025-08-20 03:34:35.497 +00:00 [INF] Starting configuration status health check
2025-08-20T03:34:35.5021042Z 2025-08-20 03:34:35.501 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:34:35.5131722Z 2025-08-20 03:34:35.512 +00:00 [INF] All configurations are valid
2025-08-20T03:34:35.5341056Z 2025-08-20 03:34:35.533 +00:00 [INF] Starting configuration status health check
2025-08-20T03:34:35.5389920Z 2025-08-20 03:34:35.538 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:34:35.5488694Z 2025-08-20 03:34:35.548 +00:00 [INF] All configurations are valid
2025-08-20T03:34:35.5501582Z 2025-08-20 03:34:35.549 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 10.5526ms
2025-08-20T03:34:35.5572393Z 2025-08-20 03:34:35.555 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:34:35.7634211Z 2025-08-20 03:34:35.762 +00:00 [ERR] Health check database with status Unhealthy completed after 186.8989ms with message 'Database connection failed'
2025-08-20T03:34:35.7653946Z 2025-08-20 03:34:35.764 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 260.1374ms with message 'Event Store connection failed'
2025-08-20T03:34:35.7738836Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:34:35.7794655Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:34:35.7795123Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:34:35.7803031Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:34:35.7803297Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:34:35.7813071Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:34:35.7813278Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:34:35.7819161Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:34:35.7819404Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:34:35.7819481Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:34:35.7824283Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:34:35.7824975Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:34:35.7923265Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:34:35.7923612Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:34:35.7923657Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:34:35.7923694Z 2025-08-20 03:34:35.769 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:34:35.7999859Z 2025-08-20 03:34:35.773 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 264.7682ms with message 'Event Store connection failed'
2025-08-20T03:34:35.8000162Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:34:35.8000198Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:34:35.8000226Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:34:35.8000251Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:34:35.8000279Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:34:35.8000310Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:34:35.8000335Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:34:35.8000361Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:34:35.8077210Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:34:35.8077771Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:34:35.8077809Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:34:35.8077844Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:34:35.8077874Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:34:35.8077905Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:34:35.8077939Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:34:35.8077969Z 2025-08-20 03:34:35.762 +00:00 [ERR] Health check database with status Unhealthy completed after 149.2811ms with message 'Database connection failed'
2025-08-20T03:34:35.8077993Z 2025-08-20 03:34:35.799 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:34:35.8078716Z 2025-08-20 03:34:35.800 +00:00 [ERR] Connection id "0HNEVJ9F9TKUD", Request id "0HNEVJ9F9TKUD:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:34:35.8078770Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:34:35.8078801Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:34:35.8078829Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:35.8078897Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:35.8078933Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:34:35.8078962Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:35.8078991Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:34:35.8079039Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:35.8079068Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:34:35.8079097Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:34:35.8079123Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:34:35.8079155Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:34:35.8079183Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:34:35.8079211Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:34:35.8079243Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:34:35.8079300Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:34:35.8079330Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:35.8079359Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:35.8079387Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:34:35.8079413Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:34:35.8079440Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:34:35.8079466Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:35.8079491Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:35.8079522Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:34:35.8079570Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:34:35.8267300Z 2025-08-20 03:34:35.826 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 356.7615ms
2025-08-20T03:34:35.8564110Z 2025-08-20 03:34:35.850 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:34:35.8736811Z 2025-08-20 03:34:35.864 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 90.6977ms
2025-08-20T03:34:35.9317530Z 2025-08-20 03:34:35.927 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:34:35.9336790Z 2025-08-20 03:34:35.925 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:34:35.9342195Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:34:35.9345932Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:34:35.9346158Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:35.9420238Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:35.9420518Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:34:35.9420556Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:35.9420588Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:34:35.9420616Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:35.9420707Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:34:35.9420734Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:34:35.9420759Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:34:35.9420789Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:34:35.9420816Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:34:35.9420844Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:34:35.9420872Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:34:35.9420898Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:34:35.9420927Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:35.9420977Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:35.9421006Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:34:35.9421031Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:34:35.9421058Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:34:35.9421083Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:35.9421109Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:35.9421140Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:34:35.9421166Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:34:35.9502450Z 2025-08-20 03:34:35.943 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 450.8527ms
2025-08-20T03:34:36.1041140Z 2025-08-20 03:34:36.103 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:34:36.1177353Z 2025-08-20 03:34:36.117 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 13.8961ms
2025-08-20T03:34:36.1252886Z 2025-08-20 03:34:36.125 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:34:36.3126229Z 2025-08-20 03:34:36.312 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger - null 0
2025-08-20T03:34:36.3273548Z 2025-08-20 03:34:36.326 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger - 404 0 null 14.5176ms
2025-08-20T03:34:36.3422964Z 2025-08-20 03:34:36.334 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger, Response status code: 404
2025-08-20T03:34:36.5024962Z 2025-08-20 03:34:36.502 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:34:36.5095180Z 2025-08-20 03:34:36.509 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 7.2626ms
2025-08-20T03:34:36.5184308Z 2025-08-20 03:34:36.517 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:34:36.6964888Z 2025-08-20 03:34:36.696 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count - null 0
2025-08-20T03:34:36.7036634Z 2025-08-20 03:34:36.703 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count - 404 0 null 7.4228ms
2025-08-20T03:34:36.7046893Z 2025-08-20 03:34:36.704 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count, Response status code: 404
2025-08-20T03:34:36.9009011Z 2025-08-20 03:34:36.900 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search?q= - null 0
2025-08-20T03:34:36.9026125Z 2025-08-20 03:34:36.902 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search?q= - 404 0 null 1.9977ms
2025-08-20T03:34:36.9167076Z 2025-08-20 03:34:36.916 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search, Response status code: 404
2025-08-20T03:34:37.1514451Z 2025-08-20 03:34:37.151 +00:00 [INF] Request starting HTTP/1.1 POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - application/json 126
2025-08-20T03:34:37.1596663Z 2025-08-20 03:34:37.158 +00:00 [INF] Request finished HTTP/1.1 POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 7.2111ms
2025-08-20T03:34:37.1745241Z 2025-08-20 03:34:37.160 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:34:37.3494627Z 2025-08-20 03:34:37.349 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info - null 0
2025-08-20T03:34:37.3578354Z 2025-08-20 03:34:37.356 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info - 404 0 null 7.8428ms
2025-08-20T03:34:37.3650897Z 2025-08-20 03:34:37.364 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info, Response status code: 404
2025-08-20T03:34:37.5657032Z 2025-08-20 03:34:37.565 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config - null 0
2025-08-20T03:34:37.5748588Z 2025-08-20 03:34:37.574 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config - 404 0 null 9.234ms
2025-08-20T03:34:37.5955152Z 2025-08-20 03:34:37.595 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config, Response status code: 404
2025-08-20T03:34:37.7600233Z 2025-08-20 03:34:37.759 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database - null 0
2025-08-20T03:34:37.7667456Z 2025-08-20 03:34:37.766 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database - 404 0 null 6.9011ms
2025-08-20T03:34:37.7735972Z 2025-08-20 03:34:37.773 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database, Response status code: 404
2025-08-20T03:34:38.0554862Z 2025-08-20 03:34:38.055 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:34:38.0839583Z 2025-08-20 03:34:38.082 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 27.6817ms
2025-08-20T03:34:38.0975659Z 2025-08-20 03:34:38.096 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:34:38.3246590Z 2025-08-20 03:34:38.314 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:34:38.3444141Z 2025-08-20 03:34:38.338 +00:00 [INF] CORS policy execution successful.
2025-08-20T03:34:38.3667371Z 2025-08-20 03:34:38.366 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 52.3316ms
2025-08-20T03:34:38.3741005Z 2025-08-20 03:34:38.373 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:34:38.5985512Z 2025-08-20 03:34:38.556 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:34:38.5985984Z 2025-08-20 03:34:38.565 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 8.3344ms
2025-08-20T03:34:38.5986118Z 2025-08-20 03:34:38.591 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:34:39.3652870Z 2025-08-20 03:34:39.360 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:34:39.3807100Z 2025-08-20 03:34:39.380 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 19.7135ms
2025-08-20T03:34:39.4034513Z 2025-08-20 03:34:39.403 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:34:39.5525563Z 2025-08-20 03:34:39.552 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:34:39.5570553Z 2025-08-20 03:34:39.556 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 4.6938ms
2025-08-20T03:34:39.5603628Z 2025-08-20 03:34:39.558 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:34:39.7217920Z 2025-08-20 03:34:39.721 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:34:39.7283546Z 2025-08-20 03:34:39.728 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 7.8843ms
2025-08-20T03:34:39.7500289Z 2025-08-20 03:34:39.743 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:34:39.9234350Z 2025-08-20 03:34:39.922 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:34:39.9401060Z 2025-08-20 03:34:39.937 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 14.9754ms
2025-08-20T03:34:39.9476569Z 2025-08-20 03:34:39.947 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:34:40.1195964Z 2025-08-20 03:34:40.119 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent - null 0
2025-08-20T03:34:40.1254345Z 2025-08-20 03:34:40.125 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent - 404 0 null 6.1219ms
2025-08-20T03:34:40.1262233Z 2025-08-20 03:34:40.126 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent, Response status code: 404
2025-08-20T03:34:40.3131807Z 2025-08-20 03:34:40.312 +00:00 [INF] Request starting HTTP/1.1 PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:34:40.3366444Z 2025-08-20 03:34:40.333 +00:00 [INF] Request finished HTTP/1.1 PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 20.8846ms
2025-08-20T03:34:40.3429504Z 2025-08-20 03:34:40.341 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:34:40.9701594Z 2025-08-20 03:34:40.968 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:34:40.9851980Z 2025-08-20 03:34:40.984 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:34:40.9971998Z 2025-08-20 03:34:40.996 +00:00 [ERR] Health check database with status Unhealthy completed after 1.9716ms with message 'Database connection failed'
2025-08-20T03:34:41.0096741Z 2025-08-20 03:34:40.997 +00:00 [INF] Starting configuration status health check
2025-08-20T03:34:41.0250789Z 2025-08-20 03:34:41.023 +00:00 [INF] All configurations are valid
2025-08-20T03:34:41.0272019Z 2025-08-20 03:34:41.026 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.1182ms with message 'Event Store connection failed'
2025-08-20T03:34:41.0272150Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:34:41.0273658Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:34:41.0273792Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:34:41.0274354Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:34:41.0274432Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:34:41.0274933Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:34:41.0275002Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:34:41.0275474Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:34:41.0275543Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:34:41.0275571Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:34:41.0276096Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:34:41.0276172Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:34:41.0276650Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:34:41.0277174Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:34:41.0277707Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:34:41.0394552Z 2025-08-20 03:34:41.039 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:34:41.0427260Z 2025-08-20 03:34:41.040 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000014": An unhandled exception was thrown by the application.
2025-08-20T03:34:41.0428609Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:34:41.0429172Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:34:41.0429244Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:41.0435090Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:41.0435269Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:34:41.0435303Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:41.0435332Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:34:41.0435403Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:41.0435433Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:34:41.0435459Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:34:41.0435487Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:34:41.0435514Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:34:41.0435542Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:34:41.0435569Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:34:41.0435598Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:41.0435627Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:41.0435679Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:34:41.0435707Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:34:41.0435735Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:34:41.0435761Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:41.0435785Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:41.0435821Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:34:41.0435849Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:34:41.0710228Z 2025-08-20 03:34:41.053 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 85.0591ms
2025-08-20T03:34:46.1137162Z 2025-08-20 03:34:46.112 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:34:46.8371811Z 2025-08-20 03:34:46.121 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:34:46.8372066Z 2025-08-20 03:34:46.128 +00:00 [INF] Starting configuration status health check
2025-08-20T03:34:46.8372132Z 2025-08-20 03:34:46.129 +00:00 [INF] All configurations are valid
2025-08-20T03:34:46.8372162Z 2025-08-20 03:34:46.136 +00:00 [ERR] Health check database with status Unhealthy completed after 7.0465ms with message 'Database connection failed'
2025-08-20T03:34:46.8372191Z 2025-08-20 03:34:46.130 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.5702ms with message 'Event Store connection failed'
2025-08-20T03:34:46.8372217Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:34:46.8372248Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:34:46.8372274Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:34:46.8372299Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:34:46.8372327Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:34:46.8372357Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:34:46.8372404Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:34:46.8372429Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:34:46.8372453Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:34:46.8372479Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:34:46.8372504Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:34:46.8372534Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:34:46.8372563Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:34:46.8372593Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:34:46.8372661Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:34:46.8372707Z 2025-08-20 03:34:46.143 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:34:46.8372736Z 2025-08-20 03:34:46.144 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000015": An unhandled exception was thrown by the application.
2025-08-20T03:34:46.8372771Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:34:46.8372801Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:34:46.8372828Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:46.8372855Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:46.8372889Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:34:46.8372916Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:46.8372946Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:34:46.8373191Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:46.8373227Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:34:46.8373255Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:34:46.8373281Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:34:46.8373309Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:34:46.8373337Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:34:46.8373363Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:34:46.8373393Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:46.8373445Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:46.8373475Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:34:46.8373501Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:34:46.8373528Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:34:46.8373554Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:46.8373579Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:46.8373610Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:34:46.8373638Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:34:46.8373666Z 2025-08-20 03:34:46.146 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 34.6086ms
2025-08-20T03:34:48.8795969Z 2025-08-20 03:34:48.879 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:34:48.8883431Z 2025-08-20 03:34:48.887 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:34:48.8950196Z 2025-08-20 03:34:48.894 +00:00 [INF] Starting configuration status health check
2025-08-20T03:34:48.8971650Z 2025-08-20 03:34:48.896 +00:00 [INF] All configurations are valid
2025-08-20T03:34:48.9053759Z 2025-08-20 03:34:48.905 +00:00 [ERR] Health check database with status Unhealthy completed after 2.1653ms with message 'Database connection failed'
2025-08-20T03:34:48.9177608Z 2025-08-20 03:34:48.916 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 11.0823ms with message 'Event Store connection failed'
2025-08-20T03:34:48.9177923Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:34:48.9178051Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:34:48.9178085Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:34:48.9178110Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:34:48.9178138Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:34:48.9178170Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:34:48.9178196Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:34:48.9178220Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:34:48.9178245Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:34:48.9178271Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:34:48.9178300Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:34:48.9178355Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:34:48.9178385Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:34:48.9178416Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:34:48.9178450Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:34:48.9217672Z 2025-08-20 03:34:48.921 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:34:48.9259794Z 2025-08-20 03:34:48.924 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000016": An unhandled exception was thrown by the application.
2025-08-20T03:34:48.9259989Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:34:48.9260106Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:34:48.9260135Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:48.9260162Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:48.9260197Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:34:48.9260226Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:48.9260255Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:34:48.9260284Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:48.9260311Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:34:48.9260339Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:34:48.9260392Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:34:48.9260420Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:34:48.9260448Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:34:48.9260474Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:34:48.9260504Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:48.9260533Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:48.9260562Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:34:48.9260589Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:34:48.9260638Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:34:48.9260665Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:48.9260690Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:48.9260722Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:34:48.9260750Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:34:48.9324121Z 2025-08-20 03:34:48.930 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 51.4367ms
2025-08-20T03:34:51.1744347Z 2025-08-20 03:34:51.174 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:34:51.1818120Z 2025-08-20 03:34:51.181 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:34:51.1971958Z 2025-08-20 03:34:51.196 +00:00 [INF] Starting configuration status health check
2025-08-20T03:34:51.2108970Z 2025-08-20 03:34:51.207 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1866ms with message 'Database connection failed'
2025-08-20T03:34:51.2109626Z 2025-08-20 03:34:51.205 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 9.1883ms with message 'Event Store connection failed'
2025-08-20T03:34:51.2109662Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:34:51.2109693Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:34:51.2109744Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:34:51.2109770Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:34:51.2109805Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:34:51.2109838Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:34:51.2109954Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:34:51.2109981Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:34:51.2110006Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:34:51.2110033Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:34:51.2110059Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:34:51.2110088Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:34:51.2110119Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:34:51.2110150Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:34:51.2110184Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:34:51.2230159Z 2025-08-20 03:34:51.222 +00:00 [INF] All configurations are valid
2025-08-20T03:34:51.2474739Z 2025-08-20 03:34:51.247 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:34:51.2568311Z 2025-08-20 03:34:51.255 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000017": An unhandled exception was thrown by the application.
2025-08-20T03:34:51.2651417Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:34:51.2657610Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:34:51.2657817Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:51.2661287Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:51.2664911Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:34:51.2665083Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:51.2668684Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:34:51.2668861Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:51.2674302Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:34:51.2677805Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:34:51.2677967Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:34:51.2741979Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:34:51.2742248Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:34:51.2742283Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:34:51.2742315Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:51.2742344Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:51.2742374Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:34:51.2742403Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:34:51.2742433Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:34:51.2742489Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:51.2742515Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:51.2742549Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:34:51.2742576Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:34:51.2941993Z 2025-08-20 03:34:51.289 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 115.6461ms
2025-08-20T03:34:56.3166422Z 2025-08-20 03:34:56.316 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:34:56.3232216Z 2025-08-20 03:34:56.322 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:34:56.3307652Z 2025-08-20 03:34:56.330 +00:00 [INF] Starting configuration status health check
2025-08-20T03:34:56.3475846Z 2025-08-20 03:34:56.347 +00:00 [INF] All configurations are valid
2025-08-20T03:34:56.3554095Z 2025-08-20 03:34:56.354 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 13.9977ms with message 'Event Store connection failed'
2025-08-20T03:34:56.3554499Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:34:56.3563080Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:34:56.3563216Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:34:56.3563248Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:34:56.3563277Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:34:56.3563310Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:34:56.3563377Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:34:56.3563404Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:34:56.3563430Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:34:56.3563456Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:34:56.3563481Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:34:56.3563511Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:34:56.3563540Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:34:56.3563841Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:34:56.3563882Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:34:56.3713001Z 2025-08-20 03:34:56.361 +00:00 [ERR] Health check database with status Unhealthy completed after 29.2178ms with message 'Database connection failed'
2025-08-20T03:34:56.3713350Z 2025-08-20 03:34:56.370 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:34:56.3791965Z 2025-08-20 03:34:56.376 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000018": An unhandled exception was thrown by the application.
2025-08-20T03:34:56.3806643Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:34:56.3815881Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:34:56.3816089Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:56.3895798Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:34:56.3896078Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:34:56.3896112Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:56.3896143Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:34:56.3896171Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:34:56.3896203Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:34:56.3896232Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:34:56.3896258Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:34:56.3896287Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:34:56.3896315Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:34:56.3896364Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:34:56.3896398Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:56.3896426Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:34:56.3896455Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:34:56.3896481Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:34:56.3896508Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:34:56.3896534Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:56.3896559Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:34:56.3896611Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:34:56.3896640Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:34:56.4061026Z 2025-08-20 03:34:56.400 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 92.3808ms
2025-08-20T03:35:01.4368590Z 2025-08-20 03:35:01.436 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:02.3546634Z 2025-08-20 03:35:01.442 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:02.3546918Z 2025-08-20 03:35:01.454 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:02.3546953Z 2025-08-20 03:35:01.455 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1484ms with message 'Database connection failed'
2025-08-20T03:35:02.3547012Z 2025-08-20 03:35:01.476 +00:00 [INF] All configurations are valid
2025-08-20T03:35:02.3547041Z 2025-08-20 03:35:01.487 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 37.2453ms with message 'Event Store connection failed'
2025-08-20T03:35:02.3547067Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:02.3547097Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:02.3547124Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:02.3547149Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:02.3547176Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:02.3547208Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:02.3547233Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:02.3547282Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:02.3547307Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:02.3547332Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:02.3547358Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:02.3547388Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:02.3547417Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:02.3547447Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:02.3547481Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:02.3547505Z 2025-08-20 03:35:01.515 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:02.3547557Z 2025-08-20 03:35:01.526 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000019": An unhandled exception was thrown by the application.
2025-08-20T03:35:02.3547591Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:02.3547622Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:02.3547649Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:02.3547675Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:02.3547710Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:02.3547738Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:02.3547766Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:02.3548005Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:02.3548042Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:35:02.3548070Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:02.3548098Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:35:02.3548125Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:02.3548153Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:02.3548180Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:02.3548208Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:02.3548237Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:02.3548314Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:02.3548342Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:02.3548370Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:02.3548395Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:02.3548421Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:02.3548452Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:02.3548479Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:02.3548509Z 2025-08-20 03:35:01.545 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 111.4273ms
2025-08-20T03:35:06.5783726Z 2025-08-20 03:35:06.578 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:06.5835035Z 2025-08-20 03:35:06.583 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:06.5881051Z 2025-08-20 03:35:06.584 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:06.5881470Z 2025-08-20 03:35:06.587 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2.2197ms with message 'Event Store connection failed'
2025-08-20T03:35:06.5881505Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:06.5881535Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:06.5881560Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:06.5881586Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:06.5881620Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:06.5881705Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:06.5881733Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:06.5881757Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:06.5881782Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:06.5881808Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:06.5881832Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:06.5881862Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:06.5881891Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:06.5882382Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:06.5882455Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:06.5911720Z 2025-08-20 03:35:06.588 +00:00 [INF] All configurations are valid
2025-08-20T03:35:06.5989339Z 2025-08-20 03:35:06.594 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1736ms with message 'Database connection failed'
2025-08-20T03:35:06.6056537Z 2025-08-20 03:35:06.600 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:06.6079847Z 2025-08-20 03:35:06.607 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000001A": An unhandled exception was thrown by the application.
2025-08-20T03:35:06.6080436Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:06.6080491Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:06.6080520Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:06.6080555Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:06.6080590Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:06.6080663Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:06.6080693Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:06.6080721Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:06.6080750Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:35:06.6080778Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:06.6080807Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:35:06.6080834Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:06.6080862Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:06.6080891Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:06.6080944Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:06.6080973Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:06.6081003Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:06.6081029Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:06.6081056Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:06.6081082Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:06.6081107Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:06.6081141Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:06.6081185Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:06.6178179Z 2025-08-20 03:35:06.617 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 39.311ms
2025-08-20T03:35:11.6300065Z 2025-08-20 03:35:11.629 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:11.6360048Z 2025-08-20 03:35:11.635 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:11.6424312Z 2025-08-20 03:35:11.638 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0519ms with message 'Event Store connection failed'
2025-08-20T03:35:11.6424622Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:11.6524239Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:11.6524750Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:11.6524855Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:11.6524885Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:11.6524919Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:11.6524945Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:11.6524969Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:11.6524995Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:11.6525020Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:11.6525047Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:11.6525077Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:11.6525134Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:11.6553087Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:11.6553299Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:11.6553328Z 2025-08-20 03:35:11.642 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:11.6553571Z 2025-08-20 03:35:11.653 +00:00 [INF] All configurations are valid
2025-08-20T03:35:11.6560221Z 2025-08-20 03:35:11.655 +00:00 [ERR] Health check database with status Unhealthy completed after 10.6069ms with message 'Database connection failed'
2025-08-20T03:35:11.6724154Z 2025-08-20 03:35:11.664 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:11.6804785Z 2025-08-20 03:35:11.673 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000001B": An unhandled exception was thrown by the application.
2025-08-20T03:35:11.6815554Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:11.6825563Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:11.6825766Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:11.6893169Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:11.6901590Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:11.6901804Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:11.6914600Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:11.6914885Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:11.6982271Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:35:11.6989845Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:11.6990102Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:35:11.7000114Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:11.7000315Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:11.7010764Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:11.7011005Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:11.7102812Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:11.7103136Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:11.7103177Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:11.7103240Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:11.7103268Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:11.7103293Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:11.7103326Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:11.7103355Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:11.7179638Z 2025-08-20 03:35:11.717 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 87.8443ms
2025-08-20T03:35:16.7265622Z 2025-08-20 03:35:16.726 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:16.7520438Z 2025-08-20 03:35:16.751 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:16.7549394Z 2025-08-20 03:35:16.754 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:16.7628777Z 2025-08-20 03:35:16.762 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.2818ms with message 'Event Store connection failed'
2025-08-20T03:35:16.7629204Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:16.7862802Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:16.7863245Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:16.7863279Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:16.7863310Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:16.7863346Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:16.7863451Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:16.7863477Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:16.7863503Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:16.7863528Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:16.7863554Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:16.7863689Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:16.7863719Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:16.7863752Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:16.7863786Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:16.8026377Z 2025-08-20 03:35:16.770 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0823ms with message 'Database connection failed'
2025-08-20T03:35:16.8055452Z 2025-08-20 03:35:16.779 +00:00 [INF] All configurations are valid
2025-08-20T03:35:16.8132465Z 2025-08-20 03:35:16.804 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:16.8132662Z 2025-08-20 03:35:16.811 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000001C": An unhandled exception was thrown by the application.
2025-08-20T03:35:16.8132709Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:16.8132740Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:16.8132769Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:16.8132795Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:16.8132907Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:16.8132940Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:16.8132969Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:16.8132997Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:16.8133026Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:35:16.8133052Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:16.8133081Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:35:16.8133108Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:16.8133136Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:16.8133191Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:16.8133221Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:16.8133251Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:16.8133280Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:16.8133306Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:16.8133335Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:16.8133361Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:16.8133386Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:16.8133419Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:16.8133480Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:16.8207193Z 2025-08-20 03:35:16.819 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 93.8772ms
2025-08-20T03:35:21.8739803Z 2025-08-20 03:35:21.873 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:21.8914814Z 2025-08-20 03:35:21.891 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:21.9021610Z 2025-08-20 03:35:21.897 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:21.9048088Z 2025-08-20 03:35:21.904 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0885ms with message 'Event Store connection failed'
2025-08-20T03:35:21.9048247Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:21.9110501Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:21.9110831Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:21.9168885Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:21.9178812Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:21.9197615Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:21.9197842Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:21.9249509Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:21.9249796Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:21.9249829Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:21.9267893Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:21.9268139Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:21.9322697Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:21.9322928Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:21.9322971Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:21.9323001Z 2025-08-20 03:35:21.910 +00:00 [INF] All configurations are valid
2025-08-20T03:35:21.9400461Z 2025-08-20 03:35:21.939 +00:00 [ERR] Health check database with status Unhealthy completed after 6.4764ms with message 'Database connection failed'
2025-08-20T03:35:21.9481896Z 2025-08-20 03:35:21.948 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:21.9550086Z 2025-08-20 03:35:21.950 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000001D": An unhandled exception was thrown by the application.
2025-08-20T03:35:21.9555081Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:21.9555209Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:21.9555247Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:21.9555278Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:21.9558941Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:21.9559044Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:21.9559077Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:21.9559105Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:21.9559134Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:35:21.9559161Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:21.9559189Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:35:21.9559217Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:21.9559244Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:21.9559293Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:21.9559323Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:21.9559352Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:21.9559476Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:21.9559502Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:21.9559529Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:21.9559555Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:21.9559580Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:21.9559611Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:21.9559748Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:21.9720099Z 2025-08-20 03:35:21.971 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 98.2377ms
2025-08-20T03:35:26.8407514Z 2025-08-20 03:35:26.840 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:35:26.8452947Z 2025-08-20 03:35:26.845 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 4.8234ms
2025-08-20T03:35:26.8470897Z 2025-08-20 03:35:26.846 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:35:26.9881330Z 2025-08-20 03:35:26.987 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:26.9891795Z 2025-08-20 03:35:26.988 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:26.9960904Z 2025-08-20 03:35:26.991 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:26.9961427Z 2025-08-20 03:35:26.992 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0021ms with message 'Database connection failed'
2025-08-20T03:35:26.9973173Z 2025-08-20 03:35:26.997 +00:00 [INF] All configurations are valid
2025-08-20T03:35:27.0066479Z 2025-08-20 03:35:27.005 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14.5025ms with message 'Event Store connection failed'
2025-08-20T03:35:27.0067106Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:27.0067149Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:27.0067178Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:27.0067287Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:27.0067320Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:27.0067354Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:27.0067380Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:27.0067405Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:27.0067430Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:27.0067456Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:27.0067481Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:27.0067511Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:27.0067540Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:27.0067594Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:27.0067628Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:27.0140187Z 2025-08-20 03:35:27.013 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:27.8698113Z 2025-08-20 03:35:27.014 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000001F": An unhandled exception was thrown by the application.
2025-08-20T03:35:27.8698420Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:27.8698458Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:27.8698485Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:27.8698512Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:27.8698547Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:27.8698574Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:27.8698635Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:27.8698663Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:27.8698691Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:35:27.8698719Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:27.8698746Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:27.8698774Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:27.8698802Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:27.8698831Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:27.8698879Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:27.8698909Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:27.8698935Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:27.8698963Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:27.8698988Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:27.8699013Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:27.8699046Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:27.8699073Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:27.8699103Z 2025-08-20 03:35:27.018 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 31.0745ms
2025-08-20T03:35:32.0306512Z 2025-08-20 03:35:32.030 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:32.0332280Z 2025-08-20 03:35:32.033 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:32.0383747Z 2025-08-20 03:35:32.038 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:32.0400621Z 2025-08-20 03:35:32.039 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9356ms with message 'Event Store connection failed'
2025-08-20T03:35:32.0400949Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:32.0400993Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:32.0401026Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:32.0401056Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:32.0401135Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:32.0401168Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:32.0401195Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:32.0401219Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:32.0401243Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:32.0401270Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:32.0401294Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:32.0401324Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:32.0401354Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:32.0401407Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:32.0401442Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:32.0582169Z 2025-08-20 03:35:32.057 +00:00 [ERR] Health check database with status Unhealthy completed after 17.5904ms with message 'Database connection failed'
2025-08-20T03:35:32.0614995Z 2025-08-20 03:35:32.061 +00:00 [INF] All configurations are valid
2025-08-20T03:35:32.0866472Z 2025-08-20 03:35:32.086 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:32.1017704Z 2025-08-20 03:35:32.100 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000020": An unhandled exception was thrown by the application.
2025-08-20T03:35:32.1026542Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:32.1034255Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:32.1034491Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:32.1039431Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:32.1043310Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:32.1043437Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:32.1051870Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:32.1051998Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:32.1052072Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:35:32.1052101Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:32.1052128Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:32.1052157Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:32.1052184Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:32.1052213Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:32.1052243Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:32.1052272Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:32.1052299Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:32.1055731Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:32.1055808Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:32.1056733Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:32.1056769Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:32.1056796Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:32.1209018Z 2025-08-20 03:35:32.120 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 90.1706ms
2025-08-20T03:35:37.1365811Z 2025-08-20 03:35:37.136 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:37.1376554Z 2025-08-20 03:35:37.137 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:37.1429276Z 2025-08-20 03:35:37.142 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:37.1476335Z 2025-08-20 03:35:37.144 +00:00 [ERR] Health check database with status Unhealthy completed after 1.153ms with message 'Database connection failed'
2025-08-20T03:35:37.1492370Z 2025-08-20 03:35:37.148 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 5.2223ms with message 'Event Store connection failed'
2025-08-20T03:35:37.1492599Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:37.1496900Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:37.1497091Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:37.1816394Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:37.1817039Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:37.1817082Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:37.1817109Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:37.1817133Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:37.1817158Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:37.1817183Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:37.1817209Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:37.1817239Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:37.1817269Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:37.1817322Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:37.1817357Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:37.1817382Z 2025-08-20 03:35:37.172 +00:00 [INF] All configurations are valid
2025-08-20T03:35:37.1994886Z 2025-08-20 03:35:37.199 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:37.2068234Z 2025-08-20 03:35:37.200 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000021": An unhandled exception was thrown by the application.
2025-08-20T03:35:37.2074455Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:37.2074591Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:37.2074625Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:37.2074690Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:37.2074725Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:37.2074754Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:37.2074784Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:37.2074811Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:37.2074841Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:35:37.2074868Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:37.2074897Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:37.2074946Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:37.2074973Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:37.2075003Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:37.2075033Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:37.2075061Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:37.2075088Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:37.2075115Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:37.2075142Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:37.2075167Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:37.2075221Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:37.2075249Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:37.2216931Z 2025-08-20 03:35:37.221 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 85.2021ms
2025-08-20T03:35:42.2298324Z 2025-08-20 03:35:42.229 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:42.2327831Z 2025-08-20 03:35:42.232 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:42.2380035Z 2025-08-20 03:35:42.237 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:42.2438651Z 2025-08-20 03:35:42.243 +00:00 [INF] All configurations are valid
2025-08-20T03:35:42.2443478Z 2025-08-20 03:35:42.244 +00:00 [ERR] Health check database with status Unhealthy completed after 9.9419ms with message 'Database connection failed'
2025-08-20T03:35:42.2485238Z 2025-08-20 03:35:42.246 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 12.3492ms with message 'Event Store connection failed'
2025-08-20T03:35:42.2485423Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:42.2485458Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:42.2485488Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:42.2485513Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:42.2485541Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:42.2485575Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:42.2485602Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:42.2485674Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:42.2485701Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:42.2485727Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:42.2485752Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:42.2485782Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:42.2485811Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:42.2485843Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:42.2485878Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:42.2693239Z 2025-08-20 03:35:42.269 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:42.2742140Z 2025-08-20 03:35:42.273 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000022": An unhandled exception was thrown by the application.
2025-08-20T03:35:42.2742592Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:42.2742634Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:42.2742662Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:42.2742688Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:42.2742724Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:42.2742756Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:42.2742843Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:42.2742872Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:42.2742899Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:42.2742926Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:42.2742955Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:42.2742982Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:42.2743012Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:42.2743041Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:42.2743069Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:42.2743120Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:42.2743149Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:42.2743174Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:42.2743201Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:42.2743232Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:42.2743261Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:42.2814882Z 2025-08-20 03:35:42.278 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 49.0184ms
2025-08-20T03:35:47.0029176Z 2025-08-20 03:35:47.002 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:47.0038605Z 2025-08-20 03:35:47.003 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:47.0093024Z 2025-08-20 03:35:47.007 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:47.0121383Z 2025-08-20 03:35:47.010 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2.8972ms with message 'Event Store connection failed'
2025-08-20T03:35:47.0121622Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:47.0121669Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:47.0121698Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:47.0121723Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:47.0121751Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:47.0121820Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:47.0121846Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:47.0121871Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:47.0121896Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:47.0122340Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:47.0122369Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:47.0122398Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:47.0122429Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:47.0122461Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:47.0122522Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:47.0158548Z 2025-08-20 03:35:47.015 +00:00 [INF] All configurations are valid
2025-08-20T03:35:47.0203244Z 2025-08-20 03:35:47.020 +00:00 [ERR] Health check database with status Unhealthy completed after 11.8113ms with message 'Database connection failed'
2025-08-20T03:35:47.0280229Z 2025-08-20 03:35:47.027 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:47.0319879Z 2025-08-20 03:35:47.028 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000023": An unhandled exception was thrown by the application.
2025-08-20T03:35:47.0320285Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:47.0320326Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:47.0320411Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:47.0320440Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:47.0320475Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:47.0320506Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:47.0320535Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:47.0320563Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:47.0320589Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:47.0320616Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:47.0320645Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:47.0320697Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:47.0320727Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:47.0320757Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:47.0320785Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:47.0320812Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:47.0320839Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:47.0320864Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:47.0320890Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:47.0320922Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:47.0320972Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:47.0393452Z 2025-08-20 03:35:47.039 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 36.5767ms
2025-08-20T03:35:47.3277799Z 2025-08-20 03:35:47.327 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:47.3290413Z 2025-08-20 03:35:47.328 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:47.3342120Z 2025-08-20 03:35:47.332 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:47.3342437Z 2025-08-20 03:35:47.333 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9428ms with message 'Database connection failed'
2025-08-20T03:35:47.3342478Z 2025-08-20 03:35:47.333 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7309ms with message 'Event Store connection failed'
2025-08-20T03:35:47.3342558Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:47.3342590Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:47.3342616Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:47.3342640Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:47.3342668Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:47.3342698Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:47.3342723Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:47.3342748Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:47.3342773Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:47.3342798Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:47.3342846Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:47.3342877Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:47.3342907Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:47.3342938Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:47.3342972Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:47.3344037Z 2025-08-20 03:35:47.334 +00:00 [INF] All configurations are valid
2025-08-20T03:35:47.3442363Z 2025-08-20 03:35:47.344 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:47.3512806Z 2025-08-20 03:35:47.345 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000024": An unhandled exception was thrown by the application.
2025-08-20T03:35:47.3513217Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:47.3513256Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:47.3513287Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:47.3513313Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:47.3513348Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:47.3513377Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:47.3513405Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:47.3513432Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:47.3513484Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:47.3513513Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:47.3513542Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:47.3513568Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:47.3513598Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:47.3513628Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:47.3513656Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:47.3513682Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:47.3513710Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:47.3513758Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:47.3513784Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:47.3513815Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:47.3513843Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:47.3583131Z 2025-08-20 03:35:47.353 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 26.0593ms
2025-08-20T03:35:52.3689036Z 2025-08-20 03:35:52.368 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:52.3699110Z 2025-08-20 03:35:52.369 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:52.3811518Z 2025-08-20 03:35:52.380 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:52.3828912Z 2025-08-20 03:35:52.382 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1071ms with message 'Database connection failed'
2025-08-20T03:35:52.3913586Z 2025-08-20 03:35:52.377 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.822ms with message 'Event Store connection failed'
2025-08-20T03:35:52.3913947Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:52.3915985Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:52.3916091Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:52.3916612Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:52.3916689Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:52.3917338Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:52.3917414Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:52.3918296Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:52.3918398Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:52.3918425Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:52.3918452Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:52.3918481Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:52.3918511Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:52.3918610Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:52.3918647Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:52.3948922Z 2025-08-20 03:35:52.393 +00:00 [INF] All configurations are valid
2025-08-20T03:35:52.4092106Z 2025-08-20 03:35:52.409 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:52.4174150Z 2025-08-20 03:35:52.416 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000025": An unhandled exception was thrown by the application.
2025-08-20T03:35:52.4180855Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:52.4235084Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:52.4235245Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:52.4235276Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:52.4235312Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:52.4235343Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:52.4235372Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:52.4235399Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:52.4235427Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:52.4235453Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:52.4235482Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:52.4235534Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:52.4235563Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:52.4235593Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:52.4235622Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:52.4235648Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:52.4235677Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:52.4235702Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:52.4235727Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:52.4235762Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:52.4235812Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:52.4300230Z 2025-08-20 03:35:52.429 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 60.6039ms
2025-08-20T03:35:57.4679847Z 2025-08-20 03:35:57.467 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:35:57.4692244Z 2025-08-20 03:35:57.469 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:35:57.4733016Z 2025-08-20 03:35:57.473 +00:00 [INF] Starting configuration status health check
2025-08-20T03:35:57.4768114Z 2025-08-20 03:35:57.476 +00:00 [INF] All configurations are valid
2025-08-20T03:35:57.4820727Z 2025-08-20 03:35:57.481 +00:00 [ERR] Health check database with status Unhealthy completed after 3.9382ms with message 'Database connection failed'
2025-08-20T03:35:57.4847019Z 2025-08-20 03:35:57.484 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7839ms with message 'Event Store connection failed'
2025-08-20T03:35:57.4847308Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:35:57.4847350Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:35:57.4847421Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:35:57.4847448Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:35:57.4847477Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:35:57.4847508Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:35:57.4847534Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:35:57.4847564Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:35:57.4847590Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:35:57.4847617Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:35:57.4847642Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:35:57.4847695Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:35:57.4847727Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:35:57.4847758Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:35:57.4847793Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:35:57.5024851Z 2025-08-20 03:35:57.502 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:35:57.5089745Z 2025-08-20 03:35:57.505 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000026": An unhandled exception was thrown by the application.
2025-08-20T03:35:57.5101264Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:35:57.5112180Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:35:57.5112382Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:57.5183191Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:35:57.5183458Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:35:57.5183496Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:57.5183526Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:35:57.5183554Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:35:57.5183585Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:35:57.5183677Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:35:57.5183708Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:35:57.5183736Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:35:57.5183765Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:57.5183794Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:35:57.5183823Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:35:57.5183897Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:35:57.5183926Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:35:57.5183952Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:57.5184005Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:35:57.5184038Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:35:57.5184065Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:35:57.5267470Z 2025-08-20 03:35:57.521 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 54.2197ms
2025-08-20T03:36:02.5734755Z 2025-08-20 03:36:02.547 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:36:02.5735122Z 2025-08-20 03:36:02.556 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:36:02.5762767Z 2025-08-20 03:36:02.575 +00:00 [INF] Starting configuration status health check
2025-08-20T03:36:02.5917495Z 2025-08-20 03:36:02.590 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 32.0825ms with message 'Event Store connection failed'
2025-08-20T03:36:02.5918091Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:36:02.5918131Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:36:02.5918157Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:36:02.5918182Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:36:02.5918211Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:36:02.5918241Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:36:02.5918268Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:36:02.5918292Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:36:02.5918317Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:36:02.5918363Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:36:02.5918389Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:36:02.5918419Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:36:02.5918450Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:36:02.5918481Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:36:02.5918516Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:36:02.5931000Z 2025-08-20 03:36:02.592 +00:00 [INF] All configurations are valid
2025-08-20T03:36:02.6074417Z 2025-08-20 03:36:02.603 +00:00 [ERR] Health check database with status Unhealthy completed after 8.7443ms with message 'Database connection failed'
2025-08-20T03:36:02.6123682Z 2025-08-20 03:36:02.611 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:36:02.6229112Z 2025-08-20 03:36:02.619 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000027": An unhandled exception was thrown by the application.
2025-08-20T03:36:02.6229724Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:36:02.6229768Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:36:02.6229796Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:02.6229832Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:02.6229869Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:36:02.6229941Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:02.6230059Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:36:02.6230088Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:02.6230115Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:36:02.6230143Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:36:02.6230171Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:36:02.6230198Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:36:02.6230227Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:02.6230256Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:02.6230305Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:36:02.6230333Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:36:02.6230360Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:36:02.6230386Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:02.6230411Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:02.6230443Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:36:02.6230471Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:36:02.6350206Z 2025-08-20 03:36:02.627 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 80.8019ms
2025-08-20T03:36:07.6314316Z 2025-08-20 03:36:07.631 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:36:07.6326811Z 2025-08-20 03:36:07.632 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:36:07.6366117Z 2025-08-20 03:36:07.636 +00:00 [INF] Starting configuration status health check
2025-08-20T03:36:07.6408828Z 2025-08-20 03:36:07.640 +00:00 [INF] All configurations are valid
2025-08-20T03:36:07.6472116Z 2025-08-20 03:36:07.639 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7797ms with message 'Event Store connection failed'
2025-08-20T03:36:07.6472574Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:36:07.6472620Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:36:07.6472658Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:36:07.6472683Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:36:07.6472785Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:36:07.6472819Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:36:07.6472846Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:36:07.6472871Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:36:07.6472896Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:36:07.6472922Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:36:07.6472947Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:36:07.6472977Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:36:07.6473007Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:36:07.6473064Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:36:07.6473100Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:36:07.6489049Z 2025-08-20 03:36:07.648 +00:00 [ERR] Health check database with status Unhealthy completed after 7.5835ms with message 'Database connection failed'
2025-08-20T03:36:07.6576684Z 2025-08-20 03:36:07.657 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:36:07.6593917Z 2025-08-20 03:36:07.658 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000028": An unhandled exception was thrown by the application.
2025-08-20T03:36:07.6594228Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:36:07.6594270Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:36:07.6594340Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:07.6594369Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:07.6594404Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:36:07.6594432Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:07.6594462Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:36:07.6594490Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:07.6594517Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:36:07.6594545Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:36:07.6594572Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:36:07.6594623Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:36:07.6594654Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:07.6594683Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:07.6594713Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:36:07.6594739Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:36:07.6594766Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:36:07.6594792Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:07.6594817Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:07.6594848Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:36:07.6594898Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:36:07.6727995Z 2025-08-20 03:36:07.665 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 34.4344ms
2025-08-20T03:36:12.6702168Z 2025-08-20 03:36:12.669 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:36:12.6726255Z 2025-08-20 03:36:12.672 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:36:12.6783572Z 2025-08-20 03:36:12.678 +00:00 [INF] Starting configuration status health check
2025-08-20T03:36:12.6888716Z 2025-08-20 03:36:12.687 +00:00 [INF] All configurations are valid
2025-08-20T03:36:12.6901721Z 2025-08-20 03:36:12.688 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 9.2604ms with message 'Event Store connection failed'
2025-08-20T03:36:12.6902157Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:36:12.6902196Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:36:12.6902223Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:36:12.6902248Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:36:12.6902276Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:36:12.6902307Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:36:12.6902333Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:36:12.6902358Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:36:12.6902381Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:36:12.6902437Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:36:12.6902463Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:36:12.6902494Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:36:12.6902523Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:36:12.6902553Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:36:12.6902588Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:36:12.6956324Z 2025-08-20 03:36:12.695 +00:00 [ERR] Health check database with status Unhealthy completed after 14.2405ms with message 'Database connection failed'
2025-08-20T03:36:12.7031069Z 2025-08-20 03:36:12.697 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:36:12.7040242Z 2025-08-20 03:36:12.703 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:00000029": An unhandled exception was thrown by the application.
2025-08-20T03:36:12.7043293Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:36:12.7043421Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:36:12.7043459Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:12.7043490Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:12.7043530Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:36:12.7043561Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:12.7043595Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:36:12.7043842Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:12.7043883Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:36:12.7043916Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:36:12.7043949Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:36:12.7043980Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:36:12.7044048Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:12.7044080Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:12.7044113Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:36:12.7044144Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:36:12.7044205Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:36:12.7044238Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:12.7044267Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:12.7044303Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:36:12.7044337Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:36:12.7130984Z 2025-08-20 03:36:12.712 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 43.7671ms
2025-08-20T03:36:17.7418268Z 2025-08-20 03:36:17.741 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:36:17.7431065Z 2025-08-20 03:36:17.742 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:36:17.7485878Z 2025-08-20 03:36:17.748 +00:00 [INF] Starting configuration status health check
2025-08-20T03:36:17.7555709Z 2025-08-20 03:36:17.752 +00:00 [INF] All configurations are valid
2025-08-20T03:36:17.7557002Z 2025-08-20 03:36:17.753 +00:00 [ERR] Health check database with status Unhealthy completed after 3.3814ms with message 'Database connection failed'
2025-08-20T03:36:17.7582182Z 2025-08-20 03:36:17.757 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8268ms with message 'Event Store connection failed'
2025-08-20T03:36:17.7582480Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:36:17.7582525Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:36:17.7582553Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:36:17.7582578Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:36:17.7582656Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:36:17.7582689Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:36:17.7582714Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:36:17.7582739Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:36:17.7582765Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:36:17.7582791Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:36:17.7582816Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:36:17.7582847Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:36:17.7582877Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:36:17.7582933Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:36:17.7582968Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:36:17.7741548Z 2025-08-20 03:36:17.773 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:36:17.7813033Z 2025-08-20 03:36:17.780 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000002A": An unhandled exception was thrown by the application.
2025-08-20T03:36:17.7813432Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:36:17.7813475Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:36:17.7813503Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:17.7813529Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:17.7813609Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:36:17.7813637Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:17.7813666Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:36:17.7813694Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:17.7813721Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:36:17.7813748Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:36:17.7813777Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:36:17.7813804Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:36:17.7813859Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:17.7813890Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:17.7813919Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:36:17.7813946Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:36:17.7813973Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:36:17.7813999Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:17.7814024Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:17.7814055Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:36:17.7814083Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:36:17.7953076Z 2025-08-20 03:36:17.788 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 47.0897ms
2025-08-20T03:36:22.7987891Z 2025-08-20 03:36:22.798 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:36:22.8021563Z 2025-08-20 03:36:22.801 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:36:22.8102715Z 2025-08-20 03:36:22.804 +00:00 [INF] Starting configuration status health check
2025-08-20T03:36:22.8119001Z 2025-08-20 03:36:22.811 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.8536ms with message 'Event Store connection failed'
2025-08-20T03:36:22.8119444Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:36:22.8119486Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:36:22.8119515Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:36:22.8119587Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:36:22.8119615Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:36:22.8119647Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:36:22.8119671Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:36:22.8119696Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:36:22.8119721Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:36:22.8119746Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:36:22.8119772Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:36:22.8119802Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:36:22.8119854Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:36:22.8119887Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:36:22.8119922Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:36:22.8168970Z 2025-08-20 03:36:22.816 +00:00 [INF] All configurations are valid
2025-08-20T03:36:22.8178380Z 2025-08-20 03:36:22.817 +00:00 [ERR] Health check database with status Unhealthy completed after 12.9084ms with message 'Database connection failed'
2025-08-20T03:36:22.8292811Z 2025-08-20 03:36:22.829 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:36:22.8314043Z 2025-08-20 03:36:22.830 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000002B": An unhandled exception was thrown by the application.
2025-08-20T03:36:22.8314432Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:36:22.8314473Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:36:22.8314501Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:22.8314527Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:22.8314561Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:36:22.8314590Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:22.8314619Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:36:22.8314647Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:22.8314697Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:36:22.8314724Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:36:22.8314753Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:36:22.8314780Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:36:22.8314809Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:22.8314838Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:22.8314866Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:36:22.8314892Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:36:22.8314919Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:36:22.8314963Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:22.8314988Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:22.8315020Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:36:22.8315047Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:36:22.8409982Z 2025-08-20 03:36:22.840 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 41.984ms
2025-08-20T03:36:27.8626179Z 2025-08-20 03:36:27.861 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:36:27.8626849Z 2025-08-20 03:36:27.862 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:36:27.8677720Z 2025-08-20 03:36:27.863 +00:00 [INF] Starting configuration status health check
2025-08-20T03:36:27.8691875Z 2025-08-20 03:36:27.869 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0037ms with message 'Database connection failed'
2025-08-20T03:36:27.8694237Z 2025-08-20 03:36:27.869 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9307ms with message 'Event Store connection failed'
2025-08-20T03:36:27.8694342Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:36:27.8694375Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:36:27.8694403Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:36:27.8694427Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:36:27.8694455Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:36:27.8694489Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:36:27.8694515Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:36:27.8694596Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:36:27.8694620Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:36:27.8694648Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:36:27.8694674Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:36:27.8694703Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:36:27.8694734Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:36:27.8694764Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:36:27.8694799Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:36:27.8761384Z 2025-08-20 03:36:27.875 +00:00 [INF] All configurations are valid
2025-08-20T03:36:27.8918119Z 2025-08-20 03:36:27.891 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:36:27.8954314Z 2025-08-20 03:36:27.892 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000002C": An unhandled exception was thrown by the application.
2025-08-20T03:36:27.8954671Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:36:27.8954711Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:36:27.8954740Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:27.8954776Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:27.8954810Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:36:27.8954900Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:27.8954930Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:36:27.8954958Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:27.8954986Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:36:27.8955013Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:36:27.8955042Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:36:27.8955069Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:36:27.8955098Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:27.8955127Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:27.8955179Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:36:27.8955206Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:36:27.8955234Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:36:27.8955259Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:27.8955285Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:27.8955316Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:36:27.8955344Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:36:27.8991706Z 2025-08-20 03:36:27.897 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 36.6703ms
2025-08-20T03:36:32.9220440Z 2025-08-20 03:36:32.921 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:36:32.9233883Z 2025-08-20 03:36:32.923 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:36:32.9299475Z 2025-08-20 03:36:32.929 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7015ms with message 'Event Store connection failed'
2025-08-20T03:36:32.9300088Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:36:32.9300137Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:36:32.9300175Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:36:32.9300200Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:36:32.9300228Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:36:32.9300334Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:36:32.9300362Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:36:32.9300388Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:36:32.9300413Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:36:32.9300440Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:36:32.9300465Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:36:32.9300495Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:36:32.9300527Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:36:32.9300559Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:36:32.9300617Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:36:32.9358441Z 2025-08-20 03:36:32.932 +00:00 [INF] Starting configuration status health check
2025-08-20T03:36:32.9358724Z 2025-08-20 03:36:32.934 +00:00 [ERR] Health check database with status Unhealthy completed after 9.5696ms with message 'Database connection failed'
2025-08-20T03:36:32.9439554Z 2025-08-20 03:36:32.940 +00:00 [INF] All configurations are valid
2025-08-20T03:36:32.9483623Z 2025-08-20 03:36:32.945 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:36:32.9499508Z 2025-08-20 03:36:32.949 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000002D": An unhandled exception was thrown by the application.
2025-08-20T03:36:32.9501703Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:36:32.9502656Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:36:32.9503048Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:32.9503727Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:32.9504397Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:36:32.9504472Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:32.9505160Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:36:32.9505240Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:32.9505887Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:36:32.9505974Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:36:32.9506692Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:36:32.9507349Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:36:32.9507437Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:32.9508113Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:32.9508200Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:36:32.9508820Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:36:32.9508913Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:36:32.9509612Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:32.9509707Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:32.9510315Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:36:32.9510406Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:36:32.9618349Z 2025-08-20 03:36:32.961 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 40.6547ms
2025-08-20T03:36:47.0429778Z 2025-08-20 03:36:47.042 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:36:47.0812340Z 2025-08-20 03:36:47.076 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:36:47.0826170Z 2025-08-20 03:36:47.082 +00:00 [INF] Starting configuration status health check
2025-08-20T03:36:47.0841476Z 2025-08-20 03:36:47.084 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9818ms with message 'Database connection failed'
2025-08-20T03:36:47.0903140Z 2025-08-20 03:36:47.089 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7759ms with message 'Event Store connection failed'
2025-08-20T03:36:47.0903497Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:36:47.1025497Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:36:47.1025820Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:36:47.1025897Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:36:47.1025929Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:36:47.1025960Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:36:47.1025987Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:36:47.1026012Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:36:47.1026036Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:36:47.1026062Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:36:47.1026086Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:36:47.1026116Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:36:47.1026170Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:36:47.1026201Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:36:47.1026237Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:36:47.1028110Z 2025-08-20 03:36:47.098 +00:00 [INF] All configurations are valid
2025-08-20T03:36:47.1378946Z 2025-08-20 03:36:47.137 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:36:47.1733681Z 2025-08-20 03:36:47.144 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000002E": An unhandled exception was thrown by the application.
2025-08-20T03:36:47.1734786Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:36:47.1734907Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:36:47.1734938Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:47.1734965Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:36:47.1735055Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:36:47.1735084Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:47.1735114Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:36:47.1735141Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:36:47.1735168Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:36:47.1735195Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:36:47.1735255Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:36:47.1735281Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:36:47.1735313Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:47.1735342Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:36:47.1735371Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:36:47.1735396Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:36:47.1735424Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:36:47.1735449Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:47.1735475Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:36:47.1735525Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:36:47.1735554Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:36:47.1735584Z 2025-08-20 03:36:47.165 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 122.9187ms
2025-08-20T03:36:53.7226231Z    _____                               
2025-08-20T03:36:53.7228102Z   /  _  \ __________ _________   ____  
2025-08-20T03:36:53.7228175Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:36:53.7228204Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:36:53.7228242Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:36:53.7228341Z         \/      \/                  \/ 
2025-08-20T03:36:53.7228370Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:36:53.7228400Z 
2025-08-20T03:36:53.7228435Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:36:53.7228468Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:36:53.7228497Z ASP .NETCore Version: 8.0.18
2025-08-20T03:36:53.7228551Z Note: Any data outside '/home' is not persisted
2025-08-20T03:36:55.9073123Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:36:55.9249454Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:36:55.9651756Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:37:03.5619356Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:37:03.6055152Z 4 added, 0 removed; done.
2025-08-20T03:37:03.6055825Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:37:03.6088190Z done.
2025-08-20T03:37:03.6247843Z CA certificates copied and updated successfully.
2025-08-20T03:37:03.8810384Z Starting periodic command scheduler: cron.
2025-08-20T03:37:03.8817949Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:37:03.9628332Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:37:03.9629979Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:37:03.9633511Z Build Operation ID: c532feef-8379-4601-93ec-048980821ca3
2025-08-20T03:37:04.2001489Z 
2025-08-20T03:37:04.2004311Z Agent extension 
2025-08-20T03:37:04.2005253Z Before if loop >> DotNet Runtime 
2025-08-20T03:37:04.2486668Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:37:04.2969145Z Trying to find the startup DLL name...
2025-08-20T03:37:04.2969608Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:37:04.2969656Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:37:06.9971486Z 2025-08-20 03:37:06.826 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:37:07.5253690Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:37:08.2043786Z 2025-08-20 03:37:08.169 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:37:08.2044485Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:37:08.2044533Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:37:08.2044574Z    at System.Uri..ctor(String uriString)
2025-08-20T03:37:08.2044612Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:37:08.2044738Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:37:08.2044780Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:37:08.2223122Z 2025-08-20 03:37:08.222 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:37:08.2731768Z 2025-08-20 03:37:08.272 +00:00 [INF] Starting configuration validation...
2025-08-20T03:37:08.2901048Z 2025-08-20 03:37:08.289 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:37:08.2974319Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:37:08.2974433Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:37:08.2974466Z    at System.Uri..ctor(String uriString)
2025-08-20T03:37:08.2974506Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:37:08.2974547Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:37:08.2974652Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:37:08.3059091Z 2025-08-20 03:37:08.301 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:37:08.3074520Z 2025-08-20 03:37:08.307 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:37:08.3603626Z 2025-08-20 03:37:08.360 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:37:08.9320017Z 2025-08-20 03:37:08.926 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:37:08.9998420Z 2025-08-20 03:37:08.999 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:37:09.3567782Z 2025-08-20 03:37:09.353 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:37:09.3668859Z 2025-08-20 03:37:09.366 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:37:09.3851963Z 2025-08-20 03:37:09.384 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:37:09.4000083Z 2025-08-20 03:37:09.399 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:37:10.7099642Z 2025-08-20 03:37:10.693 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - null null
2025-08-20T03:37:10.9883269Z 2025-08-20 03:37:10.981 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:37:11.5172812Z 2025-08-20 03:37:11.490 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - 404 0 null 939.012ms
2025-08-20T03:37:11.6639800Z 2025-08-20 03:37:11.663 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.2:8080/robots933456.txt, Response status code: 404
endpoint 'Health checks'
2025-08-20T03:37:11.6445893Z 2025-08-20 03:37:11.644 +00:00 [INF] Starting configuration status health check
2025-08-20T03:37:11.6888279Z 2025-08-20 03:37:11.688 +00:00 [INF] All configurations are valid
2025-08-20T03:37:11.7134326Z 2025-08-20 03:37:11.689 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 43.8598ms with message 'Event Store connection failed'
2025-08-20T03:37:11.7134703Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:37:11.7135696Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:37:11.7135784Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:37:11.7136431Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:37:11.7136503Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:37:11.7137353Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:37:11.7137426Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:37:11.7137454Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:37:11.7137478Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:37:11.7137505Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:37:11.7137531Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:37:11.7137561Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:37:11.7137647Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:37:11.7137680Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:37:11.7137715Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:37:11.7238968Z 2025-08-20 03:37:11.723 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2628ms with message 'Database connection failed'
2025-08-20T03:37:11.7675442Z 2025-08-20 03:37:11.763 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:37:11.8000793Z 2025-08-20 03:37:11.788 +00:00 [ERR] Connection id "0HNEVJ9F9TKUE", Request id "0HNEVJ9F9TKUE:0000002F": An unhandled exception was thrown by the application.
2025-08-20T03:37:11.8001123Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:37:11.8001211Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:37:11.8001241Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:37:11.8001267Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:37:11.8001302Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:37:11.8001331Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:37:11.8001360Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:37:11.8001388Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:37:11.8001416Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:37:11.8001442Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:37:11.8001493Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:37:11.8001521Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:37:11.8001551Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:37:11.8001580Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:37:11.8001610Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:37:11.8001638Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:37:11.8001666Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:37:11.8001691Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:37:11.8001715Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:37:11.8001764Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:37:11.8001792Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:37:11.8765451Z 2025-08-20 03:37:11.843 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 217.6296ms
2025-08-20T03:37:21.1073363Z 2025-08-20 03:37:21.106 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:37:21.1365618Z 2025-08-20 03:37:21.123 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 17.3937ms
2025-08-20T03:37:21.1374236Z 2025-08-20 03:37:21.137 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:38:11.5195855Z 2025-08-20 03:38:11.519 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:38:11.5361502Z 2025-08-20 03:38:11.535 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:38:11.5566911Z 2025-08-20 03:38:11.556 +00:00 [INF] Starting configuration status health check
2025-08-20T03:38:11.6778724Z 2025-08-20 03:38:11.677 +00:00 [INF] All configurations are valid
2025-08-20T03:38:13.6739111Z 2025-08-20 03:38:13.658 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1633.6652ms with message 'Event Store connection failed'
2025-08-20T03:38:13.6739473Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:38:13.6739512Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:38:13.6739540Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:38:13.6739654Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:38:13.6739685Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:38:13.6739716Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:38:13.6739741Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:38:13.6739766Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:38:13.6739792Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:38:13.6739818Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:38:13.6739843Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:38:13.6739873Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:38:13.6783841Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:38:13.6783983Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:38:13.6784041Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:38:15.1836433Z 2025-08-20 03:38:15.183 +00:00 [ERR] Health check database with status Unhealthy completed after 3168.8297ms with message 'Database connection failed'
2025-08-20T03:38:15.1921628Z 2025-08-20 03:38:15.192 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:38:15.2119109Z 2025-08-20 03:38:15.203 +00:00 [ERR] Connection id "0HNEVJBC4EVK4", Request id "0HNEVJBC4EVK4:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:38:15.2119562Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:38:15.2119602Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:38:15.2119629Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:38:15.2119657Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:38:15.2119691Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:38:15.2119720Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:38:15.2119748Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:38:15.2119776Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:38:15.2119805Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:38:15.2119859Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:38:15.2119885Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:38:15.2119916Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:38:15.2119943Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:38:15.2119970Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:38:15.2119998Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:38:15.2120025Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:38:15.2120054Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:38:15.2120084Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:38:15.2120133Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:38:15.2120160Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:38:15.2120187Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:38:15.2120212Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:38:15.2120238Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:38:15.2120270Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:38:15.2120298Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:38:15.2138336Z 2025-08-20 03:38:15.213 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 3694.629ms
2025-08-20T03:39:11.4762833Z 2025-08-20 03:39:11.475 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:39:11.4781479Z 2025-08-20 03:39:11.478 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:39:11.4823465Z 2025-08-20 03:39:11.482 +00:00 [INF] Starting configuration status health check
2025-08-20T03:39:11.4933550Z 2025-08-20 03:39:11.488 +00:00 [INF] All configurations are valid
2025-08-20T03:39:11.6888363Z 2025-08-20 03:39:11.687 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 202.5422ms with message 'Event Store connection failed'
2025-08-20T03:39:11.6889093Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:39:11.6889167Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:39:11.6889196Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:39:11.6889304Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:39:11.6889334Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:39:11.6889366Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:39:11.6893429Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:39:11.6893486Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:39:11.6893511Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:39:11.6893538Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:39:11.6893563Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:39:11.6893594Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:39:11.6893729Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:39:11.6893763Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:39:11.6893797Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:39:11.6893826Z 2025-08-20 03:39:11.687 +00:00 [ERR] Health check database with status Unhealthy completed after 192.7872ms with message 'Database connection failed'
2025-08-20T03:39:11.6974114Z 2025-08-20 03:39:11.697 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:39:11.7054505Z 2025-08-20 03:39:11.703 +00:00 [ERR] Connection id "0HNEVJBC4EVK4", Request id "0HNEVJBC4EVK4:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:39:11.7054757Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:39:11.7054792Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:39:11.7054865Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:39:11.7054896Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:39:11.7054930Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:39:11.7054959Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:39:11.7054989Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:39:11.7055017Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:39:11.7055045Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:39:11.7055073Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:39:11.7055126Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:39:11.7055156Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:39:11.7055184Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:39:11.7055210Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:39:11.7055239Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:39:11.7055266Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:39:11.7055295Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:39:11.7055324Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:39:11.7055352Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:39:11.7055395Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:39:11.7055446Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:39:11.7055471Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:39:11.7055497Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:39:11.7055527Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:39:11.7055555Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:39:11.7155456Z 2025-08-20 03:39:11.715 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 239.5366ms
2025-08-20T03:39:53.7521007Z 2025-08-20 03:39:53.751 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:39:53.7752784Z 2025-08-20 03:39:53.762 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:39:53.7877844Z 2025-08-20 03:39:53.787 +00:00 [INF] Starting configuration status health check
2025-08-20T03:39:53.7923640Z 2025-08-20 03:39:53.789 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:39:53.7955427Z 2025-08-20 03:39:53.795 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 6.1417ms
2025-08-20T03:39:53.8038458Z 2025-08-20 03:39:53.803 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:39:53.8049543Z 2025-08-20 03:39:53.804 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.2595ms with message 'Event Store connection failed'
2025-08-20T03:39:53.8049705Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:39:53.8049742Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:39:53.8049768Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:39:53.8049792Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:39:53.8049821Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:39:53.8049852Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:39:53.8049878Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:39:53.8049903Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:39:53.8049927Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:39:53.8049974Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:39:53.8050000Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:39:53.8050030Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:39:53.8050060Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:39:53.8050092Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:39:53.8050128Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:39:53.8061576Z 2025-08-20 03:39:53.806 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:39:53.8232928Z 2025-08-20 03:39:53.823 +00:00 [ERR] Health check database with status Unhealthy completed after 7.6011ms with message 'Database connection failed'
2025-08-20T03:39:53.8298973Z 2025-08-20 03:39:53.824 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:39:53.8328088Z 2025-08-20 03:39:53.832 +00:00 [INF] All configurations are valid
2025-08-20T03:39:53.8342032Z 2025-08-20 03:39:53.834 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:39:53.8397148Z 2025-08-20 03:39:53.839 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.2784ms with message 'Event Store connection failed'
2025-08-20T03:39:53.8397524Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:39:53.8411926Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:39:53.8412053Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:39:53.8412088Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:39:53.8412160Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:39:53.8412191Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:39:53.8412216Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:39:53.8412240Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:39:53.8412265Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:39:53.8412293Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:39:53.8412318Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:39:53.8412348Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:39:53.8412377Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:39:53.8412432Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:39:53.8412467Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:39:53.8423401Z 2025-08-20 03:39:53.835 +00:00 [ERR] Connection id "0HNEVJBC4EVK4", Request id "0HNEVJBC4EVK4:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:39:53.8423596Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:39:53.8423633Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:39:53.8423661Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:39:53.8423687Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:39:53.8423721Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:39:53.8423786Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:39:53.8423816Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:39:53.8423844Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:39:53.8423873Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:39:53.8423900Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:39:53.8423927Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:39:53.8423954Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:39:53.8424006Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:39:53.8424060Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:39:53.8424090Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:39:53.8424120Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:39:53.8424148Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:39:53.8424176Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:39:53.8424203Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:39:53.8424228Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:39:53.8424253Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:39:53.8424285Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:39:53.8424334Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:39:53.8506497Z 2025-08-20 03:39:53.850 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2066ms with message 'Database connection failed'
2025-08-20T03:39:53.8591159Z 2025-08-20 03:39:53.858 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 106.9131ms
2025-08-20T03:39:53.8596759Z 2025-08-20 03:39:53.859 +00:00 [INF] Starting configuration status health check
2025-08-20T03:39:53.8617392Z 2025-08-20 03:39:53.861 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:39:53.8786599Z 2025-08-20 03:39:53.878 +00:00 [INF] All configurations are valid
2025-08-20T03:39:53.8796699Z 2025-08-20 03:39:53.879 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 18.1322ms
2025-08-20T03:39:53.8805827Z 2025-08-20 03:39:53.880 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:39:53.8879182Z 2025-08-20 03:39:53.881 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:39:53.8987834Z 2025-08-20 03:39:53.889 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:39:53.8988387Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:39:53.8988440Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:39:53.8988474Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:39:53.8988507Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:39:53.8988548Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:39:53.8988584Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:39:53.8988713Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:39:53.8988749Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:39:53.8988784Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:39:53.8988816Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:39:53.8988847Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:39:53.8988878Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:39:53.8988911Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:39:53.8988942Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:39:53.8988977Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:39:53.8989038Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:39:53.8989074Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:39:53.8989105Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:39:53.8989137Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:39:53.8989166Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:39:53.8989196Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:39:53.8989232Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:39:53.8989265Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:39:53.9135325Z 2025-08-20 03:39:53.906 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 100.423ms
2025-08-20T03:39:58.9323645Z 2025-08-20 03:39:58.931 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:39:58.9361328Z 2025-08-20 03:39:58.935 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:39:58.9433876Z 2025-08-20 03:39:58.942 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0035ms with message 'Event Store connection failed'
2025-08-20T03:39:58.9434196Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:39:58.9498735Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:39:58.9498883Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:39:58.9498913Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:39:58.9498970Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:39:58.9499003Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:39:58.9499029Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:39:58.9499053Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:39:58.9499076Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:39:58.9499102Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:39:58.9499126Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:39:58.9499157Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:39:58.9499186Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:39:58.9499237Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:39:58.9499274Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:39:58.9499297Z 2025-08-20 03:39:58.948 +00:00 [INF] Starting configuration status health check
2025-08-20T03:39:58.9580272Z 2025-08-20 03:39:58.957 +00:00 [INF] All configurations are valid
2025-08-20T03:39:58.9671058Z 2025-08-20 03:39:58.966 +00:00 [ERR] Health check database with status Unhealthy completed after 7.2303ms with message 'Database connection failed'
2025-08-20T03:39:58.9748781Z 2025-08-20 03:39:58.974 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:39:58.9830191Z 2025-08-20 03:39:58.977 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:39:58.9830497Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:39:58.9830535Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:39:58.9830570Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:39:58.9830596Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:39:58.9830630Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:39:58.9830658Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:39:58.9830730Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:39:58.9830760Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:39:58.9830788Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:39:58.9830816Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:39:58.9830843Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:39:58.9830870Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:39:58.9830898Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:39:58.9830924Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:39:58.9830953Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:39:58.9831004Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:39:58.9831034Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:39:58.9831061Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:39:58.9831089Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:39:58.9831114Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:39:58.9831139Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:39:58.9831170Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:39:58.9831197Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:39:58.9913901Z 2025-08-20 03:39:58.986 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 55.0982ms
2025-08-20T03:40:03.9928816Z 2025-08-20 03:40:03.992 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:04.0067355Z 2025-08-20 03:40:04.006 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:04.0081316Z 2025-08-20 03:40:04.008 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:04.0230077Z 2025-08-20 03:40:04.017 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1651ms with message 'Event Store connection failed'
2025-08-20T03:40:04.0230669Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:04.0313857Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:04.0314352Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:04.0320357Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:04.0320572Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:04.0325680Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:04.0325800Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:04.0325830Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:04.0325854Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:04.0325881Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:04.0325906Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:04.0325975Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:04.0335240Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:04.0335350Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:04.0335391Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:04.0344963Z 2025-08-20 03:40:04.025 +00:00 [ERR] Health check database with status Unhealthy completed after 1.4408ms with message 'Database connection failed'
2025-08-20T03:40:04.0345076Z 2025-08-20 03:40:04.034 +00:00 [INF] All configurations are valid
2025-08-20T03:40:04.0493562Z 2025-08-20 03:40:04.049 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:04.0652751Z 2025-08-20 03:40:04.051 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:40:04.0653349Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:04.0653389Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:04.0653417Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:04.0653445Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:04.0653480Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:04.0653508Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:04.0653538Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:04.0653587Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:04.0653617Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:04.0653644Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:04.0653671Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:40:04.0653700Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:04.0653728Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:04.0653754Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:04.0653784Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:04.0653813Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:04.0653863Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:04.0653890Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:04.0653918Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:04.0653945Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:04.0653970Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:04.0654001Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:04.0654029Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:04.0771569Z 2025-08-20 03:40:04.075 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 82.6559ms
2025-08-20T03:40:09.0946837Z 2025-08-20 03:40:09.094 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:09.1023684Z 2025-08-20 03:40:09.102 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:09.1045511Z 2025-08-20 03:40:09.104 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:09.1085670Z 2025-08-20 03:40:09.108 +00:00 [INF] All configurations are valid
2025-08-20T03:40:09.1093991Z 2025-08-20 03:40:09.109 +00:00 [ERR] Health check database with status Unhealthy completed after 1.5189ms with message 'Database connection failed'
2025-08-20T03:40:09.1136837Z 2025-08-20 03:40:09.113 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7252ms with message 'Event Store connection failed'
2025-08-20T03:40:09.1137107Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:09.1138957Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:09.1139093Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:09.1139121Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:09.1139150Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:09.1139183Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:09.1139208Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:09.1139233Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:09.1139257Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:09.1139283Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:09.1139308Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:09.1139361Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:09.1139393Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:09.1139425Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:09.1139461Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:09.1278396Z 2025-08-20 03:40:09.127 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:09.1298472Z 2025-08-20 03:40:09.128 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:40:09.1302910Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:09.1366068Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:09.1366256Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:09.1366290Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:09.1366327Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:09.1366360Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:09.1366389Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:09.1366417Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:09.1366445Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:09.1366478Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:09.1366556Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:40:09.1366584Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:09.1366614Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:09.1366641Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:09.1366671Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:09.1366699Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:09.1366728Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:09.1366755Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:09.1366806Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:09.1366832Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:09.1366858Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:09.1366890Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:09.1366917Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:09.1386245Z 2025-08-20 03:40:09.138 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 44.3151ms
2025-08-20T03:40:11.4793373Z 2025-08-20 03:40:11.478 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:11.4811901Z 2025-08-20 03:40:11.481 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:11.4952465Z 2025-08-20 03:40:11.494 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:11.5028968Z 2025-08-20 03:40:11.497 +00:00 [ERR] Health check database with status Unhealthy completed after 1.32ms with message 'Database connection failed'
2025-08-20T03:40:11.5074335Z 2025-08-20 03:40:11.498 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.6643ms with message 'Event Store connection failed'
2025-08-20T03:40:11.5074578Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:11.5081863Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:11.5082346Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:11.5086505Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:11.5086699Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:11.5086773Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:11.5086801Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:11.5086829Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:11.5086853Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:11.5086879Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:11.5086904Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:11.5086933Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:11.5086964Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:11.5086994Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:11.5087051Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:11.5161847Z 2025-08-20 03:40:11.511 +00:00 [INF] All configurations are valid
2025-08-20T03:40:11.5452524Z 2025-08-20 03:40:11.545 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:11.5519541Z 2025-08-20 03:40:11.546 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:40:11.5519852Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:11.5519896Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:11.5519925Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:11.5519994Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:11.5520034Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:11.5520063Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:11.5520092Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:11.5520121Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:11.5520150Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:11.5520178Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:11.5520206Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:40:11.5520452Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:11.5520516Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:11.5520545Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:11.5520575Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:11.5520643Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:11.5520674Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:11.5530518Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:11.5547060Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:11.5547139Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:11.5547217Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:11.5547251Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:11.5547279Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:11.5547469Z 2025-08-20 03:40:11.553 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 75.1163ms
2025-08-20T03:40:14.1693634Z 2025-08-20 03:40:14.169 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:14.1893099Z 2025-08-20 03:40:14.189 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:14.1913773Z 2025-08-20 03:40:14.190 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:14.1966464Z 2025-08-20 03:40:14.196 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.4177ms with message 'Event Store connection failed'
2025-08-20T03:40:14.1966787Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:14.1974421Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:14.1974551Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:14.1975252Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:14.1975329Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:14.2121099Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:14.2121499Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:14.2121573Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:14.2121602Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:14.2121629Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:14.2121654Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:14.2121684Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:14.2121714Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:14.2121745Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:14.2121781Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:14.2121810Z 2025-08-20 03:40:14.205 +00:00 [ERR] Health check database with status Unhealthy completed after 1.4152ms with message 'Database connection failed'
2025-08-20T03:40:14.2229789Z 2025-08-20 03:40:14.222 +00:00 [INF] All configurations are valid
2025-08-20T03:40:14.2320325Z 2025-08-20 03:40:14.231 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:14.2346583Z 2025-08-20 03:40:14.232 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:40:14.2346722Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:14.2346762Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:14.2346791Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:14.2346818Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:14.2346885Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:14.2346915Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:14.2346945Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:14.2347035Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:14.2347065Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:14.2347092Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:14.2347119Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:40:14.2347147Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:14.2347176Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:14.2347234Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:14.2347265Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:14.2347294Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:14.2347322Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:14.2347349Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:14.2347377Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:14.2347403Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:14.2347429Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:14.2347460Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:14.2347511Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:14.2426010Z 2025-08-20 03:40:14.242 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 73.3926ms
2025-08-20T03:40:19.3021554Z 2025-08-20 03:40:19.288 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:19.3034894Z 2025-08-20 03:40:19.303 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:19.3112989Z 2025-08-20 03:40:19.310 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:19.3201785Z 2025-08-20 03:40:19.319 +00:00 [INF] All configurations are valid
2025-08-20T03:40:19.3615320Z 2025-08-20 03:40:19.361 +00:00 [ERR] Health check database with status Unhealthy completed after 25.0639ms with message 'Database connection failed'
2025-08-20T03:40:19.3798318Z 2025-08-20 03:40:19.370 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 23.6643ms with message 'Event Store connection failed'
2025-08-20T03:40:19.3799822Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:19.3986811Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:19.3987870Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:19.3987901Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:19.3987929Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:19.3987971Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:19.3987996Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:19.3988027Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:19.3988051Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:19.3988093Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:19.3988130Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:19.3988206Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:19.3988236Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:19.3988268Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:19.3988320Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:19.4218496Z 2025-08-20 03:40:19.421 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:19.4351643Z 2025-08-20 03:40:19.428 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:40:19.4352211Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:19.4352311Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:19.4352341Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:19.4352368Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:19.4352402Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:19.4352432Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:19.4352461Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:19.4352488Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:19.4352517Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:19.4352545Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:19.4352602Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:40:19.4352629Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:19.4352657Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:19.4352684Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:19.4352714Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:19.4352743Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:19.4352772Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:19.4352799Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:19.4352848Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:19.4352874Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:19.4352899Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:19.4352931Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:19.4352959Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:19.4450549Z 2025-08-20 03:40:19.444 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 172.1439ms
2025-08-20T03:40:24.4597347Z 2025-08-20 03:40:24.459 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:24.4701093Z 2025-08-20 03:40:24.469 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:24.4764921Z 2025-08-20 03:40:24.476 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:24.4829033Z 2025-08-20 03:40:24.477 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.9951ms with message 'Event Store connection failed'
2025-08-20T03:40:24.4832125Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:24.4832255Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:24.4832295Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:24.4832497Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:24.4832547Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:24.4832583Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:24.4832612Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:24.4832678Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:24.4832707Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:24.4832738Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:24.4832767Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:24.4832801Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:24.4832835Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:24.4832872Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:24.4832910Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:24.4907949Z 2025-08-20 03:40:24.490 +00:00 [INF] All configurations are valid
2025-08-20T03:40:24.4913519Z 2025-08-20 03:40:24.490 +00:00 [ERR] Health check database with status Unhealthy completed after 13.0259ms with message 'Database connection failed'
2025-08-20T03:40:24.5000433Z 2025-08-20 03:40:24.499 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:24.5082941Z 2025-08-20 03:40:24.500 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:40:24.5142376Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:24.5142879Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:24.5142929Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:24.5142995Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:24.5143032Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:24.5143061Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:24.5143090Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:24.5143118Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:24.5143146Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:24.5143173Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:24.5143201Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:40:24.5143228Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:24.5143277Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:24.5143305Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:24.5143335Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:24.5143364Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:24.5143392Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:24.5143420Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:24.5143448Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:24.5143473Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:24.5143498Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:24.5143551Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:24.5143580Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:24.5222021Z 2025-08-20 03:40:24.522 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 63.9958ms
2025-08-20T03:40:27.1364310Z 2025-08-20 03:40:27.136 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:40:27.1430418Z 2025-08-20 03:40:27.142 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 6.4116ms
2025-08-20T03:40:27.1451012Z 2025-08-20 03:40:27.144 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:40:29.5630569Z 2025-08-20 03:40:29.562 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:29.5720987Z 2025-08-20 03:40:29.571 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:29.5792944Z 2025-08-20 03:40:29.579 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:29.5901209Z 2025-08-20 03:40:29.589 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 15.5408ms with message 'Event Store connection failed'
2025-08-20T03:40:29.5901765Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:29.6207717Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:29.6208527Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:29.6208678Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:29.6208715Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:29.6209297Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:29.6209478Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:29.6209509Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:29.6209535Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:29.6209561Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:29.6209589Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:29.6210010Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:29.6210156Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:29.6210192Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:29.6210270Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:29.6210294Z 2025-08-20 03:40:29.604 +00:00 [INF] All configurations are valid
2025-08-20T03:40:29.6659833Z 2025-08-20 03:40:29.665 +00:00 [ERR] Health check database with status Unhealthy completed after 33.8057ms with message 'Database connection failed'
2025-08-20T03:40:29.6769821Z 2025-08-20 03:40:29.676 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:29.6787512Z 2025-08-20 03:40:29.677 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:0000000A": An unhandled exception was thrown by the application.
2025-08-20T03:40:29.6787753Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:29.6787792Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:29.6787857Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:29.6787885Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:29.6787920Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:29.6788071Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:29.6788109Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:29.6788139Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:29.6788168Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:29.6788195Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:29.6788223Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:40:29.6788275Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:29.6788304Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:29.6788331Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:29.6788360Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:29.6788390Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:29.6788421Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:29.6788447Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:29.6788474Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:29.6788500Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:29.6788548Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:29.6788581Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:29.6788608Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:29.6949323Z 2025-08-20 03:40:29.686 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 126.4255ms
2025-08-20T03:40:34.7285906Z 2025-08-20 03:40:34.723 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:34.7468693Z 2025-08-20 03:40:34.746 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:34.7608141Z 2025-08-20 03:40:34.752 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:34.7608631Z 2025-08-20 03:40:34.754 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0258ms with message 'Database connection failed'
2025-08-20T03:40:34.7608669Z 2025-08-20 03:40:34.754 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.6486ms with message 'Event Store connection failed'
2025-08-20T03:40:34.7608696Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:34.7608733Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:34.7608766Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:34.7608857Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:34.7608885Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:34.7608916Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:34.7608940Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:34.7608965Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:34.7608994Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:34.7609020Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:34.7609045Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:34.7609076Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:34.7609136Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:34.7609168Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:34.7609202Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:34.7640973Z 2025-08-20 03:40:34.763 +00:00 [INF] All configurations are valid
2025-08-20T03:40:34.7896913Z 2025-08-20 03:40:34.789 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:34.8041900Z 2025-08-20 03:40:34.796 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:0000000B": An unhandled exception was thrown by the application.
2025-08-20T03:40:34.8043697Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:34.8045185Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:34.8045293Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:34.8046588Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:34.8048213Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:34.8048316Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:34.8049037Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:34.8049125Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:34.8050345Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:34.8051459Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:34.8051554Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:40:34.8053136Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:34.8053233Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:34.8054547Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:34.8054646Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:34.8055299Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:34.8056796Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:34.8056894Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:34.8057883Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:34.8057978Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:34.8058005Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:34.8058816Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:34.8060383Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:34.8203973Z 2025-08-20 03:40:34.814 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 90.3884ms
2025-08-20T03:40:39.8348050Z 2025-08-20 03:40:39.834 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:39.8368250Z 2025-08-20 03:40:39.836 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:39.8424959Z 2025-08-20 03:40:39.842 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:39.8504142Z 2025-08-20 03:40:39.850 +00:00 [INF] All configurations are valid
2025-08-20T03:40:39.8509712Z 2025-08-20 03:40:39.844 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0852ms with message 'Event Store connection failed'
2025-08-20T03:40:39.8509831Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:39.8510079Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:39.8510111Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:39.8510547Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:39.8510590Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:39.8510621Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:39.8510646Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:39.8510949Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:39.8510985Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:39.8511052Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:39.8511078Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:39.8511108Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:39.8511137Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:39.8511168Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:39.8511201Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:39.8584996Z 2025-08-20 03:40:39.858 +00:00 [ERR] Health check database with status Unhealthy completed after 6.5864ms with message 'Database connection failed'
2025-08-20T03:40:39.8653251Z 2025-08-20 03:40:39.865 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:39.8678345Z 2025-08-20 03:40:39.866 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:0000000C": An unhandled exception was thrown by the application.
2025-08-20T03:40:39.8678488Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:39.8678526Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:39.8678560Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:39.8678587Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:39.8678622Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:39.8678651Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:39.8678683Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:39.8678756Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:39.8678787Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:39.8678815Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:39.8678874Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:39.8678904Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:39.8678930Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:39.8678960Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:39.8678989Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:39.8679040Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:39.8679067Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:39.8679095Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:39.8679123Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:39.8679148Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:39.8679179Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:39.8679207Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:39.8733915Z 2025-08-20 03:40:39.873 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 38.7525ms
2025-08-20T03:40:44.8912793Z 2025-08-20 03:40:44.890 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:44.8995327Z 2025-08-20 03:40:44.897 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:44.8996029Z 2025-08-20 03:40:44.898 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:44.9082831Z 2025-08-20 03:40:44.900 +00:00 [INF] All configurations are valid
2025-08-20T03:40:44.9083217Z 2025-08-20 03:40:44.900 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0423ms with message 'Database connection failed'
2025-08-20T03:40:44.9086726Z 2025-08-20 03:40:44.907 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.5752ms with message 'Event Store connection failed'
2025-08-20T03:40:44.9086900Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:44.9086939Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:44.9086966Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:44.9087033Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:44.9087064Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:44.9087096Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:44.9087122Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:44.9087147Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:44.9087171Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:44.9087197Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:44.9087221Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:44.9087251Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:44.9087304Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:44.9087339Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:44.9087373Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:44.9411556Z 2025-08-20 03:40:44.934 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:44.9419319Z 2025-08-20 03:40:44.935 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:0000000D": An unhandled exception was thrown by the application.
2025-08-20T03:40:44.9419604Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:44.9419644Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:44.9419678Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:44.9419751Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:44.9419896Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:44.9419931Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:44.9419960Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:44.9419989Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:44.9420018Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:44.9420044Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:44.9420072Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:44.9420127Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:44.9420158Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:44.9420188Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:44.9420216Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:44.9420244Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:44.9420270Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:44.9420298Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:44.9420323Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:44.9420349Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:44.9420401Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:44.9420433Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:44.9524071Z 2025-08-20 03:40:44.952 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 67.6873ms
2025-08-20T03:40:49.9767538Z 2025-08-20 03:40:49.975 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:49.9867898Z 2025-08-20 03:40:49.986 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:49.9887188Z 2025-08-20 03:40:49.988 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:49.9901869Z 2025-08-20 03:40:49.990 +00:00 [INF] All configurations are valid
2025-08-20T03:40:49.9960836Z 2025-08-20 03:40:49.992 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9792ms with message 'Database connection failed'
2025-08-20T03:40:49.9979554Z 2025-08-20 03:40:49.997 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9046ms with message 'Event Store connection failed'
2025-08-20T03:40:49.9979830Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:49.9979986Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:49.9980018Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:49.9980081Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:49.9980111Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:49.9980647Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:49.9980841Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:49.9981888Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:49.9981969Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:49.9981999Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:49.9982023Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:49.9982055Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:49.9982892Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:49.9983817Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:49.9983938Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:49.9999274Z 2025-08-20 03:40:49.999 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:50.0134337Z 2025-08-20 03:40:50.007 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:0000000E": An unhandled exception was thrown by the application.
2025-08-20T03:40:50.0134838Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:50.0134881Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:50.0134910Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:50.0134937Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:50.0135016Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:50.0135047Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:50.0135077Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:50.0135107Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:50.0135135Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:40:50.0135162Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:50.0135190Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:50.0135219Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:50.0135246Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:50.0135300Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:50.0135330Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:50.0135359Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:50.0135385Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:50.0135414Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:50.0135439Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:50.0135464Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:50.0135495Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:50.0135524Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:50.0243281Z 2025-08-20 03:40:50.024 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 52.9387ms
2025-08-20T03:40:55.0478816Z 2025-08-20 03:40:55.045 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:40:55.0513503Z 2025-08-20 03:40:55.051 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:40:55.0576715Z 2025-08-20 03:40:55.057 +00:00 [INF] Starting configuration status health check
2025-08-20T03:40:55.0690313Z 2025-08-20 03:40:55.068 +00:00 [INF] All configurations are valid
2025-08-20T03:40:55.0832760Z 2025-08-20 03:40:55.071 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 11.6907ms with message 'Event Store connection failed'
2025-08-20T03:40:55.0833252Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:40:55.0833295Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:40:55.0833325Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:40:55.0833352Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:40:55.0833379Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:40:55.0833487Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:40:55.0833515Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:40:55.0833539Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:40:55.0833563Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:40:55.0833589Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:40:55.0833618Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:40:55.0833648Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:40:55.0833679Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:40:55.0833709Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:40:55.0833770Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:40:55.0833798Z 2025-08-20 03:40:55.075 +00:00 [ERR] Health check database with status Unhealthy completed after 0.8774ms with message 'Database connection failed'
2025-08-20T03:40:55.0833824Z 2025-08-20 03:40:55.077 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:40:55.0924122Z 2025-08-20 03:40:55.083 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:0000000F": An unhandled exception was thrown by the application.
2025-08-20T03:40:55.0925519Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:40:55.0926199Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:40:55.0926291Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:55.0927010Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:40:55.0927689Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:40:55.0927779Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:55.0928475Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:40:55.0928565Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:40:55.0929161Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:40:55.0929249Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:40:55.0929973Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:40:55.0930619Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:40:55.0930709Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:55.0931388Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:40:55.0931480Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:40:55.0932067Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:40:55.0932158Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:40:55.0932847Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:55.0932937Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:40:55.0933541Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:40:55.0933631Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:40:55.1013157Z 2025-08-20 03:40:55.101 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 50.6301ms
2025-08-20T03:41:00.1428260Z 2025-08-20 03:41:00.142 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:00.1506598Z 2025-08-20 03:41:00.145 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:00.1606186Z 2025-08-20 03:41:00.156 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2.6358ms with message 'Event Store connection failed'
2025-08-20T03:41:00.1606680Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:00.1606718Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:00.1606744Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:00.1606770Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:00.1606798Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:00.1606829Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:00.1606855Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:00.1606880Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:00.1606904Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:00.1606953Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:00.1606979Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:00.1607010Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:00.1607039Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:00.1607071Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:00.1607106Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:00.1607131Z 2025-08-20 03:41:00.159 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:00.1638630Z 2025-08-20 03:41:00.162 +00:00 [INF] All configurations are valid
2025-08-20T03:41:00.1638834Z 2025-08-20 03:41:00.163 +00:00 [ERR] Health check database with status Unhealthy completed after 8.2169ms with message 'Database connection failed'
2025-08-20T03:41:00.1707809Z 2025-08-20 03:41:00.170 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:00.1795519Z 2025-08-20 03:41:00.173 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000010": An unhandled exception was thrown by the application.
2025-08-20T03:41:00.1796217Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:00.1796273Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:00.1796302Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:00.1796331Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:00.1796792Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:00.1796982Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:00.1810130Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:00.1810474Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:00.1810627Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:00.1810661Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:00.1810690Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:00.1821904Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:00.1822216Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:00.1822253Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:00.1822283Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:00.1822424Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:00.1822459Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:00.1822486Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:00.1822511Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:00.1885759Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:00.1886652Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:00.1901926Z 2025-08-20 03:41:00.190 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 47.6667ms
2025-08-20T03:41:05.2077570Z 2025-08-20 03:41:05.206 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:05.2103821Z 2025-08-20 03:41:05.210 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:05.2117245Z 2025-08-20 03:41:05.211 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:05.2174742Z 2025-08-20 03:41:05.213 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0849ms with message 'Database connection failed'
2025-08-20T03:41:05.2198005Z 2025-08-20 03:41:05.219 +00:00 [INF] All configurations are valid
2025-08-20T03:41:05.2284302Z 2025-08-20 03:41:05.215 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.5882ms with message 'Event Store connection failed'
2025-08-20T03:41:05.2284584Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:05.2284624Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:05.2284656Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:05.2284685Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:05.2284712Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:05.2284745Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:05.2284771Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:05.2284805Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:05.2284895Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:05.2284922Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:05.2284947Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:05.2284979Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:05.2285008Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:05.2286323Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:05.2286386Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:05.2390876Z 2025-08-20 03:41:05.238 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:05.2465253Z 2025-08-20 03:41:05.245 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000011": An unhandled exception was thrown by the application.
2025-08-20T03:41:05.2465546Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:05.2465581Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:05.2465610Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:05.2465637Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:05.2465674Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:05.2465704Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:05.2465734Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:05.2465787Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:05.2465815Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:05.2465842Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:05.2465872Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:05.2465899Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:05.2465930Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:05.2465959Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:05.2465989Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:05.2466016Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:05.2466064Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:05.2466091Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:05.2466117Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:05.2466149Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:05.2466178Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:05.2496149Z 2025-08-20 03:41:05.249 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 42.8189ms
2025-08-20T03:41:10.2643327Z 2025-08-20 03:41:10.264 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:10.2688597Z 2025-08-20 03:41:10.268 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:10.2751876Z 2025-08-20 03:41:10.274 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7748ms with message 'Event Store connection failed'
2025-08-20T03:41:10.2752186Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:10.2775002Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:10.2775255Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:10.2832729Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:10.2832867Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:10.2841485Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:10.2841714Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:10.2844252Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:10.2844369Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:10.2844398Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:10.2844423Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:10.2844454Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:10.2844483Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:10.2844515Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:10.2844549Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:10.2844574Z 2025-08-20 03:41:10.275 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:10.2844628Z 2025-08-20 03:41:10.277 +00:00 [ERR] Health check database with status Unhealthy completed after 0.7684ms with message 'Database connection failed'
2025-08-20T03:41:10.2949384Z 2025-08-20 03:41:10.293 +00:00 [INF] All configurations are valid
2025-08-20T03:41:10.3015220Z 2025-08-20 03:41:10.296 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:10.3023069Z 2025-08-20 03:41:10.297 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000012": An unhandled exception was thrown by the application.
2025-08-20T03:41:10.3023997Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:10.3024132Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:10.3024170Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:10.3024200Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:10.3024573Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:10.3024613Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:10.3024644Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:10.3024674Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:10.3024701Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:10.3024730Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:10.3024759Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:10.3024787Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:10.3024850Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:10.3024882Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:10.3024911Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:10.3024939Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:10.3024967Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:10.3024996Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:10.3025022Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:10.3025054Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:10.3025082Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:10.3047980Z 2025-08-20 03:41:10.304 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 40.9537ms
2025-08-20T03:41:11.4751211Z 2025-08-20 03:41:11.473 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:11.4763295Z 2025-08-20 03:41:11.475 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:11.4834796Z 2025-08-20 03:41:11.483 +00:00 [ERR] Health check database with status Unhealthy completed after 1.137ms with message 'Database connection failed'
2025-08-20T03:41:11.4845047Z 2025-08-20 03:41:11.484 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:11.4899567Z 2025-08-20 03:41:11.489 +00:00 [INF] All configurations are valid
2025-08-20T03:41:11.4950075Z 2025-08-20 03:41:11.494 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 11.82ms with message 'Event Store connection failed'
2025-08-20T03:41:11.4950316Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:11.4950353Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:11.4950379Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:11.4950406Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:11.4950434Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:11.4950467Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:11.4950493Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:11.4950519Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:11.4950544Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:11.4950599Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:11.4950625Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:11.4950656Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:11.4950686Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:11.4950718Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:11.4950753Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:11.4975424Z 2025-08-20 03:41:11.497 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:11.5006552Z 2025-08-20 03:41:11.499 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000013": An unhandled exception was thrown by the application.
2025-08-20T03:41:11.5006757Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:11.5006798Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:11.5006827Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:11.5006854Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:11.5006890Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:11.5006919Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:11.5006949Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:11.5006977Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:11.5007028Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:11.5007057Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:11.5007086Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:11.5007114Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:11.5007145Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:11.5007174Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:11.5007203Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:11.5007229Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:11.5007258Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:11.5007304Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:11.5007332Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:11.5007366Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:11.5007395Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:11.5090154Z 2025-08-20 03:41:11.506 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 33.1721ms
2025-08-20T03:41:15.3215402Z 2025-08-20 03:41:15.321 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:15.3257795Z 2025-08-20 03:41:15.325 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:15.3282819Z 2025-08-20 03:41:15.328 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:15.3365566Z 2025-08-20 03:41:15.335 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8309ms with message 'Event Store connection failed'
2025-08-20T03:41:15.3366050Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:15.3469216Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:15.3469735Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:15.3522463Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:15.3522727Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:15.3523795Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:15.3523879Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:15.3524530Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:15.3524651Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:15.3524680Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:15.3525245Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:15.3525321Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:15.3526462Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:15.3527044Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:15.3527802Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:15.3528876Z 2025-08-20 03:41:15.345 +00:00 [ERR] Health check database with status Unhealthy completed after 7.6592ms with message 'Database connection failed'
2025-08-20T03:41:15.3627697Z 2025-08-20 03:41:15.350 +00:00 [INF] All configurations are valid
2025-08-20T03:41:15.3698492Z 2025-08-20 03:41:15.369 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:15.3716264Z 2025-08-20 03:41:15.370 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000014": An unhandled exception was thrown by the application.
2025-08-20T03:41:15.3716581Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:15.3716620Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:15.3716648Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:15.3716725Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:15.3716762Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:15.3716792Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:15.3716822Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:15.3716853Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:15.3716881Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:15.3716909Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:15.3716938Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:15.3716966Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:15.3717020Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:15.3717050Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:15.3717079Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:15.3717106Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:15.3717134Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:15.3717160Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:15.3717185Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:15.3717217Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:15.3717245Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:15.3771625Z 2025-08-20 03:41:15.376 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 55.6354ms
2025-08-20T03:41:20.4009295Z 2025-08-20 03:41:20.399 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:20.4026731Z 2025-08-20 03:41:20.402 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:20.4091509Z 2025-08-20 03:41:20.405 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7452ms with message 'Event Store connection failed'
2025-08-20T03:41:20.4091887Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:20.4094186Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:20.4094287Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:20.4095057Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:20.4095137Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:20.4095797Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:20.4095871Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:20.4096546Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:20.4096621Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:20.4096649Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:20.4097350Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:20.4097470Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:20.4098081Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:20.4098830Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:20.4099469Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:20.4104880Z 2025-08-20 03:41:20.410 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:20.4119878Z 2025-08-20 03:41:20.411 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1136ms with message 'Database connection failed'
2025-08-20T03:41:20.4170325Z 2025-08-20 03:41:20.416 +00:00 [INF] All configurations are valid
2025-08-20T03:41:20.4186101Z 2025-08-20 03:41:20.418 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:20.4200802Z 2025-08-20 03:41:20.419 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000015": An unhandled exception was thrown by the application.
2025-08-20T03:41:20.4200986Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:20.4201025Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:20.4201054Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:20.4201081Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:20.4201116Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:20.4201150Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:20.4201535Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:20.4201580Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:20.4201609Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:20.4201636Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:20.4201666Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:20.4201694Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:20.4201723Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:20.4201753Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:20.4201805Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:20.4201833Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:20.4201862Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:20.4201888Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:20.4202271Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:20.4202318Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:20.4202346Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:20.4228761Z 2025-08-20 03:41:20.422 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 23.3064ms
2025-08-20T03:41:25.4563250Z 2025-08-20 03:41:25.445 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:25.4578760Z 2025-08-20 03:41:25.457 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:25.4677160Z 2025-08-20 03:41:25.465 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:25.4677558Z 2025-08-20 03:41:25.467 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7484ms with message 'Event Store connection failed'
2025-08-20T03:41:25.4677595Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:25.4677631Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:25.4677658Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:25.4677683Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:25.4677712Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:25.4677811Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:25.4677838Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:25.4677863Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:25.4677888Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:25.4677914Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:25.4677940Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:25.4677970Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:25.4678001Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:25.4678093Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:25.4678154Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:25.4834663Z 2025-08-20 03:41:25.482 +00:00 [INF] All configurations are valid
2025-08-20T03:41:25.4963258Z 2025-08-20 03:41:25.494 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0026ms with message 'Database connection failed'
2025-08-20T03:41:25.4967845Z 2025-08-20 03:41:25.496 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:25.5035422Z 2025-08-20 03:41:25.501 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000016": An unhandled exception was thrown by the application.
2025-08-20T03:41:25.5035931Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:25.5035975Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:25.5036051Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:25.5036083Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:25.5036119Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:25.5036149Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:25.5036179Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:25.5036209Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:25.5036237Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:25.5036265Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:25.5036294Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:25.5036349Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:25.5036379Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:25.5036410Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:25.5036439Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:25.5036466Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:25.5036494Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:25.5036520Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:25.5036546Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:25.5036579Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:25.5036632Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:25.5108443Z 2025-08-20 03:41:25.510 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 65.5697ms
2025-08-20T03:41:30.5436099Z 2025-08-20 03:41:30.543 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:30.5464660Z 2025-08-20 03:41:30.546 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:30.5478843Z 2025-08-20 03:41:30.547 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:30.5535510Z 2025-08-20 03:41:30.553 +00:00 [INF] All configurations are valid
2025-08-20T03:41:30.5547942Z 2025-08-20 03:41:30.554 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 5.5798ms with message 'Event Store connection failed'
2025-08-20T03:41:30.5548110Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:30.5549195Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:30.5549289Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:30.5549970Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:30.5550054Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:30.5550866Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:30.5551062Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:30.5551616Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:30.5551742Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:30.5551774Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:30.5559659Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:30.5559783Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:30.5644029Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:30.5644509Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:30.5644566Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:30.5644597Z 2025-08-20 03:41:30.563 +00:00 [ERR] Health check database with status Unhealthy completed after 0.945ms with message 'Database connection failed'
2025-08-20T03:41:30.5730247Z 2025-08-20 03:41:30.572 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:30.5776465Z 2025-08-20 03:41:30.576 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000017": An unhandled exception was thrown by the application.
2025-08-20T03:41:30.5776803Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:30.5776849Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:30.5776887Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:30.5776917Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:30.5776952Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:30.5777043Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:30.5777077Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:30.5777106Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:30.5777134Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:30.5777161Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:30.5777190Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:30.5777218Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:30.5777248Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:30.5777278Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:30.5777332Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:30.5777360Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:30.5777389Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:30.5777416Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:30.5777441Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:30.5777474Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:30.5777502Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:30.5794320Z 2025-08-20 03:41:30.579 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 38.1551ms
2025-08-20T03:41:35.6053831Z 2025-08-20 03:41:35.605 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:35.6189487Z 2025-08-20 03:41:35.618 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:35.6273642Z 2025-08-20 03:41:35.627 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:35.6416728Z 2025-08-20 03:41:35.634 +00:00 [INF] All configurations are valid
2025-08-20T03:41:35.6417499Z 2025-08-20 03:41:35.637 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7713ms with message 'Event Store connection failed'
2025-08-20T03:41:35.6417539Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:35.6417579Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:35.6417606Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:35.6417635Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:35.6417873Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:35.6417907Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:35.6417932Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:35.6417958Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:35.6417984Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:35.6418010Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:35.6418036Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:35.6418067Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:35.6418097Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:35.6418158Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:35.6418194Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:35.6673401Z 2025-08-20 03:41:35.644 +00:00 [ERR] Health check database with status Unhealthy completed after 10.7071ms with message 'Database connection failed'
2025-08-20T03:41:35.6932996Z 2025-08-20 03:41:35.693 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:35.7026334Z 2025-08-20 03:41:35.701 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000018": An unhandled exception was thrown by the application.
2025-08-20T03:41:35.7108770Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:35.7109303Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:35.7109430Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:35.7109460Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:35.7109496Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:35.7109526Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:35.7109556Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:35.7109585Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:35.7109613Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:35.7109642Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:35.7109693Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:35.7109723Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:35.7109753Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:35.7109883Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:35.7109912Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:35.7109939Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:35.7109968Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:35.7109995Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:35.7110021Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:35.7110078Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:35.7110107Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:35.7426659Z 2025-08-20 03:41:35.734 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 129.1003ms
2025-08-20T03:41:40.8005968Z 2025-08-20 03:41:40.800 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:40.8077611Z 2025-08-20 03:41:40.802 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:40.8125843Z 2025-08-20 03:41:40.809 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:40.8204130Z 2025-08-20 03:41:40.818 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8572ms with message 'Event Store connection failed'
2025-08-20T03:41:40.8204753Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:40.8204802Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:40.8204829Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:40.8283341Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:40.8283785Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:40.8354237Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:40.8354844Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:40.8356274Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:40.8356365Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:40.8356397Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:40.8363012Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:40.8363123Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:40.8363216Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:40.8363251Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:40.8363350Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:40.8495869Z 2025-08-20 03:41:40.834 +00:00 [INF] All configurations are valid
2025-08-20T03:41:40.8566110Z 2025-08-20 03:41:40.850 +00:00 [ERR] Health check database with status Unhealthy completed after 40.2936ms with message 'Database connection failed'
2025-08-20T03:41:40.8590424Z 2025-08-20 03:41:40.858 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:40.8664418Z 2025-08-20 03:41:40.865 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:00000019": An unhandled exception was thrown by the application.
2025-08-20T03:41:40.8664979Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:40.8665023Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:40.8665052Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:40.8665080Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:40.8665118Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:40.8665148Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:40.8665178Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:40.8665207Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:40.8665256Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:40.8665285Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:40.8665314Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:40.8665341Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:40.8665371Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:40.8665400Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:40.8665430Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:40.8665457Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:40.8665486Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:40.8665531Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:40.8665557Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:40.8665590Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:40.8665618Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:40.8746710Z 2025-08-20 03:41:40.873 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 73.6084ms
2025-08-20T03:41:45.8994777Z 2025-08-20 03:41:45.899 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:45.9238509Z 2025-08-20 03:41:45.923 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:45.9457506Z 2025-08-20 03:41:45.936 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:45.9458199Z 2025-08-20 03:41:45.937 +00:00 [ERR] Health check database with status Unhealthy completed after 0.7594ms with message 'Database connection failed'
2025-08-20T03:41:45.9458245Z 2025-08-20 03:41:45.937 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8159ms with message 'Event Store connection failed'
2025-08-20T03:41:45.9458272Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:45.9458307Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:45.9458334Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:45.9458365Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:45.9458474Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:45.9458506Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:45.9458532Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:45.9458623Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:45.9458648Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:45.9458676Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:45.9458709Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:45.9458741Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:45.9458772Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:45.9458829Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:45.9458867Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:45.9605132Z 2025-08-20 03:41:45.955 +00:00 [INF] All configurations are valid
2025-08-20T03:41:45.9770508Z 2025-08-20 03:41:45.976 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:45.9870855Z 2025-08-20 03:41:45.986 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:0000001A": An unhandled exception was thrown by the application.
2025-08-20T03:41:45.9948130Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:45.9956357Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:45.9963145Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:45.9968590Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:46.0031950Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:46.0032137Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:46.0032175Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:46.0032209Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:46.0033157Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:46.0033203Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:46.0033232Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:46.0033335Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:46.0033366Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:46.0033395Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:46.0033425Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:46.0033453Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:46.0033481Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:46.0033507Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:46.0033533Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:46.0033586Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:46.0033618Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:46.0060624Z 2025-08-20 03:41:46.005 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 120.5294ms
2025-08-20T03:41:51.0387178Z 2025-08-20 03:41:51.038 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:41:51.0479530Z 2025-08-20 03:41:51.047 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:41:51.0493977Z 2025-08-20 03:41:51.049 +00:00 [INF] Starting configuration status health check
2025-08-20T03:41:51.0666287Z 2025-08-20 03:41:51.058 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2.4085ms with message 'Event Store connection failed'
2025-08-20T03:41:51.0666917Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:41:51.0667335Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:41:51.0667373Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:41:51.0667398Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:41:51.0667426Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:41:51.0667459Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:41:51.0667484Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:41:51.0668166Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:41:51.0668203Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:41:51.0668229Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:41:51.0668294Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:41:51.0668326Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:41:51.0668358Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:41:51.0668393Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:41:51.0668428Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:41:51.0668453Z 2025-08-20 03:41:51.060 +00:00 [INF] All configurations are valid
2025-08-20T03:41:51.0849748Z 2025-08-20 03:41:51.080 +00:00 [ERR] Health check database with status Unhealthy completed after 12.2319ms with message 'Database connection failed'
2025-08-20T03:41:51.0873084Z 2025-08-20 03:41:51.087 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:41:51.0944852Z 2025-08-20 03:41:51.088 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:0000001B": An unhandled exception was thrown by the application.
2025-08-20T03:41:51.0945567Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:41:51.0945615Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:41:51.0945644Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:51.0945672Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:41:51.0945716Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:41:51.0945744Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:51.0945774Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:41:51.0945878Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:41:51.0945908Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:41:51.0945936Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:41:51.0945966Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:41:51.0945994Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:41:51.0946029Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:51.0946059Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:41:51.0946088Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:41:51.0946116Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:41:51.0946164Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:41:51.0946191Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:51.0946217Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:41:51.0946249Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:41:51.0946277Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:41:51.0970235Z 2025-08-20 03:41:51.096 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 58.3956ms
2025-08-20T03:41:55.5529485Z    _____                               
2025-08-20T03:41:55.5531863Z   /  _  \ __________ _________   ____  
2025-08-20T03:41:55.5531938Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:41:55.5531977Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:41:55.5532007Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:41:55.5532111Z         \/      \/                  \/ 
2025-08-20T03:41:55.5532141Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:41:55.5532167Z 
2025-08-20T03:41:55.5532202Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:41:55.5532236Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:41:55.5532265Z ASP .NETCore Version: 8.0.18
2025-08-20T03:41:55.5532295Z Note: Any data outside '/home' is not persisted
2025-08-20T03:41:57.9720030Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:41:57.9901480Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:41:58.0173714Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:42:08.2763877Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:42:08.3112883Z 4 added, 0 removed; done.
2025-08-20T03:42:08.3113605Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:42:08.3212164Z done.
2025-08-20T03:42:08.3527361Z CA certificates copied and updated successfully.
2025-08-20T03:42:08.6188236Z Starting periodic command scheduler: cron.
2025-08-20T03:42:08.6464507Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:42:08.6910835Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:42:08.6915588Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:42:08.6919928Z Build Operation ID: 16236bdf-746f-4074-9786-b10b9f526b04
2025-08-20T03:42:09.0370977Z 
2025-08-20T03:42:09.0379185Z Agent extension 
2025-08-20T03:42:09.0384135Z Before if loop >> DotNet Runtime 
2025-08-20T03:42:09.1101765Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:42:09.1374038Z Trying to find the startup DLL name...
2025-08-20T03:42:09.1378494Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:42:09.1379706Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:42:09.8470228Z 2025-08-20 03:42:09.842 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:42:09.8470832Z 2025-08-20 03:42:09.843 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:09.8487972Z 2025-08-20 03:42:09.848 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:09.8505367Z 2025-08-20 03:42:09.850 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 7.4707ms
2025-08-20T03:42:09.8745369Z 2025-08-20 03:42:09.862 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7547ms with message 'Event Store connection failed'
2025-08-20T03:42:09.8745641Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:09.8745683Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:42:09.8745840Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:09.8745952Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:09.8745984Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:42:09.8746015Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:09.8746041Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:42:09.8746067Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:09.8746092Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:42:09.8746119Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:42:09.8746145Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:09.8746175Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:09.8746231Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:09.8746263Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:09.8746299Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:09.8749459Z 2025-08-20 03:42:09.874 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:42:09.8837090Z 2025-08-20 03:42:09.883 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:09.8919960Z 2025-08-20 03:42:09.891 +00:00 [ERR] Health check database with status Unhealthy completed after 15.91ms with message 'Database connection failed'
2025-08-20T03:42:09.9022214Z 2025-08-20 03:42:09.901 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:09.9124375Z 2025-08-20 03:42:09.909 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:42:09.9338803Z 2025-08-20 03:42:09.931 +00:00 [INF] All configurations are valid
2025-08-20T03:42:09.9515212Z 2025-08-20 03:42:09.951 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:09.9609365Z 2025-08-20 03:42:09.960 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 50.5093ms
2025-08-20T03:42:09.9698895Z 2025-08-20 03:42:09.969 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:09.9774753Z 2025-08-20 03:42:09.976 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:09.9790800Z 2025-08-20 03:42:09.978 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3983ms with message 'Database connection failed'
2025-08-20T03:42:09.9793516Z 2025-08-20 03:42:09.979 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:42:09.9800866Z 2025-08-20 03:42:09.979 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.5627ms with message 'Event Store connection failed'
2025-08-20T03:42:09.9800991Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:09.9801175Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:42:09.9801207Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:09.9801233Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:09.9801261Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:42:09.9801526Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:09.9801606Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:42:09.9801633Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:09.9801659Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:42:09.9801685Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:42:09.9801747Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:09.9801780Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:09.9801811Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:09.9802424Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:09.9802862Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:09.9878322Z 2025-08-20 03:42:09.987 +00:00 [INF] All configurations are valid
2025-08-20T03:42:09.9891294Z 2025-08-20 03:42:09.986 +00:00 [ERR] Connection id "0HNEVJBC4EVK5", Request id "0HNEVJBC4EVK5:0000001C": An unhandled exception was thrown by the application.
2025-08-20T03:42:09.9891455Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:09.9891492Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:09.9891525Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:09.9891557Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:09.9891668Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:09.9891698Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:09.9891728Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:09.9891758Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:09.9953995Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:09.9954313Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:09.9954349Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:09.9954382Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:09.9954415Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:09.9954524Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:09.9954554Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:09.9954614Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:09.9954643Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:09.9954669Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:09.9954696Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:09.9954753Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:09.9954782Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:10.0221245Z 2025-08-20 03:42:10.021 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:10.0389942Z 2025-08-20 03:42:10.038 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 195.3173ms
2025-08-20T03:42:10.0950504Z 2025-08-20 03:42:10.041 +00:00 [ERR] Connection id "0HNEVJBC4EVK8", Request id "0HNEVJBC4EVK8:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:42:10.0950858Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:10.0950904Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:10.0950937Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:10.0951053Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:10.0951091Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:10.0951120Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:10.0951150Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:10.0951181Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:10.0951209Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:10.0951236Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:10.0951268Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:10.0951297Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:10.0951347Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:10.0951377Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:10.0951408Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:10.0951434Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:10.0951462Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:10.0951488Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:10.0951515Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:10.0951547Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:10.0951575Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:10.1454336Z 2025-08-20 03:42:10.138 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 236.6606ms
2025-08-20T03:42:10.3105410Z 2025-08-20 03:42:10.310 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:42:10.3204117Z 2025-08-20 03:42:10.320 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 61.8426ms
2025-08-20T03:42:10.3682929Z 2025-08-20 03:42:10.368 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:42:10.5256236Z 2025-08-20 03:42:10.525 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger/index.html - null 0
2025-08-20T03:42:10.5434469Z 2025-08-20 03:42:10.543 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger/index.html - 404 0 null 17.9235ms
2025-08-20T03:42:10.5718435Z 2025-08-20 03:42:10.563 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger/index.html, Response status code: 404
2025-08-20T03:42:11.5408088Z 2025-08-20 03:42:11.540 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:11.5683779Z 2025-08-20 03:42:11.565 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:11.6518307Z 2025-08-20 03:42:11.651 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 74.9951ms with message 'Event Store connection failed'
2025-08-20T03:42:11.6518885Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:11.6696233Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:42:11.6696802Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:11.6696923Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:11.6696956Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:11.6696983Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:11.6697009Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:11.6697040Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:11.6697070Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:11.6697101Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:11.6697137Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:11.6697163Z 2025-08-20 03:42:11.653 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:11.6697221Z 2025-08-20 03:42:11.597 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9726ms with message 'Database connection failed'
2025-08-20T03:42:11.6976172Z 2025-08-20 03:42:11.697 +00:00 [INF] All configurations are valid
2025-08-20T03:42:11.7218618Z 2025-08-20 03:42:11.709 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:11.7245064Z 2025-08-20 03:42:11.722 +00:00 [ERR] Connection id "0HNEVJBC4EVK8", Request id "0HNEVJBC4EVK8:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:42:11.7488346Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:11.7488739Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:11.7488775Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:11.7488835Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:11.7488871Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:11.7488900Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:11.7488929Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:11.7488976Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:11.7489004Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:11.7489031Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:11.7489060Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:11.7489088Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:11.7489232Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:11.7489266Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:11.7489295Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:11.7489322Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:11.7489350Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:11.7489376Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:11.7489402Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:11.7489435Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:11.7489465Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:11.7639225Z 2025-08-20 03:42:11.756 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 216.6031ms
2025-08-20T03:42:13.8623701Z 2025-08-20 03:42:13.661 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:42:14.6533539Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:42:15.1997085Z 2025-08-20 03:42:15.192 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:15.2012992Z 2025-08-20 03:42:15.201 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:15.2174276Z 2025-08-20 03:42:15.210 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.738ms with message 'Event Store connection failed'
2025-08-20T03:42:15.2174974Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:15.2176373Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:15.2176472Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:15.2177216Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:15.2177291Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:15.2177931Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:15.2178007Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:15.2179110Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:15.2179852Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:15.2180597Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:15.2278576Z 2025-08-20 03:42:15.227 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9639ms with message 'Database connection failed'
2025-08-20T03:42:15.2345378Z 2025-08-20 03:42:15.233 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:15.2491325Z 2025-08-20 03:42:15.248 +00:00 [INF] All configurations are valid
2025-08-20T03:42:15.2710389Z 2025-08-20 03:42:15.264 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:15.2911642Z 2025-08-20 03:42:15.283 +00:00 [ERR] Connection id "0HNEVJBC4EVK8", Request id "0HNEVJBC4EVK8:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:42:15.2921015Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:15.2925006Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:15.2925245Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:15.2932093Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:15.3021696Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:15.3022053Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:15.3022092Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:15.3022121Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:15.3022157Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:15.3022187Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:15.3022216Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:15.3022245Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:15.3022354Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:15.3022386Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:15.3022415Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:15.3022443Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:15.3022471Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:15.3022498Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:15.3022523Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:15.3022557Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:15.3022584Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:15.3187943Z 2025-08-20 03:42:15.318 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 125.8879ms
2025-08-20T03:42:16.0258242Z 2025-08-20 03:42:15.932 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:42:16.0258659Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:42:16.0258707Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:42:16.0258743Z    at System.Uri..ctor(String uriString)
2025-08-20T03:42:16.0258837Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:42:16.0258876Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:42:16.0258917Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:42:16.1010227Z 2025-08-20 03:42:16.093 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:42:16.2019077Z 2025-08-20 03:42:16.200 +00:00 [INF] Starting configuration validation...
2025-08-20T03:42:16.2729355Z 2025-08-20 03:42:16.272 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:42:16.2730173Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:42:16.2730224Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:42:16.2730259Z    at System.Uri..ctor(String uriString)
2025-08-20T03:42:16.2730301Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:42:16.2730425Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:42:16.2730471Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:42:16.2926252Z 2025-08-20 03:42:16.291 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:42:16.3113025Z 2025-08-20 03:42:16.301 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:42:16.4828192Z 2025-08-20 03:42:16.457 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:42:17.5425061Z 2025-08-20 03:42:17.537 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:42:17.5900588Z 2025-08-20 03:42:17.584 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:42:18.4912246Z 2025-08-20 03:42:18.490 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:42:18.5465845Z 2025-08-20 03:42:18.541 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:42:18.5567991Z 2025-08-20 03:42:18.556 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:42:18.5658010Z 2025-08-20 03:42:18.564 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:42:18.8799258Z 2025-08-20 03:42:18.859 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.7:8080/robots933456.txt - null null
2025-08-20T03:42:19.0779973Z 2025-08-20 03:42:19.077 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:42:19.7892099Z 2025-08-20 03:42:19.774 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.7:8080/robots933456.txt - 404 0 null 959.7545ms
2025-08-20T03:42:19.8483323Z 2025-08-20 03:42:19.847 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.7:8080/robots933456.txt, Response status code: 404
2025-08-20T03:42:20.3427786Z 2025-08-20 03:42:20.336 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:20.3522358Z 2025-08-20 03:42:20.352 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:20.3554085Z 2025-08-20 03:42:20.355 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:20.3979990Z 2025-08-20 03:42:20.397 +00:00 [INF] All configurations are valid
2025-08-20T03:42:20.4096893Z 2025-08-20 03:42:20.405 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7507ms with message 'Event Store connection failed'
2025-08-20T03:42:20.4097278Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:20.4102819Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:20.4102920Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:20.4110009Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:20.4110126Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:20.4110155Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:20.4110186Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:20.4110217Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:20.4110249Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:20.4110412Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:20.4340349Z 2025-08-20 03:42:20.433 +00:00 [ERR] Health check database with status Unhealthy completed after 22.3728ms with message 'Database connection failed'
2025-08-20T03:42:20.4626193Z 2025-08-20 03:42:20.446 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:20.4689876Z 2025-08-20 03:42:20.462 +00:00 [ERR] Connection id "0HNEVJBC4EVK8", Request id "0HNEVJBC4EVK8:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:42:20.4690355Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:20.4690392Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:20.4690421Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:20.4690451Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:20.4690569Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:20.4690599Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:20.4690628Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:20.4690658Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:20.4690686Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:20.4690713Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:20.4690742Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:20.4690771Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:20.4690827Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:20.4690857Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:20.4690885Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:20.4690912Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:20.4690941Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:20.4690966Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:20.4690992Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:20.4691024Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:20.4691052Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:20.4906153Z 2025-08-20 03:42:20.484 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 147.9022ms
2025-08-20T03:42:21.3184241Z 2025-08-20 03:42:21.300 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:21.3202609Z 2025-08-20 03:42:21.319 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:21.3513199Z 2025-08-20 03:42:21.350 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7172ms with message 'Event Store connection failed'
2025-08-20T03:42:21.3513516Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:21.3514267Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:21.3514474Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:21.3515194Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:21.3515276Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:21.3515788Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:21.3515866Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:21.3516355Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:21.3564800Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:21.3571541Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:21.3706692Z 2025-08-20 03:42:21.370 +00:00 [ERR] Health check database with status Unhealthy completed after 9.0358ms with message 'Database connection failed'
2025-08-20T03:42:21.4085733Z 2025-08-20 03:42:21.402 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:21.5061819Z 2025-08-20 03:42:21.476 +00:00 [INF] All configurations are valid
2025-08-20T03:42:21.5062134Z 2025-08-20 03:42:21.501 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:21.5619956Z 2025-08-20 03:42:21.552 +00:00 [ERR] Connection id "0HNEVJBC4EVK8", Request id "0HNEVJBC4EVK8:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:42:21.5620365Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:21.5620403Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:21.5620440Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:21.5620545Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:21.5620582Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:21.5620613Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:21.5711293Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:21.5711786Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:21.5711830Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:21.5711862Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:21.5711896Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:21.5711969Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:21.5712001Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:21.5712030Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:21.5712059Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:21.5712087Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:21.5712116Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:21.5712142Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:21.5712168Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:21.5712202Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:21.5712255Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:21.6414833Z 2025-08-20 03:42:21.627 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 308.1377ms
2025-08-20T03:42:25.5292040Z 2025-08-20 03:42:25.519 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:25.5292408Z 2025-08-20 03:42:25.521 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:25.5637497Z 2025-08-20 03:42:25.563 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:25.5929974Z 2025-08-20 03:42:25.564 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.659ms with message 'Event Store connection failed'
2025-08-20T03:42:25.5930324Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:25.5930360Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:25.5930468Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:25.5930501Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:25.5930527Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:25.5930553Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:25.5930584Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:25.5930614Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:25.5930646Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:25.5930683Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:25.6141207Z 2025-08-20 03:42:25.606 +00:00 [ERR] Health check database with status Unhealthy completed after 70.4406ms with message 'Database connection failed'
2025-08-20T03:42:25.6350517Z 2025-08-20 03:42:25.623 +00:00 [INF] All configurations are valid
2025-08-20T03:42:25.7111333Z 2025-08-20 03:42:25.704 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:25.7416356Z 2025-08-20 03:42:25.740 +00:00 [ERR] Connection id "0HNEVJBC4EVK8", Request id "0HNEVJBC4EVK8:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:42:25.7884475Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:25.7884879Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:25.7884919Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:25.7885042Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:25.7885081Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:25.7885110Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:25.7885141Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:25.7885171Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:25.7885199Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:25.7885231Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:25.7885261Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:25.7885290Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:25.7885345Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:25.7885376Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:25.7885406Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:25.7885434Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:25.7885462Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:25.7885488Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:25.7885515Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:25.7885552Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:25.7885580Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:25.7891744Z 2025-08-20 03:42:25.788 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 269.9693ms
2025-08-20T03:42:30.7982594Z 2025-08-20 03:42:30.797 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:30.8292722Z 2025-08-20 03:42:30.829 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:30.8527068Z 2025-08-20 03:42:30.838 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:30.8527413Z 2025-08-20 03:42:30.845 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.6871ms with message 'Event Store connection failed'
2025-08-20T03:42:30.8527450Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:30.8640382Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:30.8640889Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:30.8640932Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:30.8640963Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:30.8641045Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:30.8641078Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:30.8641109Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:30.8641140Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:30.8641176Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:30.8739397Z 2025-08-20 03:42:30.862 +00:00 [INF] All configurations are valid
2025-08-20T03:42:30.9823681Z 2025-08-20 03:42:30.980 +00:00 [ERR] Health check database with status Unhealthy completed after 9.0161ms with message 'Database connection failed'
2025-08-20T03:42:31.0169610Z 2025-08-20 03:42:31.016 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:31.0527421Z 2025-08-20 03:42:31.033 +00:00 [ERR] Connection id "0HNEVJBC4EVK8", Request id "0HNEVJBC4EVK8:00000009": An unhandled exception was thrown by the application.
2025-08-20T03:42:31.1289655Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:31.1290022Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:31.1290059Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:31.1290088Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:31.1290131Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:31.1290161Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:31.1290277Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:31.1290306Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:31.1290334Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:31.1290362Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:31.1290390Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:31.1290419Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:31.1290449Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:31.1290478Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:31.1290532Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:31.1290559Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:31.1290588Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:31.1290614Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:31.1290640Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:31.1290675Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:31.1290703Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:31.1290731Z 2025-08-20 03:42:31.114 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 316.9145ms
2025-08-20T03:42:34.9586060Z 2025-08-20 03:42:34.958 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:42:34.9789980Z 2025-08-20 03:42:34.970 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 19.6552ms
2025-08-20T03:42:34.9790604Z 2025-08-20 03:42:34.972 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:42:36.1650366Z 2025-08-20 03:42:36.154 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:36.1879664Z 2025-08-20 03:42:36.166 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:36.1990446Z 2025-08-20 03:42:36.193 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:36.1991189Z 2025-08-20 03:42:36.195 +00:00 [ERR] Health check database with status Unhealthy completed after 0.8891ms with message 'Database connection failed'
2025-08-20T03:42:36.2373317Z 2025-08-20 03:42:36.226 +00:00 [INF] All configurations are valid
2025-08-20T03:42:36.2373858Z 2025-08-20 03:42:36.201 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 23.5291ms with message 'Event Store connection failed'
2025-08-20T03:42:36.2373894Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:36.2373922Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:36.2373956Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:36.2374069Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:36.2374099Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:36.2374124Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:36.2374156Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:36.2374188Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:36.2374220Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:36.2374257Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:36.3216766Z 2025-08-20 03:42:36.321 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:36.3417926Z 2025-08-20 03:42:36.340 +00:00 [ERR] Connection id "0HNEVJBC4EVK8", Request id "0HNEVJBC4EVK8:0000000A": An unhandled exception was thrown by the application.
2025-08-20T03:42:36.3427368Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:36.3427657Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:36.3427694Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:36.3427726Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:36.3427761Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:36.3427791Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:36.3427821Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:36.3427891Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:36.3427922Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:36.3427950Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:36.3427979Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:36.3428008Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:36.3428038Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:36.3428068Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:36.3428100Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:36.3428126Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:36.3428181Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:36.3428208Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:36.3428234Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:36.3428267Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:36.3428296Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:36.3695587Z 2025-08-20 03:42:36.369 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 214.7105ms
2025-08-20T03:42:41.4363844Z 2025-08-20 03:42:41.433 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:41.4573023Z 2025-08-20 03:42:41.453 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:41.5297328Z 2025-08-20 03:42:41.528 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:42.5903777Z 2025-08-20 03:42:42.590 +00:00 [INF] All configurations are valid
2025-08-20T03:42:46.0827511Z 2025-08-20 03:42:46.082 +00:00 [ERR] Health check database with status Unhealthy completed after 4085.7628ms with message 'Database connection failed'
2025-08-20T03:42:46.0914355Z 2025-08-20 03:42:46.073 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 4062.8392ms with message 'Event Store connection failed'
2025-08-20T03:42:46.0914877Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:46.1008091Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:42:46.1008724Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:46.1008771Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:46.1008801Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:42:46.1008832Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:46.1008939Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:42:46.1009011Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:46.1009040Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:42:46.1009067Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:42:46.1015365Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:46.1015486Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:46.1015517Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:46.1015548Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:46.1015619Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:46.1160748Z 2025-08-20 03:42:46.115 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:46.1364042Z 2025-08-20 03:42:46.130 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:42:46.1364602Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:46.1385097Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:46.1385407Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:46.1385440Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:46.1385518Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:46.1385548Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:46.1385577Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:46.1385606Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:46.1385634Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:42:46.1385661Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:46.1385687Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:42:46.1385716Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:42:46.1385744Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:42:46.1385794Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:46.1385823Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:46.1385850Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:46.1385879Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:46.1385908Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:46.1385966Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:46.1385993Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:46.1386041Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:46.1386068Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:46.1386093Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:46.1386124Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:46.1386152Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:46.1629326Z 2025-08-20 03:42:46.157 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4724.1712ms
2025-08-20T03:42:51.2158968Z 2025-08-20 03:42:51.215 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:51.2316891Z 2025-08-20 03:42:51.230 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:51.2700659Z 2025-08-20 03:42:51.269 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:51.3021416Z 2025-08-20 03:42:51.296 +00:00 [INF] All configurations are valid
2025-08-20T03:42:51.7251228Z 2025-08-20 03:42:51.724 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 462.1509ms with message 'Event Store connection failed'
2025-08-20T03:42:51.7327562Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:51.7328150Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:42:51.7328192Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:51.7328217Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:51.7328254Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:42:51.7328372Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:51.7328400Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:42:51.7328424Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:51.7328448Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:42:51.7331030Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:42:51.7331103Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:51.7331135Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:51.7331164Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:51.7331802Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:51.7331929Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:51.7433262Z 2025-08-20 03:42:51.726 +00:00 [ERR] Health check database with status Unhealthy completed after 470.4091ms with message 'Database connection failed'
2025-08-20T03:42:51.7575695Z 2025-08-20 03:42:51.754 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:51.7655151Z 2025-08-20 03:42:51.760 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:42:51.7655793Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:51.7655833Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:51.7655869Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:51.7655896Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:51.7656016Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:51.7656047Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:42:51.7656076Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:51.7656104Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:51.7656132Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:42:51.7656159Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:51.7656185Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:42:51.7656214Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:42:51.7656264Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:42:51.7656291Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:51.7656319Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:51.7656345Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:51.7656375Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:51.7656408Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:51.7656437Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:51.7656462Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:51.7656536Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:51.7656562Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:51.7656586Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:51.7656618Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:51.7656645Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:51.7772099Z 2025-08-20 03:42:51.776 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 561.4912ms
2025-08-20T03:42:56.8228267Z 2025-08-20 03:42:56.822 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:42:56.8455076Z 2025-08-20 03:42:56.845 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:42:56.8857270Z 2025-08-20 03:42:56.853 +00:00 [INF] Starting configuration status health check
2025-08-20T03:42:56.8857911Z 2025-08-20 03:42:56.880 +00:00 [INF] All configurations are valid
2025-08-20T03:42:56.9101347Z 2025-08-20 03:42:56.909 +00:00 [ERR] Health check database with status Unhealthy completed after 14.0718ms with message 'Database connection failed'
2025-08-20T03:42:56.9216150Z 2025-08-20 03:42:56.916 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.452ms with message 'Event Store connection failed'
2025-08-20T03:42:56.9216766Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:42:56.9216815Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:42:56.9216847Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:42:56.9216871Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:42:56.9216900Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:42:56.9217018Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:42:56.9217043Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:42:56.9217068Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:42:56.9217092Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:42:56.9217118Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:42:56.9217143Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:42:56.9217172Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:42:56.9217202Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:42:56.9217233Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:42:56.9217295Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:42:56.9338375Z 2025-08-20 03:42:56.933 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:42:56.9428825Z 2025-08-20 03:42:56.936 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:42:56.9429316Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:42:56.9429357Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:42:56.9429386Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:56.9429417Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:42:56.9429530Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:42:56.9429562Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:42:56.9429591Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:42:56.9429618Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:42:56.9429646Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:42:56.9429674Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:42:56.9429700Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:42:56.9429730Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:42:56.9429758Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:42:56.9429817Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:42:56.9429848Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:56.9429876Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:42:56.9429905Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:42:56.9429932Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:42:56.9429959Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:42:56.9429985Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:56.9430012Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:42:56.9430044Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:42:56.9430101Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:42:56.9480262Z 2025-08-20 03:42:56.947 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 124.9364ms
2025-08-20T03:43:02.0119659Z 2025-08-20 03:43:02.002 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:02.0659478Z 2025-08-20 03:43:02.064 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:02.1154127Z 2025-08-20 03:43:02.092 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:02.2258684Z 2025-08-20 03:43:02.219 +00:00 [ERR] Health check database with status Unhealthy completed after 8.1004ms with message 'Database connection failed'
2025-08-20T03:43:02.2901969Z 2025-08-20 03:43:02.289 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 179.3973ms with message 'Event Store connection failed'
2025-08-20T03:43:02.2902518Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:02.3002778Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:02.3003109Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:02.3004144Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:02.3004235Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:02.3004948Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:02.3005031Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:02.3005978Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:02.3006063Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:02.3006092Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:02.3011104Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:02.3011207Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:02.3012191Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:02.3013407Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:02.3020267Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:02.3097186Z 2025-08-20 03:43:02.309 +00:00 [INF] All configurations are valid
2025-08-20T03:43:02.4671484Z 2025-08-20 03:43:02.433 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:02.5087842Z 2025-08-20 03:43:02.477 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:43:02.5088438Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:02.5088480Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:02.5088508Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:02.5088539Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:02.5088638Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:02.5088673Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:02.5088702Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:02.5088731Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:02.5088759Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:02.5088793Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:02.5088821Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:43:02.5088847Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:02.5088876Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:02.5089056Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:02.5089086Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:02.5089116Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:02.5089144Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:02.5089170Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:02.5089198Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:02.5089224Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:02.5089250Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:02.5089282Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:02.5089446Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:02.5090039Z 2025-08-20 03:43:02.497 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 495.9312ms
2025-08-20T03:43:07.5659300Z 2025-08-20 03:43:07.557 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:07.6938923Z 2025-08-20 03:43:07.593 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:07.6940196Z 2025-08-20 03:43:07.652 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1512ms with message 'Event Store connection failed'
2025-08-20T03:43:07.6940234Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:07.6940270Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:07.6940299Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:07.6940324Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:07.6940351Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:07.6940382Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:07.6940499Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:07.6940525Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:07.6940550Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:07.6940576Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:07.6940602Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:07.6940633Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:07.6940662Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:07.6940693Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:07.6940727Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:07.6940781Z 2025-08-20 03:43:07.689 +00:00 [ERR] Health check database with status Unhealthy completed after 5.4531ms with message 'Database connection failed'
2025-08-20T03:43:07.7538136Z 2025-08-20 03:43:07.713 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:07.7538566Z 2025-08-20 03:43:07.735 +00:00 [INF] All configurations are valid
2025-08-20T03:43:07.7754380Z 2025-08-20 03:43:07.774 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:07.8126794Z 2025-08-20 03:43:07.791 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:43:07.8127139Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:07.8127181Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:07.8127218Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:07.8127331Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:07.8127367Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:07.8127397Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:07.8127427Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:07.8127455Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:07.8127483Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:07.8127510Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:07.8127536Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:43:07.8127588Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:07.8127618Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:07.8127644Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:07.8127674Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:07.8127704Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:07.8127732Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:07.8127758Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:07.8127786Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:07.8127812Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:07.8127861Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:07.8127893Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:07.8127921Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:07.8804255Z 2025-08-20 03:43:07.863 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 306.1772ms
2025-08-20T03:43:12.9622303Z 2025-08-20 03:43:12.959 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:12.9979724Z 2025-08-20 03:43:12.969 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:12.9980141Z 2025-08-20 03:43:12.979 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:12.9980178Z 2025-08-20 03:43:12.981 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3401ms with message 'Database connection failed'
2025-08-20T03:43:12.9980209Z 2025-08-20 03:43:12.989 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8967ms with message 'Event Store connection failed'
2025-08-20T03:43:12.9980235Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:12.9980264Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:12.9980296Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:12.9980320Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:12.9980428Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:12.9980464Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:12.9980490Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:12.9980515Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:12.9980539Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:12.9980565Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:12.9980590Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:12.9980619Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:12.9980648Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:12.9980703Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:12.9980744Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:12.9980768Z 2025-08-20 03:43:12.992 +00:00 [INF] All configurations are valid
2025-08-20T03:43:13.0485705Z 2025-08-20 03:43:13.048 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:13.1419145Z 2025-08-20 03:43:13.097 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:43:13.1419597Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:13.1419635Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:13.1419663Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:13.1419755Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:13.1419791Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:13.1419821Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:13.1419849Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:13.1419877Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:13.1419906Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:13.1419932Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:13.1419959Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:43:13.1419987Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:13.1420039Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:13.1420067Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:13.1420097Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:13.1420126Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:13.1420153Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:13.1420179Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:13.1420206Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:13.1420234Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:13.1420259Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:13.1420312Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:13.1420339Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:13.1706387Z 2025-08-20 03:43:13.170 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 210.367ms
2025-08-20T03:43:18.2046258Z 2025-08-20 03:43:18.204 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:18.2147736Z 2025-08-20 03:43:18.213 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:18.2291317Z 2025-08-20 03:43:18.228 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:18.2461410Z 2025-08-20 03:43:18.235 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0781ms with message 'Event Store connection failed'
2025-08-20T03:43:18.2461881Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:18.2519648Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:18.2520122Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:18.2581695Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:18.2582080Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:18.2582115Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:18.2582141Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:18.2582170Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:18.2582194Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:18.2582221Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:18.2582245Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:18.2582275Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:18.2582305Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:18.2582359Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:18.2582394Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:18.2582419Z 2025-08-20 03:43:18.251 +00:00 [INF] All configurations are valid
2025-08-20T03:43:18.2767564Z 2025-08-20 03:43:18.265 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2808ms with message 'Database connection failed'
2025-08-20T03:43:18.2995057Z 2025-08-20 03:43:18.299 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:18.3107201Z 2025-08-20 03:43:18.309 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:43:18.3153986Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:18.3155414Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:18.3155449Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:18.3155476Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:18.3155518Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:18.3155547Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:18.3373632Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:18.3373931Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:18.3373968Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:18.3374061Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:18.3374089Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:43:18.3374116Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:18.3374144Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:18.3374171Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:18.3374201Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:18.3374322Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:18.3374350Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:18.3374377Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:18.3374428Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:18.3374454Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:18.3374480Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:18.3374512Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:18.3374541Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:18.3436529Z 2025-08-20 03:43:18.343 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 154.8104ms
2025-08-20T03:43:20.0364958Z 2025-08-20 03:43:20.028 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:20.0464386Z 2025-08-20 03:43:20.046 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:20.0767617Z 2025-08-20 03:43:20.055 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:20.0774143Z 2025-08-20 03:43:20.077 +00:00 [INF] All configurations are valid
2025-08-20T03:43:20.1028796Z 2025-08-20 03:43:20.102 +00:00 [ERR] Health check database with status Unhealthy completed after 46.2312ms with message 'Database connection failed'
2025-08-20T03:43:20.1183663Z 2025-08-20 03:43:20.058 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.6736ms with message 'Event Store connection failed'
2025-08-20T03:43:20.1184406Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:20.1187964Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:20.1188177Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:20.1250270Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:20.1250558Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:20.1250593Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:20.1250619Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:20.1250644Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:20.1250671Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:20.1250696Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:20.1250720Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:20.1250750Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:20.1250803Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:20.1250834Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:20.1250870Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:20.1838307Z 2025-08-20 03:43:20.183 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:20.1974345Z 2025-08-20 03:43:20.188 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000009": An unhandled exception was thrown by the application.
2025-08-20T03:43:20.1974665Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:20.1974702Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:20.1974738Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:20.1974846Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:20.1974882Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:20.1974911Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:20.1974940Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:20.1974968Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:20.1974997Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:20.1975023Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:20.1975050Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:43:20.1975077Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:20.1975127Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:20.1975155Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:20.1975184Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:20.1975213Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:20.1975241Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:20.1975268Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:20.1975296Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:20.1975321Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:20.1975346Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:20.1975401Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:20.1975429Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:20.2212082Z 2025-08-20 03:43:20.219 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 191.2415ms
2025-08-20T03:43:23.3699967Z 2025-08-20 03:43:23.364 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:26.2481505Z 2025-08-20 03:43:23.380 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:26.2481790Z 2025-08-20 03:43:23.389 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:26.2481827Z 2025-08-20 03:43:23.390 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2236ms with message 'Database connection failed'
2025-08-20T03:43:26.2481853Z 2025-08-20 03:43:23.400 +00:00 [INF] All configurations are valid
2025-08-20T03:43:26.2481882Z 2025-08-20 03:43:23.408 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 17.457ms with message 'Event Store connection failed'
2025-08-20T03:43:26.2482632Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:26.2482687Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:26.2482749Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:26.2482776Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:26.2482807Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:26.2482837Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:26.2482862Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:26.2482887Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:26.2482911Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:26.2482938Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:26.2482962Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:26.2482992Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:26.2483043Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:26.2483074Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:26.2483109Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:26.2483134Z 2025-08-20 03:43:23.416 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:26.2483163Z 2025-08-20 03:43:23.426 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:0000000A": An unhandled exception was thrown by the application.
2025-08-20T03:43:26.2483198Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:26.2483228Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:26.2483254Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:26.2483299Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:26.2483334Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:26.2483363Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:26.2483392Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:26.2483651Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:26.2483691Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:26.2483718Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:26.2483744Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:43:26.2483806Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:26.2483836Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:26.2483863Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:26.2483894Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:26.2483922Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:26.2483951Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:26.2483977Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:26.2484004Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:26.2484049Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:26.2484075Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:26.2484107Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:26.2484134Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:26.2484163Z 2025-08-20 03:43:23.452 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 87.8961ms
2025-08-20T03:43:28.4302132Z 2025-08-20 03:43:28.304 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:43:28.4302455Z 2025-08-20 03:43:28.320 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 16.1049ms
2025-08-20T03:43:28.4302500Z 2025-08-20 03:43:28.388 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:43:28.5423410Z 2025-08-20 03:43:28.508 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:28.5423750Z 2025-08-20 03:43:28.509 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:28.5423783Z 2025-08-20 03:43:28.523 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:28.5423813Z 2025-08-20 03:43:28.525 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9147ms with message 'Event Store connection failed'
2025-08-20T03:43:28.5423838Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:28.5423870Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:28.5423901Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:28.5423925Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:28.5423952Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:28.5424062Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:28.5424090Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:28.5424114Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:28.5424138Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:28.5424164Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:28.5424189Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:28.5424219Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:28.5424249Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:28.5424280Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:28.5424334Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:28.6052203Z 2025-08-20 03:43:28.553 +00:00 [INF] All configurations are valid
2025-08-20T03:43:28.6210923Z 2025-08-20 03:43:28.605 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0908ms with message 'Database connection failed'
2025-08-20T03:43:28.6212212Z 2025-08-20 03:43:28.620 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:28.6499935Z 2025-08-20 03:43:28.626 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:0000000C": An unhandled exception was thrown by the application.
2025-08-20T03:43:28.6500385Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:28.6500432Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:28.6500464Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:28.6500570Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:28.6500608Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:28.6500636Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:28.6500665Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:28.6500693Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:28.6500721Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:28.6500749Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:28.6500778Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:43:28.6500827Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:28.6500856Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:28.6500883Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:28.6500912Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:28.6500941Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:28.6500969Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:28.6500995Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:28.6501023Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:28.6501048Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:28.6501092Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:28.6501124Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:28.6501151Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:28.6580999Z 2025-08-20 03:43:28.656 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 148.2774ms
2025-08-20T03:43:30.9505087Z    _____                               
2025-08-20T03:43:30.9506497Z   /  _  \ __________ _________   ____  
2025-08-20T03:43:30.9506572Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:43:30.9506602Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:43:30.9506663Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:43:30.9506704Z         \/      \/                  \/ 
2025-08-20T03:43:30.9506733Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:43:30.9506760Z 
2025-08-20T03:43:30.9506796Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:43:30.9506829Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:43:30.9506859Z ASP .NETCore Version: 8.0.18
2025-08-20T03:43:30.9506916Z Note: Any data outside '/home' is not persisted
2025-08-20T03:43:32.9860262Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:43:32.9956906Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:43:33.0246913Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:43:33.6786138Z 2025-08-20 03:43:33.677 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:34.3846210Z 2025-08-20 03:43:33.687 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:34.3846474Z 2025-08-20 03:43:33.696 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:34.3846510Z 2025-08-20 03:43:33.696 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.2007ms with message 'Event Store connection failed'
2025-08-20T03:43:34.3846536Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:34.3846567Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:34.3846618Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:34.3846644Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:34.3846672Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:34.3846702Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:34.3846729Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:34.3846754Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:34.3846778Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:34.3846804Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:34.3846829Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:34.3846858Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:34.3846911Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:34.3846941Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:34.3846978Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:34.3847002Z 2025-08-20 03:43:33.710 +00:00 [INF] All configurations are valid
2025-08-20T03:43:34.3847030Z 2025-08-20 03:43:33.731 +00:00 [ERR] Health check database with status Unhealthy completed after 2.5072ms with message 'Database connection failed'
2025-08-20T03:43:34.3847054Z 2025-08-20 03:43:33.767 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:34.3847082Z 2025-08-20 03:43:33.768 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:0000000D": An unhandled exception was thrown by the application.
2025-08-20T03:43:34.3847117Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:34.3847167Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:34.3847195Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:34.3847222Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:34.3847256Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:34.3847285Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:34.3847315Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:34.3847510Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:34.3848491Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:34.3848570Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:34.3848600Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:43:34.3848627Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:34.3848655Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:34.3848681Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:34.3848710Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:34.3848738Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:34.3848766Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:34.3848792Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:34.3848844Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:34.3848871Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:34.3848896Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:34.3848929Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:34.3848955Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:34.3848984Z 2025-08-20 03:43:33.785 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 108.768ms
2025-08-20T03:43:38.8863561Z 2025-08-20 03:43:38.878 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:40.9113350Z 2025-08-20 03:43:38.903 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:40.9113658Z 2025-08-20 03:43:38.914 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:40.9113692Z 2025-08-20 03:43:38.920 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1549ms with message 'Database connection failed'
2025-08-20T03:43:40.9113722Z 2025-08-20 03:43:38.929 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.5664ms with message 'Event Store connection failed'
2025-08-20T03:43:40.9113751Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:40.9113854Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:40.9113881Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:40.9113906Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:40.9113935Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:40.9113966Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:40.9113992Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:40.9114018Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:40.9114042Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:40.9114067Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:40.9114118Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:40.9114148Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:40.9114178Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:40.9114209Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:40.9114245Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:40.9114269Z 2025-08-20 03:43:38.947 +00:00 [INF] All configurations are valid
2025-08-20T03:43:40.9114293Z 2025-08-20 03:43:38.980 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:40.9114322Z 2025-08-20 03:43:39.049 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:0000000E": An unhandled exception was thrown by the application.
2025-08-20T03:43:40.9114381Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:40.9114412Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:40.9114440Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:40.9114466Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:40.9114500Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:40.9114530Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:40.9114559Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:40.9114770Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:40.9114805Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:40.9114854Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:40.9114883Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:43:40.9114910Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:40.9114939Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:40.9114966Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:40.9114994Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:40.9115023Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:40.9115051Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:40.9115099Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:40.9115129Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:40.9115154Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:40.9115180Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:40.9115212Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:40.9115239Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:40.9115267Z 2025-08-20 03:43:39.076 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 198.7708ms
2025-08-20T03:43:44.1658365Z 2025-08-20 03:43:44.163 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:44.1767455Z 2025-08-20 03:43:44.176 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:44.2366401Z 2025-08-20 03:43:44.228 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:44.2366721Z 2025-08-20 03:43:44.235 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0835ms with message 'Database connection failed'
2025-08-20T03:43:44.2519959Z 2025-08-20 03:43:44.245 +00:00 [INF] All configurations are valid
2025-08-20T03:43:44.2520268Z 2025-08-20 03:43:44.244 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 35.5289ms with message 'Event Store connection failed'
2025-08-20T03:43:44.2520308Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:44.2520340Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:44.2520365Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:44.2520389Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:44.2520497Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:44.2520530Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:44.2520556Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:44.2520582Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:44.2520605Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:44.2520631Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:44.2520655Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:44.2520685Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:44.2520716Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:44.2520768Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:44.2520803Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:44.2889111Z 2025-08-20 03:43:44.288 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:44.2977040Z 2025-08-20 03:43:44.296 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:0000000F": An unhandled exception was thrown by the application.
2025-08-20T03:43:44.2980091Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:44.2980944Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:44.2981029Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:44.2981574Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:44.3122512Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:44.3122968Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:44.3123010Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:44.3123039Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:44.3123068Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:44.3123095Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:44.3123125Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:43:44.3123198Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:44.3123227Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:44.3123254Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:44.3123284Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:44.3123313Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:44.3123342Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:44.3123367Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:44.3123395Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:44.3123421Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:44.3123525Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:44.3123558Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:44.3123586Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:44.3140926Z 2025-08-20 03:43:44.313 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 150.9211ms
2025-08-20T03:43:45.4803317Z 2025-08-20 03:43:45.398 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:43:46.0969708Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:43:47.2597280Z 2025-08-20 03:43:47.201 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:43:47.2598120Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:43:47.2598265Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:43:47.2598302Z    at System.Uri..ctor(String uriString)
2025-08-20T03:43:47.2598342Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:43:47.2598381Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:43:47.2598423Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:43:47.2972832Z 2025-08-20 03:43:47.296 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:43:47.3514291Z 2025-08-20 03:43:47.351 +00:00 [INF] Starting configuration validation...
2025-08-20T03:43:47.3767330Z 2025-08-20 03:43:47.376 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:43:47.3768051Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:43:47.3768100Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:43:47.3768220Z    at System.Uri..ctor(String uriString)
2025-08-20T03:43:47.3768265Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:43:47.3768305Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:43:47.3768349Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:43:47.3933473Z 2025-08-20 03:43:47.392 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:43:47.4017812Z 2025-08-20 03:43:47.401 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:43:47.4711228Z 2025-08-20 03:43:47.470 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:43:47.8883456Z 2025-08-20 03:43:47.888 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:43:48.0989523Z 2025-08-20 03:43:48.098 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:43:48.6434162Z 2025-08-20 03:43:48.643 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:43:48.6526511Z 2025-08-20 03:43:48.652 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:43:48.6607953Z 2025-08-20 03:43:48.656 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:43:48.6763354Z 2025-08-20 03:43:48.665 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:43:49.2534548Z 2025-08-20 03:43:49.238 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.3:8080/robots933456.txt - null null
2025-08-20T03:43:49.5160977Z 2025-08-20 03:43:49.513 +00:00 [WRN] Failed to determine the https port for redirect.
-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:49.3621154Z 2025-08-20 03:43:49.354 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:49.3902439Z 2025-08-20 03:43:49.382 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:49.4077341Z 2025-08-20 03:43:49.399 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 17.912ms with message 'Event Store connection failed'
2025-08-20T03:43:49.4077984Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:49.4078023Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:49.4078051Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:49.4078075Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:49.4078103Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:49.4078133Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:49.4078158Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:49.4078187Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:49.4078239Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:49.4078270Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:49.4078295Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:49.4078325Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:49.4078355Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:49.4078387Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:49.4078421Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:49.4247760Z 2025-08-20 03:43:49.416 +00:00 [INF] All configurations are valid
2025-08-20T03:43:49.4520934Z 2025-08-20 03:43:49.445 +00:00 [ERR] Health check database with status Unhealthy completed after 9.7996ms with message 'Database connection failed'
2025-08-20T03:43:49.4796598Z 2025-08-20 03:43:49.479 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:49.4898297Z 2025-08-20 03:43:49.488 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000010": An unhandled exception was thrown by the application.
2025-08-20T03:43:49.4992646Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:49.4992977Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:49.4993011Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:49.4993041Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:49.4993075Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:49.4993183Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:43:49.4993214Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:49.4993244Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:49.4993273Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:49.4993300Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:49.4993326Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:49.4993355Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:49.4993382Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:49.4993411Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:49.4993466Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:49.4993496Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:49.4993523Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:49.4993550Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:49.4993575Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:49.4993600Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:49.4993632Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:49.4993722Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:49.5162546Z 2025-08-20 03:43:49.505 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 162.7836ms
2025-08-20T03:43:50.3325413Z 2025-08-20 03:43:50.330 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health 2025-08-20T03:43:50.4108069Z 2025-08-20 03:43:50.404 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.3:8080/robots933456.txt, Response status code: 404
2025-08-20 03:43:50.376 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9331ms with message 'Event Store connection failed'
2025-08-20T03:43:50.3851906Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:50.3851952Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:50.3851978Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:50.3852043Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:50.3852074Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:50.3852106Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:50.3852131Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:50.3852156Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:50.3852181Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:50.3852207Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:50.3852232Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:50.3852307Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:50.3852372Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:50.3852405Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:50.3852441Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:50.4108799Z 2025-08-20 03:43:50.409 +00:00 [INF] All configurations are valid
2025-08-20T03:43:50.4263632Z 2025-08-20 03:43:50.420 +00:00 [ERR] Health check database with status Unhealthy completed after 2.4171ms with message 'Database connection failed'
2025-08-20T03:43:50.4710294Z 2025-08-20 03:43:50.464 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:50.4816031Z 2025-08-20 03:43:50.480 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000011": An unhandled exception was thrown by the application.
2025-08-20T03:43:50.4821686Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:50.4821807Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:50.4821836Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:50.4821863Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:50.4821898Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:50.4823622Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:50.4823673Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:50.4823704Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:50.4823771Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:50.4823800Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:50.4823827Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:50.4823855Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:50.4823883Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:50.4823913Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:50.4823943Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:50.4823972Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:50.4823999Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:50.4824051Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:50.4824076Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:50.4824101Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:50.4824133Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:50.4824255Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:50.4903543Z 2025-08-20 03:43:50.490 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 159.3437ms
2025-08-20T03:43:54.5550111Z 2025-08-20 03:43:54.548 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:54.5860959Z 2025-08-20 03:43:54.579 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:54.5869753Z 2025-08-20 03:43:54.586 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:54.6137287Z 2025-08-20 03:43:54.613 +00:00 [INF] All configurations are valid
2025-08-20T03:43:54.6509159Z 2025-08-20 03:43:54.650 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 44.0424ms with message 'Event Store connection failed'
2025-08-20T03:43:54.6509662Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:54.6512087Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:54.6512187Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:54.6512866Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:54.6512942Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:54.6514573Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:54.6514772Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:54.6515332Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:54.6515403Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:54.6515431Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:54.6516078Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:54.6516184Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:54.6516883Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:54.6517545Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:54.6518297Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:43:54.6526143Z 2025-08-20 03:43:54.652 +00:00 [ERR] Health check database with status Unhealthy completed after 19.336ms with message 'Database connection failed'
2025-08-20T03:43:54.6787341Z 2025-08-20 03:43:54.678 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:43:54.7013578Z 2025-08-20 03:43:54.700 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000012": An unhandled exception was thrown by the application.
2025-08-20T03:43:54.7100427Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:43:54.7100938Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:43:54.7100979Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:54.7102800Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:43:54.7102864Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:43:54.7102892Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:54.7102921Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:43:54.7103034Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:43:54.7103065Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:43:54.7103092Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:43:54.7103121Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:43:54.7103150Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:43:54.7103177Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:43:54.7103206Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:54.7103234Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:43:54.7103262Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:43:54.7103317Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:43:54.7103345Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:43:54.7103371Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:54.7103396Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:43:54.7111962Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:43:54.7112074Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:43:54.7605192Z 2025-08-20 03:43:54.724 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 177.6389ms
2025-08-20T03:43:59.7923363Z 2025-08-20 03:43:59.787 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:43:59.8100951Z 2025-08-20 03:43:59.805 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:43:59.8485588Z 2025-08-20 03:43:59.848 +00:00 [INF] Starting configuration status health check
2025-08-20T03:43:59.8836118Z 2025-08-20 03:43:59.883 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2593ms with message 'Database connection failed'
2025-08-20T03:43:59.9162393Z 2025-08-20 03:43:59.890 +00:00 [INF] All configurations are valid
2025-08-20T03:43:59.9162744Z 2025-08-20 03:43:59.899 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 84.8893ms with message 'Event Store connection failed'
2025-08-20T03:43:59.9162781Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:43:59.9162813Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:43:59.9162845Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:43:59.9162954Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:43:59.9162985Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:43:59.9163017Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:43:59.9163042Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:43:59.9163066Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:43:59.9163091Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:43:59.9163117Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:43:59.9163142Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:43:59.9163171Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:43:59.9163229Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:43:59.9163261Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:43:59.9163297Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:00.2285304Z 2025-08-20 03:44:00.228 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:00.4837580Z 2025-08-20 03:44:00.481 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:44:00.5497224Z 2025-08-20 03:44:00.549 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 68.413ms
2025-08-20T03:44:00.5855904Z 2025-08-20 03:44:00.583 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:44:00.4921457Z 2025-08-20 03:44:00.431 +00:00 [ERR] Connection id "0HNEVJE80QKV9", Request id "0HNEVJE80QKV9:00000013": An unhandled exception was thrown by the application.
2025-08-20T03:44:00.4922205Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:00.4922259Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:00.4922290Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:00.4922391Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:00.4922430Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:00.4922459Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:00.4922489Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:00.4922516Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:00.4922543Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:00.4922569Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:00.4922598Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:00.4922624Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:00.4922679Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:00.4922709Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:00.4922737Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:00.4922763Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:00.4922790Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:00.4922815Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:00.4922841Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:00.4922872Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:00.4922925Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:00.5182844Z 2025-08-20 03:44:00.516 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 729.0086ms
2025-08-20T03:44:05.5489987Z 2025-08-20 03:44:05.548 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:05.5683603Z 2025-08-20 03:44:05.565 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:05.5896076Z 2025-08-20 03:44:05.589 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:06.5562579Z 2025-08-20 03:44:06.555 +00:00 [INF] All configurations are valid
2025-08-20T03:44:07.9736324Z 2025-08-20 03:44:07.959 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1877.2722ms with message 'Event Store connection failed'
2025-08-20T03:44:07.9737250Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:07.9737298Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:07.9737326Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:07.9737438Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:07.9737468Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:07.9737499Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:07.9737524Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:07.9737548Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:07.9737574Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:07.9737600Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:07.9737625Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:07.9737657Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:07.9737706Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:07.9737738Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:07.9737807Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:11.0763984Z 2025-08-20 03:44:11.075 +00:00 [ERR] Health check database with status Unhealthy completed after 5008.4455ms with message 'Database connection failed'
2025-08-20T03:44:11.0895126Z 2025-08-20 03:44:11.089 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:11.1356797Z 2025-08-20 03:44:11.121 +00:00 [ERR] Connection id "0HNEVJF2VD7CV", Request id "0HNEVJF2VD7CV:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:44:11.1357135Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:11.1357249Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:11.1357281Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:11.1357308Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:11.1357343Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:11.1357372Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:44:11.1357402Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:11.1357430Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:11.1357458Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:11.1357486Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:11.1357537Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:44:11.1357569Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:44:11.1357596Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:44:11.1357623Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:11.1357652Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:11.1357679Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:11.1357708Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:11.1357737Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:11.1357786Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:11.1357812Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:11.1357840Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:11.1357865Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:11.1357890Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:11.1357923Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:11.1357950Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:11.1713769Z 2025-08-20 03:44:11.163 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 5615.3695ms
2025-08-20T03:44:21.1674364Z 2025-08-20 03:44:21.167 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:21.1806373Z 2025-08-20 03:44:21.173 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:21.1888816Z 2025-08-20 03:44:21.183 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:21.2125647Z 2025-08-20 03:44:21.210 +00:00 [INF] All configurations are valid
2025-08-20T03:44:21.6696543Z 2025-08-20 03:44:21.669 +00:00 [ERR] Health check database with status Unhealthy completed after 472.5076ms with message 'Database connection failed'
2025-08-20T03:44:21.6759453Z 2025-08-20 03:44:21.669 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 468.8148ms with message 'Event Store connection failed'
2025-08-20T03:44:21.6759849Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:21.6759893Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:21.6759978Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:21.6760005Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:21.6760034Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:21.6760065Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:21.6760092Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:21.6760116Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:21.6760141Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:21.6760168Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:21.6760193Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:21.6760223Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:21.6827938Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:21.6828019Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:21.6828119Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:21.6898605Z 2025-08-20 03:44:21.685 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:21.6931040Z 2025-08-20 03:44:21.687 +00:00 [ERR] Connection id "0HNEVJF2VD7CV", Request id "0HNEVJF2VD7CV:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:44:21.6931290Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:21.6931339Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:21.6931409Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:21.6931437Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:21.6931472Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:21.6931502Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:21.6931532Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:21.6931560Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:21.6931589Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:21.6931616Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:21.6931642Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:44:21.6931697Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:44:21.6931724Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:44:21.6931752Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:21.6931781Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:21.6931808Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:21.6931838Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:21.6931891Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:21.6931919Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:21.6931966Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:21.6931994Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:21.6932019Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:21.6932045Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:21.6932076Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:21.6932103Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:21.7088872Z 2025-08-20 03:44:21.708 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 532.3306ms
2025-08-20T03:44:27.4720390Z 2025-08-20 03:44:27.470 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:27.4823743Z 2025-08-20 03:44:27.477 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:44:27.4824006Z 2025-08-20 03:44:27.402 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:44:27.4899415Z 2025-08-20 03:44:27.486 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:27.5353302Z 2025-08-20 03:44:27.503 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 26.9722ms
2025-08-20T03:44:27.5353627Z 2025-08-20 03:44:27.512 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:44:27.6250580Z 2025-08-20 03:44:27.549 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 147.5541ms
2025-08-20T03:44:27.6251129Z 2025-08-20 03:44:27.565 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:44:27.6251168Z 2025-08-20 03:44:27.610 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:44:27.6622634Z 2025-08-20 03:44:27.651 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:27.6623134Z 2025-08-20 03:44:27.655 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 45.6125ms
2025-08-20T03:44:27.6979084Z 2025-08-20 03:44:27.665 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:44:27.6986668Z 2025-08-20 03:44:27.698 +00:00 [INF] All configurations are valid
2025-08-20T03:44:27.6996542Z 2025-08-20 03:44:27.699 +00:00 [ERR] Health check database with status Unhealthy completed after 45.0634ms with message 'Database connection failed'
2025-08-20T03:44:27.7063463Z 2025-08-20 03:44:27.702 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 30.8943ms with message 'Event Store connection failed'
2025-08-20T03:44:27.7063738Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:27.7063773Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:27.7063800Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:27.7063825Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:27.7063852Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:27.7063883Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:27.7063908Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:27.7063935Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:27.7063985Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:27.7064011Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:27.7064036Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:27.7064066Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:27.7064097Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:27.7064127Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:27.7064161Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:27.8589771Z 2025-08-20 03:44:27.855 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:27.8807443Z 2025-08-20 03:44:27.878 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:44:27.8807809Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:27.8807845Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:27.8807873Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:27.8807901Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:27.8807935Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:27.8807963Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:27.8807993Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:27.8808126Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:27.8808158Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:27.8808185Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:27.8808211Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:44:27.8808240Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:27.8808268Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:27.8808295Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:27.8808326Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:27.8808354Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:27.8808449Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:27.8808477Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:27.8808505Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:27.8808531Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:27.8808556Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:27.8808588Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:27.8808617Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:27.9193707Z 2025-08-20 03:44:27.919 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 448.8397ms
2025-08-20T03:44:28.4969923Z 2025-08-20 03:44:28.480 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:44:28.5439682Z 2025-08-20 03:44:28.515 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 35.4931ms
2025-08-20T03:44:28.5517318Z 2025-08-20 03:44:28.551 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:44:33.0249437Z 2025-08-20 03:44:33.014 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:33.0404179Z 2025-08-20 03:44:33.038 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:33.0544357Z 2025-08-20 03:44:33.047 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:33.0743115Z 2025-08-20 03:44:33.067 +00:00 [INF] All configurations are valid
2025-08-20T03:44:33.0840997Z 2025-08-20 03:44:33.083 +00:00 [ERR] Health check database with status Unhealthy completed after 2.071ms with message 'Database connection failed'
2025-08-20T03:44:33.0918105Z 2025-08-20 03:44:33.090 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 27.2444ms with message 'Event Store connection failed'
2025-08-20T03:44:33.0918429Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:33.0918469Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:33.0918587Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:33.0918613Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:33.0918641Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:33.0918671Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:33.0918699Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:33.0918729Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:33.0918754Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:33.0918780Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:33.0918805Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:33.0918858Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:33.0918888Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:33.0918919Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:33.0918953Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:33.1111561Z 2025-08-20 03:44:33.110 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:33.1645901Z 2025-08-20 03:44:33.117 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:44:33.1646266Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:33.1646311Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:33.1646414Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:33.1646442Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:33.1646477Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:33.1646505Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:33.1646535Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:33.1646567Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:33.1646596Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:33.1646623Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:33.1646676Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:44:33.1646704Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:33.1646732Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:33.1646759Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:33.1646788Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:33.1646818Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:33.1646847Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:33.1646873Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:33.1646902Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:33.1646949Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:33.1646974Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:33.1647006Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:33.1647033Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:33.2426684Z 2025-08-20 03:44:33.242 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 190.5402ms
2025-08-20T03:44:37.3757250Z 2025-08-20 03:44:37.361 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:44:37.3757796Z 2025-08-20 03:44:37.375 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 14.4018ms
2025-08-20T03:44:37.3976354Z 2025-08-20 03:44:37.397 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:44:38.2883784Z 2025-08-20 03:44:38.238 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:38.2884147Z 2025-08-20 03:44:38.247 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:38.3064734Z 2025-08-20 03:44:38.280 +00:00 [ERR] Health check database with status Unhealthy completed after 12.2836ms with message 'Database connection failed'
2025-08-20T03:44:38.3064997Z 2025-08-20 03:44:38.298 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:38.3249656Z 2025-08-20 03:44:38.294 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 27.7848ms with message 'Event Store connection failed'
2025-08-20T03:44:38.3250116Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:38.3250156Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:38.3250183Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:38.3250209Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:38.3250237Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:38.3250267Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:38.3924578Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:38.3925109Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:38.3925145Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:38.3925261Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:38.3925290Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:38.3925320Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:38.3925350Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:38.3925381Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:38.3925416Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:38.4253463Z 2025-08-20 03:44:38.418 +00:00 [INF] All configurations are valid
2025-08-20T03:44:38.4542604Z 2025-08-20 03:44:38.432 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:38.4687399Z 2025-08-20 03:44:38.450 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:44:38.4687777Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:38.4687901Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:38.4687930Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:38.4687957Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:38.4687993Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:38.4688022Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:38.4688052Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:38.4688081Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:38.4688109Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:38.4688136Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:38.4688236Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:44:38.4688263Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:38.4688292Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:38.4688318Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:38.4688348Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:38.4688377Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:38.4688481Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:38.4688507Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:38.4688535Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:38.4688586Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:38.4688611Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:38.4688644Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:38.4688671Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:38.5394064Z 2025-08-20 03:44:38.507 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 269.3031ms
2025-08-20T03:44:43.6092807Z 2025-08-20 03:44:43.580 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:43.7123170Z 2025-08-20 03:44:43.703 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:43.7674203Z 2025-08-20 03:44:43.758 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:43.7801627Z 2025-08-20 03:44:43.773 +00:00 [ERR] Health check database with status Unhealthy completed after 14.0226ms with message 'Database connection failed'
2025-08-20T03:44:43.7940333Z 2025-08-20 03:44:43.793 +00:00 [INF] All configurations are valid
2025-08-20T03:44:43.8072266Z 2025-08-20 03:44:43.722 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0456ms with message 'Event Store connection failed'
2025-08-20T03:44:43.8072905Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:43.8236782Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:43.8237777Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:43.8237813Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:43.8237840Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:43.8237871Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:43.8237903Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:43.8237931Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:43.8237959Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:43.8237986Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:43.8238010Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:43.8238081Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:43.8238111Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:43.8238142Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:43.8238176Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:43.8528485Z 2025-08-20 03:44:43.852 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:43.8927459Z 2025-08-20 03:44:43.881 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:44:43.9084922Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:43.9085935Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:43.9085976Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:43.9086004Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:43.9086042Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:43.9086070Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:43.9086100Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:43.9086132Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:43.9086162Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:43.9086191Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:43.9086252Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:44:43.9086282Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:43.9086311Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:43.9086337Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:43.9086367Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:43.9086398Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:43.9086427Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:43.9086455Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:43.9086483Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:43.9086534Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:43.9086560Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:43.9086591Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:43.9086619Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:43.9715720Z 2025-08-20 03:44:43.971 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 390.5886ms
2025-08-20T03:44:49.0062933Z 2025-08-20 03:44:49.006 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:49.0316924Z 2025-08-20 03:44:49.009 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:49.0594177Z 2025-08-20 03:44:49.058 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:49.1309332Z 2025-08-20 03:44:49.130 +00:00 [INF] All configurations are valid
2025-08-20T03:44:49.1563111Z 2025-08-20 03:44:49.074 +00:00 [ERR] Health check database with status Unhealthy completed after 15.1446ms with message 'Database connection failed'
2025-08-20T03:44:49.2106661Z 2025-08-20 03:44:49.195 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 74.784ms with message 'Event Store connection failed'
2025-08-20T03:44:49.2107160Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:49.2246848Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:49.2247238Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:49.2247271Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:49.2247416Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:49.2247448Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:49.2247474Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:49.2247499Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:49.2247524Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:49.2247550Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:49.2247574Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:49.2247606Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:49.2247635Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:49.2247692Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:49.2247727Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:49.2467543Z 2025-08-20 03:44:49.246 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:49.2649499Z 2025-08-20 03:44:49.255 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:44:49.2727681Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:49.2927235Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:49.2928125Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:49.2928852Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:49.2928900Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:49.2928929Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:49.2928958Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:49.2928986Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:49.2929016Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:49.2929043Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:49.2929070Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:44:49.2929121Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:49.2929150Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:49.2929177Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:49.2929206Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:49.2929234Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:49.2929263Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:49.2929289Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:49.2929317Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:49.2929342Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:49.2929384Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:49.2929416Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:49.2929444Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:49.3140026Z 2025-08-20 03:44:49.307 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 301.2862ms
2025-08-20T03:44:50.2649174Z 2025-08-20 03:44:50.251 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:50.2839119Z 2025-08-20 03:44:50.262 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:50.3510955Z 2025-08-20 03:44:50.348 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 50.5894ms with message 'Event Store connection failed'
2025-08-20T03:44:50.3511548Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:50.3511590Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:50.3511616Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:50.3511641Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:50.3511669Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:50.3511702Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:50.3511739Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:50.3511768Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:50.3511792Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:50.3511838Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:50.3511864Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:50.3511894Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:50.3511923Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:50.3511955Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:50.3511990Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:50.3587530Z 2025-08-20 03:44:50.358 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:50.3597031Z 2025-08-20 03:44:50.303 +00:00 [ERR] Health check database with status Unhealthy completed after 6.4463ms with message 'Database connection failed'
2025-08-20T03:44:50.3948884Z 2025-08-20 03:44:50.394 +00:00 [INF] All configurations are valid
2025-08-20T03:44:50.4022751Z 2025-08-20 03:44:50.402 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:50.4250034Z 2025-08-20 03:44:50.411 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:44:50.4250661Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:50.4250704Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:50.4250735Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:50.4250762Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:50.4250796Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:50.4250915Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:50.4250945Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:50.4250973Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:50.4251005Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:50.4251031Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:50.4251058Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:44:50.4251085Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:50.4251114Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:50.4251140Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:50.4251192Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:50.4251221Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:50.4251251Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:50.4251278Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:50.4251305Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:50.4251332Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:50.4251357Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:50.4251388Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:50.4251415Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:50.4411315Z 2025-08-20 03:44:50.440 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 189.4859ms
2025-08-20T03:44:51.1281601Z 2025-08-20 03:44:51.126 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:51.2227634Z 2025-08-20 03:44:51.198 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:51.2228311Z 2025-08-20 03:44:51.204 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:51.2228349Z 2025-08-20 03:44:51.207 +00:00 [ERR] Health check database with status Unhealthy completed after 1.8925ms with message 'Database connection failed'
2025-08-20T03:44:51.2495008Z 2025-08-20 03:44:51.242 +00:00 [INF] All configurations are valid
2025-08-20T03:44:51.3131766Z 2025-08-20 03:44:51.243 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 36.105ms with message 'Event Store connection failed'
2025-08-20T03:44:51.3132227Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:52.4753714Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:52.4754086Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:52.4754124Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:52.4754154Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:52.4754185Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:52.4754211Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:52.4754236Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:52.4754259Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:52.4754285Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:52.4754310Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:52.4754364Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:52.4754394Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:52.4754426Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:52.4754460Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:52.4754484Z 2025-08-20 03:44:51.382 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:52.4754513Z 2025-08-20 03:44:51.411 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000009": An unhandled exception was thrown by the application.
2025-08-20T03:44:52.4754546Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:52.4754578Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:52.4754605Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:52.4754653Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:52.4754688Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:52.4754716Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:52.4754745Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:52.4754773Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:52.4754801Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:52.4754828Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:52.4754854Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:44:52.4754904Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:52.5318851Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:52.5319288Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:52.5319332Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:52.5319370Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:52.5319400Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:52.5319458Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:52.5319491Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:52.5319587Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:52.5319613Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:52.5319646Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:52.5319673Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:52.5319702Z 2025-08-20 03:44:51.462 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 336.0771ms
2025-08-20T03:44:52.5319730Z 2025-08-20 03:44:51.709 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:44:52.5319757Z 2025-08-20 03:44:51.721 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 12.0507ms
2025-08-20T03:44:52.5319790Z 2025-08-20 03:44:51.795 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:44:52.5319840Z 2025-08-20 03:44:52.007 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger - null 0
2025-08-20T03:44:52.5319869Z 2025-08-20 03:44:52.066 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger - 404 0 null 58.7545ms
2025-08-20T03:44:52.5319903Z 2025-08-20 03:44:52.068 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger, Response status code: 404
2025-08-20T03:44:52.5319931Z 2025-08-20 03:44:52.320 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:44:52.5319960Z 2025-08-20 03:44:52.337 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 17.2393ms
2025-08-20T03:44:52.5319994Z 2025-08-20 03:44:52.359 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:44:52.5648642Z 2025-08-20 03:44:52.545 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count - null 0
2025-08-20T03:44:52.6500086Z 2025-08-20 03:44:52.649 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count - 404 0 null 104.7636ms
2025-08-20T03:44:52.6589985Z 2025-08-20 03:44:52.658 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count, Response status code: 404
2025-08-20T03:44:52.8991421Z 2025-08-20 03:44:52.898 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search?q= - null 0
2025-08-20T03:44:52.9221760Z 2025-08-20 03:44:52.919 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search?q= - 404 0 null 21.2046ms
2025-08-20T03:44:52.9665582Z 2025-08-20 03:44:52.963 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search, Response status code: 404
2025-08-20T03:44:53.1578580Z 2025-08-20 03:44:53.157 +00:00 [INF] Request starting HTTP/1.1 POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - application/json 126
2025-08-20T03:44:53.1732920Z 2025-08-20 03:44:53.172 +00:00 [INF] Request finished HTTP/1.1 POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 14.9104ms
2025-08-20T03:44:53.1792656Z 2025-08-20 03:44:53.179 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:44:53.3525837Z 2025-08-20 03:44:53.351 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info - null 0
2025-08-20T03:44:53.4193891Z 2025-08-20 03:44:53.361 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info - 404 0 null 10.204ms
2025-08-20T03:44:53.4802789Z 2025-08-20 03:44:53.480 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info, Response status code: 404
2025-08-20T03:44:53.6649482Z 2025-08-20 03:44:53.658 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config - null 0
2025-08-20T03:44:53.7019079Z 2025-08-20 03:44:53.701 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config - 404 0 null 44.7273ms
2025-08-20T03:44:53.7131889Z 2025-08-20 03:44:53.713 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config, Response status code: 404
2025-08-20T03:44:53.8836920Z 2025-08-20 03:44:53.883 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database - null 0
2025-08-20T03:44:53.9089900Z 2025-08-20 03:44:53.908 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database - 404 0 null 25.3473ms
2025-08-20T03:44:53.9175507Z 2025-08-20 03:44:53.917 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database, Response status code: 404
2025-08-20T03:44:54.2196333Z 2025-08-20 03:44:54.219 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:44:54.2266065Z 2025-08-20 03:44:54.226 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 7.7021ms
2025-08-20T03:44:54.2277231Z 2025-08-20 03:44:54.227 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:44:54.4002787Z 2025-08-20 03:44:54.399 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:44:54.4072565Z 2025-08-20 03:44:54.407 +00:00 [INF] CORS policy execution successful.
2025-08-20T03:44:54.4216311Z 2025-08-20 03:44:54.421 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 21.9388ms
2025-08-20T03:44:54.4365311Z 2025-08-20 03:44:54.436 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:44:54.4444905Z 2025-08-20 03:44:54.443 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:54.4545849Z 2025-08-20 03:44:54.454 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:54.4628292Z 2025-08-20 03:44:54.458 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:54.4871571Z 2025-08-20 03:44:54.472 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.2348ms with message 'Event Store connection failed'
2025-08-20T03:44:54.4871982Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:54.4967914Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:54.4968437Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:54.4969479Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:54.4969566Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:54.4970238Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:54.4970312Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:54.4970848Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:54.4970913Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:54.4970941Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:54.4971621Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:54.4971699Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:54.4972667Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:54.4973567Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:54.4974333Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:54.4975354Z 2025-08-20 03:44:54.495 +00:00 [ERR] Health check database with status Unhealthy completed after 8.3267ms with message 'Database connection failed'
2025-08-20T03:44:54.4976757Z 2025-08-20 03:44:54.496 +00:00 [INF] All configurations are valid
2025-08-20T03:44:54.5263730Z 2025-08-20 03:44:54.526 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:54.5422986Z 2025-08-20 03:44:54.540 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000015": An unhandled exception was thrown by the application.
2025-08-20T03:44:54.5423345Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:54.5423393Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:54.5423427Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:54.5423458Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:54.5423498Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:54.5423534Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:54.5423654Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:54.5423691Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:54.5423725Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:54.5423755Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:54.5423789Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:44:54.5423820Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:54.5423854Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:54.5423884Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:54.5423918Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:54.5423980Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:54.5424016Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:54.5424047Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:54.5424078Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:54.5424107Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:54.5424136Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:54.5424172Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:54.5424553Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:54.5573839Z 2025-08-20 03:44:54.556 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 112.3669ms
2025-08-20T03:44:54.6108793Z 2025-08-20 03:44:54.610 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:44:54.6189353Z 2025-08-20 03:44:54.617 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 6.9647ms
2025-08-20T03:44:54.6483345Z 2025-08-20 03:44:54.646 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:44:54.8391457Z 2025-08-20 03:44:54.838 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:44:54.8411726Z 2025-08-20 03:44:54.841 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 2.2102ms
2025-08-20T03:44:54.8627990Z 2025-08-20 03:44:54.857 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:44:55.0451837Z 2025-08-20 03:44:55.032 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:44:55.0478390Z 2025-08-20 03:44:55.047 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 15.5197ms
2025-08-20T03:44:55.0616404Z 2025-08-20 03:44:55.056 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:44:55.2786762Z 2025-08-20 03:44:55.272 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:44:55.3002821Z 2025-08-20 03:44:55.297 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 25.4693ms
2025-08-20T03:44:55.3163992Z 2025-08-20 03:44:55.315 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:44:55.4910329Z 2025-08-20 03:44:55.490 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:44:55.5026695Z 2025-08-20 03:44:55.500 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 9.4647ms
2025-08-20T03:44:55.5027013Z 2025-08-20 03:44:55.501 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:44:55.6887459Z 2025-08-20 03:44:55.688 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent - null 0
2025-08-20T03:44:55.6942141Z 2025-08-20 03:44:55.693 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent - 404 0 null 5.5084ms
2025-08-20T03:44:55.6960553Z 2025-08-20 03:44:55.695 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent, Response status code: 404
2025-08-20T03:44:55.8780371Z 2025-08-20 03:44:55.877 +00:00 [INF] Request starting HTTP/1.1 PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:44:55.8902316Z 2025-08-20 03:44:55.889 +00:00 [INF] Request finished HTTP/1.1 PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 11.7379ms
2025-08-20T03:44:55.8912692Z 2025-08-20 03:44:55.891 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:44:59.6646773Z 2025-08-20 03:44:59.595 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:44:59.6647064Z 2025-08-20 03:44:59.596 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:44:59.6647102Z 2025-08-20 03:44:59.603 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8723ms with message 'Event Store connection failed'
2025-08-20T03:44:59.6647128Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:44:59.6647159Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:44:59.6647189Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:44:59.6647219Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:44:59.6647280Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:44:59.6647311Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:44:59.6647336Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:44:59.6647360Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:44:59.6647384Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:44:59.6647410Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:44:59.6647435Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:44:59.6647466Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:44:59.6647496Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:44:59.6647550Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:44:59.6647584Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:44:59.6647609Z 2025-08-20 03:44:59.609 +00:00 [INF] Starting configuration status health check
2025-08-20T03:44:59.6647637Z 2025-08-20 03:44:59.610 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1389ms with message 'Database connection failed'
2025-08-20T03:44:59.6647662Z 2025-08-20 03:44:59.635 +00:00 [INF] All configurations are valid
2025-08-20T03:44:59.6647686Z 2025-08-20 03:44:59.654 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:44:59.7318206Z 2025-08-20 03:44:59.657 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:0000001D": An unhandled exception was thrown by the application.
2025-08-20T03:44:59.7318581Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:44:59.7318693Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:44:59.7318723Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:59.7318750Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:44:59.7318784Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:44:59.7318813Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:59.7318841Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:44:59.7318871Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:44:59.7319174Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:44:59.7319207Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:44:59.7319265Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:44:59.7319293Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:44:59.7319322Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:44:59.7319350Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:44:59.7319379Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:59.7319410Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:44:59.7319439Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:44:59.7319465Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:44:59.7319514Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:44:59.7319540Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:59.7319565Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:44:59.7319598Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:44:59.7319625Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:44:59.7778702Z 2025-08-20 03:44:59.775 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 180.3196ms
2025-08-20T03:45:03.8497193Z    _____                               
2025-08-20T03:45:03.8506666Z   /  _  \ __________ _________   ____  
2025-08-20T03:45:03.8506760Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:45:03.8506796Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:45:03.8506840Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:45:03.8506902Z         \/      \/                  \/ 
2025-08-20T03:45:03.8506939Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:45:03.8506966Z 
2025-08-20T03:45:03.8507001Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:45:03.8507033Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:45:03.8507064Z ASP .NETCore Version: 8.0.18
2025-08-20T03:45:03.8507094Z Note: Any data outside '/home' is not persisted
2025-08-20T03:45:04.8064405Z 2025-08-20 03:45:04.806 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:04.8091082Z 2025-08-20 03:45:04.808 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:04.8238169Z 2025-08-20 03:45:04.823 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:04.8262021Z 2025-08-20 03:45:04.826 +00:00 [ERR] Health check database with status Unhealthy completed after 2.4331ms with message 'Database connection failed'
2025-08-20T03:45:04.8565403Z 2025-08-20 03:45:04.832 +00:00 [INF] All configurations are valid
2025-08-20T03:45:04.8588949Z 2025-08-20 03:45:04.858 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 40.726ms with message 'Event Store connection failed'
2025-08-20T03:45:04.8589232Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:04.8608920Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:04.8609150Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:04.8629389Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:04.8629618Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:04.8635479Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:04.8635593Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:04.8635621Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:04.8635645Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:04.8635671Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:04.8743798Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:04.8789014Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:04.8796237Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:04.8803223Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:04.8855691Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:04.9051877Z 2025-08-20 03:45:04.902 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:04.9127205Z 2025-08-20 03:45:04.905 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:0000001E": An unhandled exception was thrown by the application.
2025-08-20T03:45:04.9138123Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:04.9141854Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:04.9142044Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:04.9145587Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:04.9150098Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:04.9150368Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:04.9215869Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:04.9222771Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:04.9227687Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:45:04.9227772Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:04.9227809Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:45:04.9227842Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:04.9227870Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:04.9227935Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:04.9227967Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:04.9227997Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:04.9228025Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:04.9228363Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:04.9228410Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:04.9228438Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:04.9228464Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:04.9228496Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:04.9228551Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:04.9428557Z 2025-08-20 03:45:04.942 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 132.014ms
2025-08-20T03:45:06.0717013Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:45:06.0784533Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:45:06.1035869Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:45:09.9577284Z 2025-08-20 03:45:09.952 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:09.9601332Z 2025-08-20 03:45:09.959 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:09.9680802Z 2025-08-20 03:45:09.967 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:09.9816729Z 2025-08-20 03:45:09.980 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14.0928ms with message 'Event Store connection failed'
2025-08-20T03:45:09.9825327Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:09.9825447Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:09.9825479Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:09.9825504Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:09.9825531Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:09.9825563Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:09.9825588Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:09.9825614Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:09.9825677Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:09.9825705Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:09.9825729Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:09.9825760Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:09.9825789Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:09.9825836Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:09.9825870Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:09.9911391Z 2025-08-20 03:45:09.983 +00:00 [INF] All configurations are valid
2025-08-20T03:45:09.9999654Z 2025-08-20 03:45:09.993 +00:00 [ERR] Health check database with status Unhealthy completed after 10.2253ms with message 'Database connection failed'
2025-08-20T03:45:10.0083886Z 2025-08-20 03:45:10.001 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:10.0092659Z 2025-08-20 03:45:10.003 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:0000001F": An unhandled exception was thrown by the application.
2025-08-20T03:45:10.0093271Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:10.0093837Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:10.0093910Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:10.0094395Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:10.0094984Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:10.0095051Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:10.0095541Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:10.0095623Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:10.0096110Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:45:10.0096621Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:10.0096691Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:45:10.0097194Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:10.0097261Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:10.0097736Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:10.0097808Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:10.0098275Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:10.0098777Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:10.0098842Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:10.0099328Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:10.0099432Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:10.0099460Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:10.0099937Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:10.0100439Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:10.0175004Z 2025-08-20 03:45:10.017 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 64.475ms
2025-08-20T03:45:14.3867544Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:45:14.4101965Z 4 added, 0 removed; done.
2025-08-20T03:45:14.4221058Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:45:14.4221339Z done.
2025-08-20T03:45:14.4453523Z CA certificates copied and updated successfully.
2025-08-20T03:45:14.7296901Z Starting periodic command scheduler: cron.
2025-08-20T03:45:14.7697461Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:45:14.8650998Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:45:14.8666938Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:45:14.8803938Z Build Operation ID: 0445c3fe-1628-4da7-800b-0e73dbcf92da
2025-08-20T03:45:15.2283530Z 
2025-08-20T03:45:15.2284215Z Agent extension 
2025-08-20T03:45:15.2284264Z Before if loop >> DotNet Runtime 
zurewebsites.net/health - null 0
2025-08-20T03:45:15.1303376Z 2025-08-20 03:45:15.122 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:15.1421360Z 2025-08-20 03:45:15.141 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:15.1726819Z 2025-08-20 03:45:15.170 +00:00 [ERR] Health check database with status Unhealthy completed after 28.8146ms with message 'Database connection failed'
2025-08-20T03:45:15.2312279Z 2025-08-20 03:45:15.193 +00:00 [INF] All configurations are valid
2025-08-20T03:45:15.2315093Z 2025-08-20 03:45:15.143 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9226ms with message 'Event Store connection failed'
2025-08-20T03:45:15.2315263Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:15.2316018Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:15.2316091Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:15.2316658Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:15.2316732Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:15.2317220Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:15.2317291Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:15.2317758Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:15.2317824Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:15.2317852Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:15.2318352Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:15.2318488Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:15.2318975Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:15.2319843Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:15.2320370Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:15.2754259Z 2025-08-20 03:45:15.275 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:15.2852812Z 2025-08-20 03:45:15.284 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000020": An unhandled exception was thrown by the application.
2025-08-20T03:45:15.2912548Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:15.2913877Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:15.2913960Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:15.2914475Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:15.2915204Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:15.2915280Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:15.2915794Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:15.2915864Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:15.2917758Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:45:15.2918375Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:15.2918448Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:15.2919033Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:15.2919100Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:15.2919673Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:15.2919741Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:15.2920263Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:15.2920331Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:15.2922620Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:15.2922711Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:15.2923277Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:15.2923840Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:15.2923908Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:15.3223522Z 2025-08-20 03:45:15.322 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 243.5085ms
2025-08-20T03:45:15.6008004Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:45:15.6349943Z Trying to find the startup DLL name...
2025-08-20T03:45:15.6350653Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:45:15.6350718Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:45:19.1900551Z 2025-08-20 03:45:19.094 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:45:19.5151827Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:45:20.3681707Z 2025-08-20 03:45:20.362 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:20.3770762Z 2025-08-20 03:45:20.368 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:20.4159544Z 2025-08-20 03:45:20.415 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0113ms with message 'Event Store connection failed'
2025-08-20T03:45:20.4160111Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:20.4160156Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:20.4160193Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:20.4160217Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:20.4160244Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:20.4160275Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:20.4160393Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:20.4160419Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:20.4160443Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:20.4160469Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:20.4160494Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:20.4160523Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:20.4160552Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:20.4160583Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:20.4160639Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:20.4302358Z 2025-08-20 03:45:20.427 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:20.4302663Z 2025-08-20 03:45:20.429 +00:00 [ERR] Health check database with status Unhealthy completed after 48.8242ms with message 'Database connection failed'
2025-08-20T03:45:20.4424277Z 2025-08-20 03:45:20.442 +00:00 [INF] All configurations are valid
2025-08-20T03:45:20.4712822Z 2025-08-20 03:45:20.471 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:20.5095481Z 2025-08-20 03:45:20.508 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000021": An unhandled exception was thrown by the application.
2025-08-20T03:45:20.5096573Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:20.5097154Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:20.5097224Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:20.5097760Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:20.5098361Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:20.5098428Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:20.5098910Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:20.5098976Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:20.5099485Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:45:20.5100012Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:20.5100078Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:20.5100551Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:20.5100616Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:20.5101083Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:20.5101151Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:20.5101619Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:20.5101721Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:20.5102202Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:20.5102269Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:20.5102737Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:20.5103256Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:20.5103320Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:20.5266580Z 2025-08-20 03:45:20.526 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 163.6895ms
2025-08-20T03:45:21.9887447Z 2025-08-20 03:45:21.831 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:45:21.9935759Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:45:21.9938430Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:45:21.9938577Z    at System.Uri..ctor(String uriString)
2025-08-20T03:45:21.9939850Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:45:21.9939989Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:45:21.9941413Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:45:22.0457267Z 2025-08-20 03:45:22.045 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:45:22.2159215Z 2025-08-20 03:45:22.211 +00:00 [INF] Starting configuration validation...
2025-08-20T03:45:22.2514296Z 2025-08-20 03:45:22.251 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:45:22.2576594Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:45:22.2658023Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:45:22.2658684Z    at System.Uri..ctor(String uriString)
2025-08-20T03:45:22.2672542Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:45:22.2672803Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:45:22.2684815Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:45:22.3028361Z 2025-08-20 03:45:22.286 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:45:22.3186812Z 2025-08-20 03:45:22.318 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:45:22.5873924Z 2025-08-20 03:45:22.586 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:45:24.2363243Z 2025-08-20 03:45:24.223 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:45:24.2688115Z 2025-08-20 03:45:24.264 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:45:24.6696871Z 2025-08-20 03:45:24.667 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:45:24.6697697Z 2025-08-20 03:45:24.668 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:45:24.6792088Z 2025-08-20 03:45:24.675 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:45:24.6792632Z 2025-08-20 03:45:24.677 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:45:25.4796699Z 2025-08-20 03:45:25.476 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.5:8080/robots933456.txt - null null
2025-08-20T03:45:25.6031782Z 2025-08-20 03:45:25.600 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:45:26.0973283Z 2025-08-20 03:45:26.084 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.5:8080/robots933456.txt - 404 0 null 628.4062ms
2025-08-20T03:45:26.2028944Z 2025-08-20 03:45:26.200 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.5:8080/robots933456.txt, Response status code: 404
age 'Database connection failed'
2025-08-20T03:45:25.5986813Z 2025-08-20 03:45:25.598 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9632ms with message 'Event Store connection failed'
2025-08-20T03:45:25.6033939Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:25.6119232Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:25.6119656Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:25.6120597Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:25.6120679Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:25.6121272Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:25.6121343Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:25.6122178Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:25.6122260Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:25.6122287Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:25.6123505Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:25.6123658Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:25.6124375Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:25.6125098Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:25.6125737Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:25.6133585Z 2025-08-20 03:45:25.613 +00:00 [INF] All configurations are valid
2025-08-20T03:45:25.6269078Z 2025-08-20 03:45:25.626 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:25.6423477Z 2025-08-20 03:45:25.641 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000022": An unhandled exception was thrown by the application.
2025-08-20T03:45:25.6425972Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:25.6426064Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:25.6426094Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:25.6426121Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:25.6426156Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:25.6426185Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:25.6426216Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:25.6426273Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:25.6426378Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:45:25.6426410Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:25.6426438Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:25.6426502Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:25.6426536Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:25.6426600Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:25.6426632Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:25.6426721Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:25.6426751Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:25.6437799Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:25.6437915Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:25.6488691Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:25.6489106Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:25.6489147Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:25.6634457Z 2025-08-20 03:45:25.658 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 105.5868ms
2025-08-20T03:45:26.3325498Z 2025-08-20 03:45:26.321 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:26.3327691Z 2025-08-20 03:45:26.329 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:26.3476893Z 2025-08-20 03:45:26.346 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 5.3369ms with message 'Event Store connection failed'
2025-08-20T03:45:26.3477848Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:26.3477901Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:26.3479016Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:26.3479088Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:26.3479119Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:26.3479205Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:26.3479231Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:26.3479255Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:26.3479280Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:26.3479307Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:26.3479332Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:26.3479363Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:26.3479392Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:26.3479424Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:26.3479484Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:26.3645324Z 2025-08-20 03:45:26.364 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:26.3745856Z 2025-08-20 03:45:26.371 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1171ms with message 'Database connection failed'
2025-08-20T03:45:26.3890366Z 2025-08-20 03:45:26.388 +00:00 [INF] All configurations are valid
2025-08-20T03:45:26.4067458Z 2025-08-20 03:45:26.404 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:26.4149184Z 2025-08-20 03:45:26.412 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000023": An unhandled exception was thrown by the application.
2025-08-20T03:45:26.4149529Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:26.4149635Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:26.4149665Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:26.4149692Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:26.4149726Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:26.4149754Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:26.4149784Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:26.4149813Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:26.4149840Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:26.4149896Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:26.4149926Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:26.4149952Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:26.4149982Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:26.4150010Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:26.4150040Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:26.4150066Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:26.4150093Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:26.4150120Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:26.4150168Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:26.4150201Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:26.4150228Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:26.4320251Z 2025-08-20 03:45:26.431 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 125.5392ms
2025-08-20T03:45:30.7167768Z 2025-08-20 03:45:30.701 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:30.7168129Z 2025-08-20 03:45:30.702 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:30.8552733Z 2025-08-20 03:45:30.778 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.878ms with message 'Event Store connection failed'
2025-08-20T03:45:30.8553280Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:30.8553322Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:30.8553353Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:30.8553381Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:30.8553409Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:30.8553441Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:30.8553523Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:30.8553549Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:30.8553574Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:30.8553600Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:30.8553624Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:30.8553653Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:30.8553683Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:30.8553715Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:30.8553749Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:30.8553796Z 2025-08-20 03:45:30.853 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:30.9302682Z 2025-08-20 03:45:30.920 +00:00 [ERR] Health check database with status Unhealthy completed after 66.3964ms with message 'Database connection failed'
2025-08-20T03:45:30.9459130Z 2025-08-20 03:45:30.941 +00:00 [INF] All configurations are valid
2025-08-20T03:45:30.9817118Z 2025-08-20 03:45:30.961 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:30.9817482Z 2025-08-20 03:45:30.962 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000024": An unhandled exception was thrown by the application.
2025-08-20T03:45:30.9817526Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:30.9817558Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:30.9817587Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:30.9817738Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:30.9817775Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:30.9817804Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:30.9817833Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:30.9817860Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:30.9817887Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:30.9817916Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:30.9817945Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:30.9817993Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:30.9818024Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:30.9818052Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:30.9818080Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:30.9818106Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:30.9818134Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:30.9818160Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:30.9818186Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:30.9818217Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:30.9818264Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:30.9898565Z 2025-08-20 03:45:30.977 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 275.7992ms
2025-08-20T03:45:35.2203060Z 2025-08-20 03:45:35.213 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:45:35.2391158Z 2025-08-20 03:45:35.238 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 25.59ms
2025-08-20T03:45:35.2492584Z 2025-08-20 03:45:35.248 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:45:36.0191613Z 2025-08-20 03:45:36.018 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:37.7647548Z 2025-08-20 03:45:36.027 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:37.7647857Z 2025-08-20 03:45:36.037 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8761ms with message 'Event Store connection failed'
2025-08-20T03:45:37.7647888Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:37.7647919Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:37.7647980Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:37.7648007Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:37.7648034Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:37.7648065Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:37.7648091Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:37.7648115Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:37.7648140Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:37.7648168Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:37.7648213Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:37.7648247Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:37.7648298Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:37.7648330Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:37.7648365Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:37.7648389Z 2025-08-20 03:45:36.050 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:37.7648418Z 2025-08-20 03:45:36.052 +00:00 [ERR] Health check database with status Unhealthy completed after 13.6056ms with message 'Database connection failed'
2025-08-20T03:45:37.7648443Z 2025-08-20 03:45:36.072 +00:00 [INF] All configurations are valid
2025-08-20T03:45:37.7648467Z 2025-08-20 03:45:36.080 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:37.7648497Z 2025-08-20 03:45:36.081 +00:00 [ERR] Connection id "0HNEVJF2VD7D0", Request id "0HNEVJF2VD7D0:00000025": An unhandled exception was thrown by the application.
2025-08-20T03:45:37.7648556Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:37.7648587Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:37.7648614Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:37.7648640Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:37.7648675Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:37.7648703Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:37.7648732Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:37.7648964Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:37.7649000Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:37.7649049Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:37.7649079Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:37.7649106Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:37.7649136Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:37.7649165Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:37.7649213Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:37.7649240Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:37.7649267Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:37.7649292Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:37.7649345Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:37.7649377Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:37.7649405Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:37.7649435Z 2025-08-20 03:45:36.098 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 81.8666ms
2025-08-20T03:45:41.1392358Z 2025-08-20 03:45:41.138 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:41.1541574Z 2025-08-20 03:45:41.153 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:41.1742899Z 2025-08-20 03:45:41.173 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:42.3202733Z 2025-08-20 03:45:42.278 +00:00 [INF] All configurations are valid
2025-08-20T03:45:43.9445345Z 2025-08-20 03:45:43.931 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2255.6927ms with message 'Event Store connection failed'
2025-08-20T03:45:43.9446008Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:43.9446060Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:43.9446093Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:43.9446118Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:43.9446147Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:43.9446262Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:43.9446288Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:43.9446312Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:43.9446338Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:43.9446365Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:43.9446391Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:43.9446421Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:43.9446451Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:43.9446482Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:43.9446569Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:45.7247316Z 2025-08-20 03:45:45.724 +00:00 [ERR] Health check database with status Unhealthy completed after 4057.5092ms with message 'Database connection failed'
2025-08-20T03:45:46.8395479Z 2025-08-20 03:45:45.734 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:46.8395787Z 2025-08-20 03:45:45.766 +00:00 [ERR] Connection id "0HNEVJFVKRFVD", Request id "0HNEVJFVKRFVD:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:45:46.8395833Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:46.8395871Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:46.8395904Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:46.8395936Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:46.8395976Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:46.8396046Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:45:46.8396084Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:46.8396118Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:46.8396153Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:45:46.8396184Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:46.8396215Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:45:46.8396250Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:45:46.8396281Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:45:46.8396313Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:46.8396370Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:46.8396425Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:46.8396460Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:46.8396493Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:46.8396526Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:46.8396556Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:46.8396588Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:46.8396617Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:46.8396669Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:46.8396707Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:46.8396738Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:46.8396772Z 2025-08-20 03:45:45.775 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4641.3535ms
2025-08-20T03:45:50.1427976Z 2025-08-20 03:45:50.142 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:50.1508589Z 2025-08-20 03:45:50.150 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:50.1527249Z 2025-08-20 03:45:50.152 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:50.1662832Z 2025-08-20 03:45:50.165 +00:00 [INF] All configurations are valid
2025-08-20T03:45:50.3702186Z 2025-08-20 03:45:50.369 +00:00 [ERR] Health check database with status Unhealthy completed after 203.1174ms with message 'Database connection failed'
2025-08-20T03:45:50.3748802Z 2025-08-20 03:45:50.374 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 209.2089ms with message 'Event Store connection failed'
2025-08-20T03:45:50.3749141Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:50.3749185Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:50.3749218Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:50.3749242Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:50.3749270Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:50.3749301Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:50.3749388Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:50.3749417Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:50.3749441Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:50.3749468Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:50.3749493Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:50.3749524Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:50.3749554Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:50.3749585Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:50.3749619Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:50.3812275Z 2025-08-20 03:45:50.376 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:50.3844309Z 2025-08-20 03:45:50.383 +00:00 [ERR] Connection id "0HNEVJFVKRFVD", Request id "0HNEVJFVKRFVD:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:45:50.3844650Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:50.3844690Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:50.3844724Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:50.3844902Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:50.3844944Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:50.3844975Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:50.3845044Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:50.3845073Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:50.3845102Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:45:50.3845129Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:50.3845154Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:45:50.3845185Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:45:50.3845212Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:45:50.3845239Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:50.3845288Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:50.3845315Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:50.3845345Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:50.3845373Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:50.3845402Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:50.3845428Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:50.3845455Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:50.3845506Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:50.3845532Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:50.3845586Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:50.3846363Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:50.3914946Z 2025-08-20 03:45:50.391 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 248.9357ms
2025-08-20T03:45:50.8040859Z 2025-08-20 03:45:50.803 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:50.8062841Z 2025-08-20 03:45:50.805 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:50.8124924Z 2025-08-20 03:45:50.807 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:50.8213668Z 2025-08-20 03:45:50.820 +00:00 [INF] All configurations are valid
2025-08-20T03:45:50.8221751Z 2025-08-20 03:45:50.815 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.4922ms with message 'Event Store connection failed'
2025-08-20T03:45:50.8221871Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:50.8222551Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:50.8222631Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:50.8223213Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:50.8223283Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:50.8223757Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:50.8223819Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:50.8224751Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:50.8224826Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:50.8224854Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:50.8224880Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:50.8224909Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:50.8224940Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:50.8224971Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:50.8225006Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:50.8267078Z 2025-08-20 03:45:50.826 +00:00 [ERR] Health check database with status Unhealthy completed after 13.1591ms with message 'Database connection failed'
2025-08-20T03:45:50.8300585Z 2025-08-20 03:45:50.828 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:50.8331708Z 2025-08-20 03:45:50.831 +00:00 [ERR] Connection id "0HNEVJFVKRFVD", Request id "0HNEVJFVKRFVD:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:45:50.8331856Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:50.8331978Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:50.8332007Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:50.8332039Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:50.8332074Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:50.8332183Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:50.8332213Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:50.8332242Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:50.8332270Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:45:50.8332297Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:50.8332352Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:45:50.8332380Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:50.8332429Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:50.8332457Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:50.8332486Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:50.8332515Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:50.8332543Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:50.8332569Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:50.8332597Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:50.8332623Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:50.8332648Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:50.8332701Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:50.8332730Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:50.8354661Z 2025-08-20 03:45:50.835 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 32.1945ms
2025-08-20T03:45:55.8643740Z 2025-08-20 03:45:55.864 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:45:55.8664526Z 2025-08-20 03:45:55.866 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:45:55.8767536Z 2025-08-20 03:45:55.872 +00:00 [INF] Starting configuration status health check
2025-08-20T03:45:55.8890013Z 2025-08-20 03:45:55.887 +00:00 [INF] All configurations are valid
2025-08-20T03:45:55.9168861Z 2025-08-20 03:45:55.916 +00:00 [ERR] Health check database with status Unhealthy completed after 28.4515ms with message 'Database connection failed'
2025-08-20T03:45:55.9173831Z 2025-08-20 03:45:55.909 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.8426ms with message 'Event Store connection failed'
2025-08-20T03:45:55.9173941Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:45:55.9173976Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:45:55.9174002Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:45:55.9174026Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:45:55.9174055Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:45:55.9174086Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:45:55.9174113Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:45:55.9174170Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:45:55.9174196Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:45:55.9174222Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:45:55.9174247Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:45:55.9174278Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:45:55.9174308Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:45:55.9174339Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:45:55.9174526Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:45:55.9542763Z 2025-08-20 03:45:55.938 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:45:55.9543467Z 2025-08-20 03:45:55.946 +00:00 [ERR] Connection id "0HNEVJFVKRFVD", Request id "0HNEVJFVKRFVD:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:45:55.9543524Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:45:55.9543562Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:45:55.9543589Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:55.9543617Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:45:55.9543652Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:45:55.9543688Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:55.9543765Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:45:55.9543795Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:45:55.9543824Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:45:55.9543851Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:45:55.9543877Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:45:55.9543905Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:45:55.9543933Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:45:55.9543961Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:45:55.9543990Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:55.9544041Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:45:55.9544070Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:45:55.9544096Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:45:55.9544124Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:45:55.9544150Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:55.9544175Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:45:55.9544207Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:45:55.9544235Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:45:55.9628609Z 2025-08-20 03:45:55.962 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 98.6194ms
2025-08-20T03:45:57.4485826Z 2025-08-20 03:45:57.446 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:45:57.4577271Z 2025-08-20 03:45:57.452 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 6.4931ms
2025-08-20T03:45:57.4582453Z 2025-08-20 03:45:57.458 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:46:01.0073091Z 2025-08-20 03:46:01.006 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:46:01.0157169Z 2025-08-20 03:46:01.015 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:46:01.0422095Z 2025-08-20 03:46:01.026 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.3321ms with message 'Event Store connection failed'
2025-08-20T03:46:01.0422710Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:46:01.0422754Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:46:01.0422784Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:46:01.0422811Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:46:01.0422838Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:46:01.0422869Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:46:01.0422981Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:46:01.0423007Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:46:01.0423031Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:46:01.0423058Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:46:01.0423082Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:46:01.0423112Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:46:01.0423141Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:46:01.0423171Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:46:01.0423227Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:46:01.0423252Z 2025-08-20 03:46:01.034 +00:00 [INF] Starting configuration status health check
2025-08-20T03:46:01.0512786Z 2025-08-20 03:46:01.051 +00:00 [INF] All configurations are valid
2025-08-20T03:46:01.0528515Z 2025-08-20 03:46:01.052 +00:00 [ERR] Health check database with status Unhealthy completed after 17.5186ms with message 'Database connection failed'
2025-08-20T03:46:01.0614920Z 2025-08-20 03:46:01.061 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:46:01.0680657Z 2025-08-20 03:46:01.065 +00:00 [ERR] Connection id "0HNEVJFVKRFVD", Request id "0HNEVJFVKRFVD:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:46:01.0681060Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:46:01.0681098Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:46:01.0681125Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:46:01.0681152Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:46:01.0681187Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:46:01.0681217Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:46:01.0681246Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:46:01.0681274Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:46:01.0681324Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:46:01.0681353Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:46:01.0681379Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:46:01.0681407Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:46:01.0681435Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:46:01.0681463Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:46:01.0681492Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:46:01.0681521Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:46:01.0681549Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:46:01.0681599Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:46:01.0681627Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:46:01.0681652Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:46:01.0681678Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:46:01.0681710Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:46:01.0681738Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:46:01.0764360Z 2025-08-20 03:46:01.074 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 81.6905ms
2025-08-20T03:46:06.0928713Z 2025-08-20 03:46:06.092 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:46:06.0992504Z 2025-08-20 03:46:06.098 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:46:06.1165666Z 2025-08-20 03:46:06.107 +00:00 [INF] Starting configuration status health check
2025-08-20T03:46:06.1323948Z 2025-08-20 03:46:06.121 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0936ms with message 'Database connection failed'
2025-08-20T03:46:06.1325801Z 2025-08-20 03:46:06.122 +00:00 [INF] All configurations are valid
2025-08-20T03:46:06.1325944Z 2025-08-20 03:46:06.123 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.866ms with message 'Event Store connection failed'
2025-08-20T03:46:06.1325971Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:46:06.1326003Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:46:06.1326033Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:46:06.1326139Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:46:06.1326169Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:46:06.1326200Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:46:06.1326226Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:46:06.1326250Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:46:06.1326275Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:46:06.1326301Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:46:06.1326325Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:46:06.1326354Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:46:06.1326406Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:46:06.1326437Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:46:06.1326475Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:46:06.1961430Z 2025-08-20 03:46:06.190 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:46:06.2054355Z 2025-08-20 03:46:06.204 +00:00 [ERR] Connection id "0HNEVJFVKRFVD", Request id "0HNEVJFVKRFVD:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:46:06.2113773Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:46:06.2115261Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:46:06.2115441Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:46:06.2116030Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:46:06.2116748Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:46:06.2116823Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:46:06.2117553Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:46:06.2117629Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:46:06.2118260Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:46:06.2119034Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:46:06.2119108Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:46:06.2119703Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:46:06.2119774Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:46:06.2120472Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:46:06.2120548Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:46:06.2121168Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:46:06.2121240Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:46:06.2122558Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:46:06.2122643Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:46:06.2123918Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:46:06.2123997Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:46:06.2124031Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:46:06.2124059Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:46:06.5547050Z 2025-08-20 03:46:06.255 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 162.9155ms
2025-08-20T03:46:07.5071979Z 2025-08-20 03:46:07.460 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:46:07.5072325Z 2025-08-20 03:46:07.480 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 19.6848ms
2025-08-20T03:46:07.5072700Z 2025-08-20 03:46:07.490 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:46:11.3077750Z 2025-08-20 03:46:11.279 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:46:11.3078097Z 2025-08-20 03:46:11.298 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:46:11.3078129Z 2025-08-20 03:46:11.299 +00:00 [INF] Starting configuration status health check
2025-08-20T03:46:11.3354006Z 2025-08-20 03:46:11.328 +00:00 [ERR] Health check database with status Unhealthy completed after 1.7376ms with message 'Database connection failed'
2025-08-20T03:46:11.3647857Z 2025-08-20 03:46:11.361 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 41.417ms with message 'Event Store connection failed'
2025-08-20T03:46:11.3648208Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:46:11.3648254Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:46:11.3648282Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:46:11.3648306Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:46:11.3648417Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:46:11.3648450Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:46:11.3648477Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:46:11.3648501Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:46:11.3648526Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:46:11.3648552Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:46:11.3648577Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:46:11.3648607Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:46:11.3648637Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:46:11.3648692Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:46:11.3648728Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:46:11.3648752Z 2025-08-20 03:46:11.362 +00:00 [INF] All configurations are valid
2025-08-20T03:46:11.4414193Z 2025-08-20 03:46:11.434 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:46:11.5431516Z 2025-08-20 03:46:11.536 +00:00 [ERR] Connection id "0HNEVJFVKRFVD", Request id "0HNEVJFVKRFVD:0000000A": An unhandled exception was thrown by the application.
2025-08-20T03:46:11.5431858Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:46:11.5431898Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:46:11.5431926Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:46:11.5432017Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:46:11.5432053Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:46:11.5432081Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:46:11.5432110Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:46:11.5432138Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:46:11.5432167Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:46:11.5432193Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:46:11.5432219Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:46:11.5432280Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:46:11.5432309Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:46:11.5432337Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:46:11.5432366Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:46:11.5432394Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:46:11.5432422Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:46:11.5432448Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:46:11.5432476Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:46:11.5432501Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:46:11.5432684Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:46:11.5432716Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:46:11.5432743Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:46:11.5623217Z 2025-08-20 03:46:11.556 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 276.6905ms
2025-08-20T03:46:16.5954263Z 2025-08-20 03:46:16.593 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:46:16.5970804Z 2025-08-20 03:46:16.595 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:46:16.6060122Z 2025-08-20 03:46:16.602 +00:00 [INF] Starting configuration status health check
2025-08-20T03:46:16.6163192Z 2025-08-20 03:46:16.612 +00:00 [ERR] Health check database with status Unhealthy completed after 1.5948ms with message 'Database connection failed'
2025-08-20T03:46:16.6232604Z 2025-08-20 03:46:16.623 +00:00 [INF] All configurations are valid
2025-08-20T03:46:16.6359089Z 2025-08-20 03:46:16.635 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 13.2571ms with message 'Event Store connection failed'
2025-08-20T03:46:16.6359682Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:46:16.6365286Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:46:16.6365616Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:46:16.6377214Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:46:16.6377459Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:46:16.6422913Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:46:16.6423111Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:46:16.6423140Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:46:16.6423165Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:46:16.6423192Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:46:16.6423217Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:46:16.6423383Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:46:16.6423415Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:46:16.6423447Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:46:16.6423483Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:46:16.6650972Z 2025-08-20 03:46:16.664 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:46:16.6714516Z 2025-08-20 03:46:16.670 +00:00 [ERR] Connection id "0HNEVJFVKRFVD", Request id "0HNEVJFVKRFVD:0000000B": An unhandled exception was thrown by the application.
2025-08-20T03:46:16.6725581Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:46:16.6781302Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:46:16.6781550Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:46:16.6781581Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:46:16.6781620Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:46:16.6781649Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:46:16.6781682Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:46:16.6781712Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:46:16.6781741Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:46:16.6781822Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:46:16.6781850Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:46:16.6781878Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:46:16.6781907Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:46:16.6781934Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:46:16.6781963Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:46:16.6781992Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:46:16.6782020Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:46:16.6782046Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:46:16.6782098Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:46:16.6782124Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:46:16.6782150Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:46:16.6782181Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:46:16.6782209Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:46:16.6980650Z 2025-08-20 03:46:16.694 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 100.8872ms
2025-08-20T03:46:17.4807975Z 2025-08-20 03:46:17.479 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:46:17.5159662Z 2025-08-20 03:46:17.497 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 18.0756ms
2025-08-20T03:46:17.5160470Z 2025-08-20 03:46:17.512 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:47:27.5215581Z    _____                               
2025-08-20T03:47:27.5217952Z   /  _  \ __________ _________   ____  
2025-08-20T03:47:27.5218033Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:47:27.5218064Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:47:27.5218093Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:47:27.5218129Z         \/      \/                  \/ 
2025-08-20T03:47:27.5218183Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:47:27.5218210Z 
2025-08-20T03:47:27.5218245Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:47:27.5218278Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:47:27.5218309Z ASP .NETCore Version: 8.0.18
2025-08-20T03:47:27.5218339Z Note: Any data outside '/home' is not persisted
2025-08-20T03:47:30.9906127Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:47:31.0009548Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:47:31.0350114Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:47:38.8112565Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:47:38.8374803Z 4 added, 0 removed; done.
2025-08-20T03:47:38.8404890Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:47:38.8451828Z done.
2025-08-20T03:47:38.8648346Z CA certificates copied and updated successfully.
2025-08-20T03:47:39.3352397Z Starting periodic command scheduler: cron.
2025-08-20T03:47:39.3439551Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:47:39.3968179Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:47:39.3970085Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:47:39.3973120Z Build Operation ID: bf3e4ec6-63f5-4140-a30d-6069d20a0d0c
2025-08-20T03:47:39.5937199Z 
2025-08-20T03:47:39.5937753Z Agent extension 
2025-08-20T03:47:39.5937800Z Before if loop >> DotNet Runtime 
2025-08-20T03:47:39.9281350Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:47:39.9532136Z Trying to find the startup DLL name...
2025-08-20T03:47:39.9605430Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:47:39.9607301Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:47:43.1579059Z 2025-08-20 03:47:42.987 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:47:43.6575843Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:47:44.2528369Z 2025-08-20 03:47:44.209 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:47:44.2529070Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:47:44.2529119Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:47:44.2529154Z    at System.Uri..ctor(String uriString)
2025-08-20T03:47:44.2529194Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:47:44.2529321Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:47:44.2529365Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:47:44.3282599Z 2025-08-20 03:47:44.327 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:47:44.5211310Z 2025-08-20 03:47:44.520 +00:00 [INF] Starting configuration validation...
2025-08-20T03:47:44.5614191Z 2025-08-20 03:47:44.555 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:47:44.5614978Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:47:44.5623790Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:47:44.5624049Z    at System.Uri..ctor(String uriString)
2025-08-20T03:47:44.5825116Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:47:44.5825602Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:47:44.5825658Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:47:44.6259016Z 2025-08-20 03:47:44.625 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:47:44.6286034Z 2025-08-20 03:47:44.628 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:47:44.7030874Z 2025-08-20 03:47:44.702 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:47:45.1221688Z 2025-08-20 03:47:45.121 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:47:45.1902323Z 2025-08-20 03:47:45.189 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:47:45.4809313Z 2025-08-20 03:47:45.480 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:47:45.4901668Z 2025-08-20 03:47:45.489 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:47:45.5054389Z 2025-08-20 03:47:45.497 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:47:45.5054811Z 2025-08-20 03:47:45.497 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:47:45.9519274Z 2025-08-20 03:47:45.944 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.3:8080/robots933456.txt - null null
2025-08-20T03:47:46.0806160Z 2025-08-20 03:47:46.080 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:47:46.3707491Z 2025-08-20 03:47:46.361 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.3:8080/robots933456.txt - 404 0 null 410.8268ms
2025-08-20T03:47:46.4521094Z 2025-08-20 03:47:46.429 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.3:8080/robots933456.txt, Response status code: 404
2025-08-20T03:47:53.2608453Z 2025-08-20 03:47:53.260 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:47:53.2755095Z 2025-08-20 03:47:53.275 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 15.1085ms
2025-08-20T03:47:53.2793007Z 2025-08-20 03:47:53.276 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:47:53.4748974Z 2025-08-20 03:47:53.474 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:47:53.4844722Z 2025-08-20 03:47:53.482 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:47:53.4844900Z 2025-08-20 03:47:53.483 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:47:53.5004672Z 2025-08-20 03:47:53.500 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 25.8915ms
2025-08-20T03:47:53.5012699Z 2025-08-20 03:47:53.501 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:47:53.5080082Z 2025-08-20 03:47:53.505 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:47:53.5197623Z 2025-08-20 03:47:53.519 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:47:54.7821366Z 2025-08-20 03:47:54.781 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:47:54.7875264Z 2025-08-20 03:47:54.783 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 21.7868ms
2025-08-20T03:47:54.7875577Z 2025-08-20 03:47:54.784 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:47:54.8331960Z 2025-08-20 03:47:54.810 +00:00 [INF] Starting configuration status health check
2025-08-20T03:47:55.0323648Z 2025-08-20 03:47:55.027 +00:00 [INF] All configurations are valid
2025-08-20T03:47:55.0403514Z 2025-08-20 03:47:55.036 +00:00 [INF] Starting configuration status health check
2025-08-20T03:47:55.0411840Z 2025-08-20 03:47:55.041 +00:00 [INF] All configurations are valid
2025-08-20T03:47:56.0702431Z 2025-08-20 03:47:56.064 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1911.4476ms with message 'Event Store connection failed'
2025-08-20T03:47:56.0703191Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:47:56.0708224Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:47:56.0709481Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:47:56.0709649Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:47:56.0709683Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:47:56.0710499Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:47:56.0710573Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:47:56.0711240Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:47:56.0711312Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:47:56.0711342Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:47:56.0712133Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:47:56.0712253Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:47:56.0712912Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:47:56.0713680Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:47:56.0714438Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:47:56.0716854Z 2025-08-20 03:47:56.060 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1904.7808ms with message 'Event Store connection failed'
2025-08-20T03:47:56.0716949Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:47:56.0717671Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:47:56.0771632Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:47:56.0771960Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:47:56.0771994Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:47:56.0772788Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:47:56.0772863Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:47:56.0773652Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:47:56.0773739Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:47:56.0773773Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:47:56.0774457Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:47:56.0776581Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:47:56.0791404Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:47:56.0792292Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:47:56.0793056Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:47:58.0103178Z 2025-08-20 03:47:58.009 +00:00 [ERR] Health check database with status Unhealthy completed after 2953.8629ms with message 'Database connection failed'
2025-08-20T03:47:58.0104129Z 2025-08-20 03:47:58.009 +00:00 [ERR] Health check database with status Unhealthy completed after 2280.5598ms with message 'Database connection failed'
2025-08-20T03:47:58.0193144Z 2025-08-20 03:47:58.019 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:47:58.0194007Z 2025-08-20 03:47:58.019 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:47:58.0340218Z 2025-08-20 03:47:58.028 +00:00 [ERR] Connection id "0HNEVJH9HIP58", Request id "0HNEVJH9HIP58:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:47:58.0342129Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:47:58.0342931Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:47:58.0343014Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:47:58.0343753Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:47:58.0344514Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:47:58.0344594Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:47:58.0345202Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:47:58.0353309Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:47:58.0353429Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:47:58.0353460Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:47:58.0353526Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:47:58.0353557Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:47:58.0353586Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:47:58.0353613Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:47:58.0353641Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:47:58.0353668Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:47:58.0353697Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:47:58.0353725Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:47:58.0353753Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:47:58.0411219Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:47:58.0411635Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:47:58.0411668Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:47:58.0411695Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:47:58.0411727Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:47:58.0411755Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:47:58.0412571Z 2025-08-20 03:47:58.028 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:47:58.0412622Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:47:58.0412682Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:47:58.0412710Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:47:58.0412738Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:47:58.0412772Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:47:58.0412803Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:47:58.0412866Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:47:58.0412894Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:47:58.0412922Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:47:58.0412971Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:47:58.0412998Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:47:58.0413032Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:47:58.0413058Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:47:58.0413085Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:47:58.0413113Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:47:58.0413140Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:47:58.0413169Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:47:58.0413217Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:47:58.0413246Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:47:58.0413273Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:47:58.0413300Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:47:58.0413325Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:47:58.0413350Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:47:58.0413381Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:47:58.0413409Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:47:58.0413437Z 2025-08-20 03:47:58.040 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4569.2499ms
2025-08-20T03:47:58.0436152Z 2025-08-20 03:47:58.043 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4560.4707ms
2025-08-20T03:48:03.1038402Z 2025-08-20 03:48:03.102 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:03.1041817Z 2025-08-20 03:48:03.103 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:03.1109447Z 2025-08-20 03:48:03.104 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:03.1109852Z 2025-08-20 03:48:03.110 +00:00 [INF] All configurations are valid
2025-08-20T03:48:03.3078053Z 2025-08-20 03:48:03.307 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 174.6576ms with message 'Event Store connection failed'
2025-08-20T03:48:03.3078815Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:03.3079362Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:03.3079398Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:03.3079423Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:03.3079453Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:03.3079485Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:03.3079512Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:03.3141542Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:03.3141866Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:03.3141903Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:03.3141986Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:03.3142018Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:03.3142048Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:03.3142078Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:03.3142112Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:03.3233849Z 2025-08-20 03:48:03.317 +00:00 [ERR] Health check database with status Unhealthy completed after 199.3398ms with message 'Database connection failed'
2025-08-20T03:48:03.3357428Z 2025-08-20 03:48:03.335 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:03.3509685Z 2025-08-20 03:48:03.345 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:48:03.3510358Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:03.3510397Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:03.3510427Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:03.3510452Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:03.3510489Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:03.3510517Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:03.3510546Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:03.3510573Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:03.3510623Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:03.3510650Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:03.3510677Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:48:03.3510706Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:48:03.3510733Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:48:03.3510761Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:03.3510789Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:03.3510815Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:03.3510844Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:03.3510893Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:03.3510923Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:03.3510949Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:03.3510977Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:03.3511002Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:03.3511026Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:03.3511058Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:03.3511085Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:03.3602402Z 2025-08-20 03:48:03.356 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 253.6512ms
2025-08-20T03:48:08.3974798Z 2025-08-20 03:48:08.397 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:08.3984789Z 2025-08-20 03:48:08.398 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:08.4081658Z 2025-08-20 03:48:08.403 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:08.4155520Z 2025-08-20 03:48:08.407 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0941ms with message 'Event Store connection failed'
2025-08-20T03:48:08.4155916Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:08.4155959Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:08.4155990Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:08.4156106Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:08.4156139Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:08.4156170Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:08.4156195Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:08.4156220Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:08.4156244Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:08.4156269Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:08.4156294Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:08.4156323Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:08.4156377Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:08.4156410Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:08.4156445Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:08.4223289Z 2025-08-20 03:48:08.417 +00:00 [ERR] Health check database with status Unhealthy completed after 8.7ms with message 'Database connection failed'
2025-08-20T03:48:08.4227790Z 2025-08-20 03:48:08.422 +00:00 [INF] All configurations are valid
2025-08-20T03:48:08.4305469Z 2025-08-20 03:48:08.425 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:08.4305987Z 2025-08-20 03:48:08.426 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:48:08.4306033Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:08.4306136Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:08.4306165Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:08.4306192Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:08.4306227Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:08.4306255Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:08.4306284Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:08.4306312Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:08.4306340Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:08.4306393Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:08.4306420Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:48:08.4306448Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:08.4306477Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:08.4306503Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:08.4306532Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:08.4306560Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:08.4306588Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:08.4306614Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:08.4306665Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:08.4306691Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:08.4306715Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:08.4306747Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:08.4306775Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:08.4398032Z 2025-08-20 03:48:08.431 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 34.5894ms
2025-08-20T03:48:13.4638417Z 2025-08-20 03:48:13.457 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:13.4639076Z 2025-08-20 03:48:13.458 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:13.4675800Z 2025-08-20 03:48:13.464 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:13.4676443Z 2025-08-20 03:48:13.466 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1004ms with message 'Event Store connection failed'
2025-08-20T03:48:13.4676486Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:13.4676521Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:13.4676552Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:13.4676586Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:13.4676620Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:13.4676655Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:13.4676685Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:13.4676770Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:13.4676805Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:13.4676835Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:13.4676865Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:13.4676898Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:13.4761333Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:13.4761780Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:13.4819694Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:13.4820015Z 2025-08-20 03:48:13.475 +00:00 [INF] All configurations are valid
2025-08-20T03:48:13.4899829Z 2025-08-20 03:48:13.489 +00:00 [ERR] Health check database with status Unhealthy completed after 14.6789ms with message 'Database connection failed'
2025-08-20T03:48:13.5046047Z 2025-08-20 03:48:13.504 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:13.5060034Z 2025-08-20 03:48:13.505 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:48:13.5062120Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:13.5062750Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:13.5062829Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:13.5063394Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:13.5063908Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:13.5063980Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:13.5065774Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:13.5065887Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:13.5066472Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:13.5066984Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:13.5067096Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:48:13.5067572Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:13.5067644Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:13.5068100Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:13.5068178Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:13.5068634Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:13.5068705Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:13.5069153Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:13.5069274Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:13.5069743Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:13.5069811Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:13.5070271Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:13.5070339Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:13.5253778Z 2025-08-20 03:48:13.525 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 67.7744ms
2025-08-20T03:48:18.5558905Z 2025-08-20 03:48:18.552 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:18.5639244Z 2025-08-20 03:48:18.558 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:18.5666584Z 2025-08-20 03:48:18.564 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:18.5667490Z 2025-08-20 03:48:18.566 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0856ms with message 'Event Store connection failed'
2025-08-20T03:48:18.5667550Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:18.5668052Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:18.5668128Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:18.5668651Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:18.5668771Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:18.5669272Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:18.5669342Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:18.5669823Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:18.5669892Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:18.5669921Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:18.5670379Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:18.5670452Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:18.5670965Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:18.5671505Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:18.5812699Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:18.5981314Z 2025-08-20 03:48:18.597 +00:00 [INF] All configurations are valid
2025-08-20T03:48:18.6115955Z 2025-08-20 03:48:18.604 +00:00 [ERR] Health check database with status Unhealthy completed after 7.848ms with message 'Database connection failed'
2025-08-20T03:48:18.6123321Z 2025-08-20 03:48:18.612 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:18.6136056Z 2025-08-20 03:48:18.612 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:48:18.6136197Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:18.6136233Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:18.6136261Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:18.6136289Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:18.6136323Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:18.6136351Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:18.6136380Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:18.6136433Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:18.6136463Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:18.6136490Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:18.6136641Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:48:18.6136672Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:18.6136701Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:18.6136727Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:18.6136756Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:18.6136786Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:18.6136840Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:18.6136867Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:18.6136894Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:18.6136921Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:18.6136946Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:18.6136978Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:18.6137005Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:18.6219987Z 2025-08-20 03:48:18.615 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 62.419ms
2025-08-20T03:48:23.6392416Z 2025-08-20 03:48:23.638 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:23.6442852Z 2025-08-20 03:48:23.643 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:23.6466063Z 2025-08-20 03:48:23.644 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:23.6466420Z 2025-08-20 03:48:23.645 +00:00 [INF] All configurations are valid
2025-08-20T03:48:23.6466460Z 2025-08-20 03:48:23.646 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1031ms with message 'Database connection failed'
2025-08-20T03:48:23.6543508Z 2025-08-20 03:48:23.653 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.942ms with message 'Event Store connection failed'
2025-08-20T03:48:23.6543813Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:23.6543856Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:23.6543885Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:23.6543979Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:23.6544010Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:23.6544042Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:23.6544067Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:23.6544093Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:23.6544117Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:23.6544146Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:23.6544171Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:23.6544201Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:23.6544256Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:23.6544288Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:23.6544323Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:23.6556763Z 2025-08-20 03:48:23.655 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:23.6590703Z 2025-08-20 03:48:23.658 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:48:23.6591065Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:23.6591107Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:23.6591138Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:23.6591210Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:23.6591247Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:23.6591276Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:23.6591313Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:23.6591340Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:23.6591369Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:23.6591397Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:23.6591423Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:48:23.6591471Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:23.6591501Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:23.6591527Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:23.6591557Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:23.6591586Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:23.6591615Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:23.6591641Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:23.6591668Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:23.6591694Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:23.6591742Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:23.6591774Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:23.6591801Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:23.6720352Z 2025-08-20 03:48:23.671 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 32.8731ms
2025-08-20T03:48:28.6814879Z 2025-08-20 03:48:28.681 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:28.6822137Z 2025-08-20 03:48:28.681 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:28.6826845Z 2025-08-20 03:48:28.682 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:28.6922500Z 2025-08-20 03:48:28.692 +00:00 [INF] All configurations are valid
2025-08-20T03:48:28.6934157Z 2025-08-20 03:48:28.693 +00:00 [ERR] Health check database with status Unhealthy completed after 1.5ms with message 'Database connection failed'
2025-08-20T03:48:28.7066497Z 2025-08-20 03:48:28.700 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.7324ms with message 'Event Store connection failed'
2025-08-20T03:48:28.7074861Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:28.7127847Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:28.7128128Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:28.7128164Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:28.7128200Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:28.7128231Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:28.7128257Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:28.7128357Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:28.7128382Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:28.7128408Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:28.7128434Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:28.7128464Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:28.7128495Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:28.7128526Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:28.7128564Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:28.7129012Z 2025-08-20 03:48:28.707 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:28.7141086Z 2025-08-20 03:48:28.713 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:48:28.7141913Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:28.7142621Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:28.7142701Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:28.7143387Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:28.7144151Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:28.7144273Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:28.7144879Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:28.7144954Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:28.7145606Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:28.7146217Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:28.7146286Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:48:28.7146952Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:28.7147061Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:28.7147653Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:28.7147726Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:28.7148397Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:28.7148474Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:28.7149046Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:28.7149118Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:28.7149781Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:28.7149953Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:28.7150553Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:28.7150627Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:28.7291005Z 2025-08-20 03:48:28.721 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 40.5132ms
2025-08-20T03:48:33.7403995Z 2025-08-20 03:48:33.739 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:33.7546248Z 2025-08-20 03:48:33.746 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:33.7626321Z 2025-08-20 03:48:33.757 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9925ms with message 'Event Store connection failed'
2025-08-20T03:48:33.7626906Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:33.7626946Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:33.7626974Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:33.7626999Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:33.7627027Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:33.7627058Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:33.7627084Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:33.7627109Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:33.7627133Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:33.7627180Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:33.7627207Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:33.7627237Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:33.7627266Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:33.7627297Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:33.7627331Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:33.7718404Z 2025-08-20 03:48:33.771 +00:00 [ERR] Health check database with status Unhealthy completed after 15.4749ms with message 'Database connection failed'
2025-08-20T03:48:33.7739456Z 2025-08-20 03:48:33.773 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:33.7886879Z 2025-08-20 03:48:33.780 +00:00 [INF] All configurations are valid
2025-08-20T03:48:33.7887238Z 2025-08-20 03:48:33.780 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:33.7887282Z 2025-08-20 03:48:33.781 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:00000009": An unhandled exception was thrown by the application.
2025-08-20T03:48:33.7887318Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:33.7887350Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:33.7887386Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:33.7887414Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:33.7887448Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:33.7887477Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:33.7887589Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:33.7887618Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:33.7887647Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:33.7887673Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:33.7887702Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:48:33.7887730Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:33.7887758Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:33.7887785Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:33.7887839Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:33.7887869Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:33.7887897Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:33.7887923Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:33.7887951Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:33.7887977Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:33.7888002Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:33.7888034Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:33.7888061Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:33.8011738Z 2025-08-20 03:48:33.799 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 60.8655ms
2025-08-20T03:48:38.8331911Z 2025-08-20 03:48:38.829 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:38.8332311Z 2025-08-20 03:48:38.830 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:38.8403098Z 2025-08-20 03:48:38.834 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.873ms with message 'Event Store connection failed'
2025-08-20T03:48:38.8403529Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:38.8403568Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:38.8403595Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:38.8403619Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:38.8403727Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:38.8403762Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:38.8403786Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:38.8403811Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:38.8403835Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:38.8403861Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:38.8403886Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:38.8403918Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:38.8403947Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:38.8404004Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:38.8404049Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:38.8548533Z 2025-08-20 03:48:38.854 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:38.8590700Z 2025-08-20 03:48:38.855 +00:00 [INF] All configurations are valid
2025-08-20T03:48:38.8590973Z 2025-08-20 03:48:38.856 +00:00 [ERR] Health check database with status Unhealthy completed after 20.0327ms with message 'Database connection failed'
2025-08-20T03:48:38.8611979Z 2025-08-20 03:48:38.861 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:38.8656222Z 2025-08-20 03:48:38.861 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:0000000A": An unhandled exception was thrown by the application.
2025-08-20T03:48:38.8656393Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:38.8656511Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:38.8656541Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:38.8656569Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:38.8656731Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:38.8656760Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:38.8656789Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:38.8656818Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:38.8656846Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:38.8656901Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:38.8656929Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:48:38.8656957Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:38.8656986Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:38.8657014Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:38.8657043Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:38.8657072Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:38.8657101Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:38.8657127Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:38.8657178Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:38.8657205Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:38.8657231Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:38.8657263Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:38.8657290Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:38.8730169Z 2025-08-20 03:48:38.872 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 43.6723ms
2025-08-20T03:48:43.8941407Z 2025-08-20 03:48:43.893 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:43.8942016Z 2025-08-20 03:48:43.893 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:43.9126567Z 2025-08-20 03:48:43.912 +00:00 [ERR] Health check database with status Unhealthy completed after 8.9729ms with message 'Database connection failed'
2025-08-20T03:48:43.9161521Z 2025-08-20 03:48:43.916 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:43.9210309Z 2025-08-20 03:48:43.920 +00:00 [INF] All configurations are valid
2025-08-20T03:48:43.9225462Z 2025-08-20 03:48:43.920 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 16.9501ms with message 'Event Store connection failed'
2025-08-20T03:48:43.9225816Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:43.9225856Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:43.9225885Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:43.9225910Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:43.9225987Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:43.9226021Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:43.9226050Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:43.9226074Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:43.9226099Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:43.9226125Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:43.9226150Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:43.9226180Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:43.9226211Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:43.9226264Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:43.9226299Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:43.9303749Z 2025-08-20 03:48:43.930 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:43.9317505Z 2025-08-20 03:48:43.930 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:0000000B": An unhandled exception was thrown by the application.
2025-08-20T03:48:43.9317704Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:43.9317741Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:43.9317769Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:43.9317799Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:43.9317878Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:43.9317909Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:43.9317938Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:43.9317966Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:43.9317996Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:43.9318023Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:43.9318052Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:48:43.9318079Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:43.9318108Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:43.9318162Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:43.9318191Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:43.9318220Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:43.9318249Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:43.9318275Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:43.9318302Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:43.9318327Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:43.9318353Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:43.9318387Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:43.9318435Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:43.9409000Z 2025-08-20 03:48:43.938 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 44.9926ms
2025-08-20T03:48:46.3923435Z 2025-08-20 03:48:46.392 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:46.3938772Z 2025-08-20 03:48:46.393 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:46.4189097Z 2025-08-20 03:48:46.400 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:46.4189553Z 2025-08-20 03:48:46.402 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3214ms with message 'Database connection failed'
2025-08-20T03:48:46.4189592Z 2025-08-20 03:48:46.409 +00:00 [INF] All configurations are valid
2025-08-20T03:48:46.4191682Z 2025-08-20 03:48:46.411 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9718ms with message 'Event Store connection failed'
2025-08-20T03:48:46.4191773Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:46.4191805Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:46.4191833Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:46.4191857Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:46.4191885Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:46.4191917Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:46.4191943Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:46.4191969Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:46.4192029Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:46.4192058Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:46.4192085Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:46.4192115Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:46.4192242Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:46.4192274Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:46.4196579Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:46.4287683Z 2025-08-20 03:48:46.427 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:46.4296828Z 2025-08-20 03:48:46.427 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:0000000C": An unhandled exception was thrown by the application.
2025-08-20T03:48:46.4379076Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:46.4379205Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:46.4379238Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:46.4379270Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:46.4379310Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:46.4379338Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:46.4379368Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:46.4379478Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:46.4379509Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:46.4379536Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:46.4379564Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:48:46.4379591Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:46.4379619Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:46.4379647Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:46.4379676Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:46.4379704Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:46.4379765Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:46.4379792Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:46.4379820Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:46.4379845Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:46.4379870Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:46.4379902Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:46.4379930Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:46.4379959Z 2025-08-20 03:48:46.436 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 44.9716ms
2025-08-20T03:48:48.9627754Z 2025-08-20 03:48:48.949 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:48.9630916Z 2025-08-20 03:48:48.950 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:48.9630969Z 2025-08-20 03:48:48.954 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:48.9630995Z 2025-08-20 03:48:48.957 +00:00 [INF] All configurations are valid
2025-08-20T03:48:48.9631024Z 2025-08-20 03:48:48.958 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9801ms with message 'Database connection failed'
2025-08-20T03:48:48.9631054Z 2025-08-20 03:48:48.959 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.4598ms with message 'Event Store connection failed'
2025-08-20T03:48:48.9631080Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:48.9631110Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:48.9631136Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:48.9631164Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:48.9631223Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:48.9631254Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:48.9631279Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:48.9631305Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:48.9631329Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:48.9631354Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:48.9631379Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:48.9631409Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:48.9631439Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:48.9631495Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:48.9631530Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:48.9802948Z 2025-08-20 03:48:48.979 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:48.9876335Z 2025-08-20 03:48:48.981 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:0000000D": An unhandled exception was thrown by the application.
2025-08-20T03:48:48.9876784Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:48.9876824Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:48.9876859Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:48.9876926Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:48.9876964Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:48.9876993Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:48.9877022Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:48.9877052Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:48.9877080Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:48.9877107Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:48.9877137Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:48:48.9877163Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:48.9877214Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:48.9877242Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:48.9877272Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:48.9877302Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:48.9877330Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:48.9877356Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:48.9877384Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:48.9877409Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:48.9877434Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:48.9877486Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:48.9877514Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:48.9895937Z 2025-08-20 03:48:48.989 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 39.9014ms
2025-08-20T03:48:54.0181146Z 2025-08-20 03:48:54.017 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:48:54.0392029Z 2025-08-20 03:48:54.033 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:48:54.0437410Z 2025-08-20 03:48:54.040 +00:00 [INF] Starting configuration status health check
2025-08-20T03:48:54.0454705Z 2025-08-20 03:48:54.045 +00:00 [INF] All configurations are valid
2025-08-20T03:48:54.0577648Z 2025-08-20 03:48:54.054 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0797ms with message 'Database connection failed'
2025-08-20T03:48:54.0669242Z 2025-08-20 03:48:54.060 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 25.7493ms with message 'Event Store connection failed'
2025-08-20T03:48:54.0670068Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:48:54.0670116Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:48:54.0670142Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:48:54.0670234Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:48:54.0670263Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:48:54.0670296Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:48:54.0670323Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:48:54.0670429Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:48:54.0670454Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:48:54.0670481Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:48:54.0670506Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:48:54.0670536Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:48:54.0670566Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:48:54.0670597Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:48:54.0670631Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:48:54.0846482Z 2025-08-20 03:48:54.084 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:48:54.0918176Z 2025-08-20 03:48:54.085 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:0000000E": An unhandled exception was thrown by the application.
2025-08-20T03:48:54.0920059Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:48:54.0920840Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:48:54.0920930Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:54.0921465Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:48:54.0922394Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:48:54.0922552Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:54.0923364Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:48:54.0923444Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:48:54.0924095Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:48:54.0924797Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:48:54.0924872Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:48:54.0925560Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:48:54.0925678Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:48:54.0926309Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:48:54.0926388Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:54.0927068Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:48:54.0927734Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:48:54.0927808Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:48:54.0928490Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:48:54.0928568Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:54.0928629Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:48:54.0929235Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:48:54.0929987Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:48:54.1183371Z 2025-08-20 03:48:54.102 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 76.4578ms
2025-08-20T03:49:00.0489920Z 2025-08-20 03:49:00.043 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:00.0490456Z 2025-08-20 03:49:00.043 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:49:00.0490494Z 2025-08-20 03:49:00.044 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:00.0490520Z 2025-08-20 03:49:00.044 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:00.0490550Z 2025-08-20 03:49:00.044 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 1.3734ms
2025-08-20T03:49:00.0490583Z 2025-08-20 03:49:00.045 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:49:00.0490606Z 2025-08-20 03:49:00.045 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:00.0490632Z 2025-08-20 03:49:00.048 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:00.0624526Z 2025-08-20 03:49:00.057 +00:00 [INF] All configurations are valid
2025-08-20T03:49:00.0819459Z 2025-08-20 03:49:00.081 +00:00 [ERR] Health check database with status Unhealthy completed after 10.5216ms with message 'Database connection failed'
2025-08-20T03:49:00.0889084Z 2025-08-20 03:49:00.088 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:00.0942628Z 2025-08-20 03:49:00.094 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:49:00.0947643Z 2025-08-20 03:49:00.087 +00:00 [ERR] Health check database with status Unhealthy completed after 6.6291ms with message 'Database connection failed'
2025-08-20T03:49:00.0950532Z 2025-08-20 03:49:00.094 +00:00 [INF] All configurations are valid
2025-08-20T03:49:00.0955710Z 2025-08-20 03:49:00.095 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 18.9826ms
2025-08-20T03:49:00.0969439Z 2025-08-20 03:49:00.096 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:49:00.1025364Z 2025-08-20 03:49:00.087 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 12.5814ms with message 'Event Store connection failed'
2025-08-20T03:49:00.1025635Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:00.1028578Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:00.1028691Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:00.1029216Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:00.1029290Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:00.1029766Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:00.1029865Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:00.1030332Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:00.1030396Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:00.1030423Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:00.1030870Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:00.1030940Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:00.1031396Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:00.1031940Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:00.1032449Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:00.1109607Z 2025-08-20 03:49:00.110 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:00.1187099Z 2025-08-20 03:49:00.112 +00:00 [ERR] Connection id "0HNEVJH9HIP56", Request id "0HNEVJH9HIP56:0000000F": An unhandled exception was thrown by the application.
2025-08-20T03:49:00.1196931Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:00.1202589Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:00.1202806Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:00.1206586Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:00.1240712Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:00.1240891Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:00.1240929Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:00.1240959Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:00.1240991Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:49:00.1241018Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:00.1241045Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:00.1241113Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:00.1241141Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:00.1241172Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:00.1241201Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:00.1241230Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:00.1241258Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:00.1241287Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:00.1241312Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:00.1241336Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:00.1241388Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:00.1241416Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:00.1241446Z 2025-08-20 03:49:00.119 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.091ms with message 'Event Store connection failed'
2025-08-20T03:49:00.1241471Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:00.1241501Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:00.1241528Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:00.1241552Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:00.1241579Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:00.1241609Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:00.1241663Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:00.1241689Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:00.1241713Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:00.1241739Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:00.1241765Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:00.1241794Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:00.1242249Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:00.1242304Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:00.1242365Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:00.1287946Z 2025-08-20 03:49:00.128 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:00.1316780Z 2025-08-20 03:49:00.131 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 87.5388ms
2025-08-20T03:49:00.1434495Z 2025-08-20 03:49:00.142 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:49:00.1435093Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:00.1435134Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:00.1435163Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:00.1435190Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:00.1435267Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:00.1435298Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:00.1435327Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:00.1435355Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:00.1435384Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:49:00.1435411Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:00.1435438Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:00.1435466Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:00.1435518Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:00.1435548Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:00.1435577Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:00.1435605Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:00.1435632Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:00.1435660Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:00.1435685Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:00.1435710Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:00.1435742Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:00.1435797Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:00.1532578Z 2025-08-20 03:49:00.145 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 101.954ms
2025-08-20T03:49:00.3391944Z 2025-08-20 03:49:00.333 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:49:00.3610176Z 2025-08-20 03:49:00.360 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 8.1859ms
2025-08-20T03:49:00.3627158Z 2025-08-20 03:49:00.362 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:49:00.5479795Z 2025-08-20 03:49:00.546 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger - null 0
2025-08-20T03:49:00.5566677Z 2025-08-20 03:49:00.556 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger - 404 0 null 9.8522ms
2025-08-20T03:49:00.5584742Z 2025-08-20 03:49:00.558 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger, Response status code: 404
2025-08-20T03:49:00.7843041Z 2025-08-20 03:49:00.781 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:49:00.7866179Z 2025-08-20 03:49:00.786 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 3.3319ms
2025-08-20T03:49:00.8030364Z 2025-08-20 03:49:00.796 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:49:00.9791206Z 2025-08-20 03:49:00.978 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count - null 0
2025-08-20T03:49:00.9884898Z 2025-08-20 03:49:00.984 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count - 404 0 null 11.2253ms
2025-08-20T03:49:00.9885257Z 2025-08-20 03:49:00.984 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count, Response status code: 404
2025-08-20T03:49:01.1564876Z 2025-08-20 03:49:01.156 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search?q= - null 0
2025-08-20T03:49:01.1577257Z 2025-08-20 03:49:01.156 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search?q= - 404 0 null 0.7854ms
2025-08-20T03:49:01.1577486Z 2025-08-20 03:49:01.157 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search, Response status code: 404
2025-08-20T03:49:01.3434704Z 2025-08-20 03:49:01.343 +00:00 [INF] Request starting HTTP/1.1 POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - application/json 126
2025-08-20T03:49:01.3446200Z 2025-08-20 03:49:01.344 +00:00 [INF] Request finished HTTP/1.1 POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 1.1395ms
2025-08-20T03:49:01.3498907Z 2025-08-20 03:49:01.344 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:49:01.5327880Z 2025-08-20 03:49:01.532 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info - null 0
2025-08-20T03:49:01.5393745Z 2025-08-20 03:49:01.539 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info - 404 0 null 6.9025ms
2025-08-20T03:49:01.5511373Z 2025-08-20 03:49:01.550 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info, Response status code: 404
2025-08-20T03:49:01.7223827Z 2025-08-20 03:49:01.721 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config - null 0
2025-08-20T03:49:01.7436279Z 2025-08-20 03:49:01.738 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config - 404 0 null 16.5578ms
2025-08-20T03:49:01.7500327Z 2025-08-20 03:49:01.746 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config, Response status code: 404
2025-08-20T03:49:01.9345352Z 2025-08-20 03:49:01.927 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database - null 0
2025-08-20T03:49:01.9362216Z 2025-08-20 03:49:01.935 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database - 404 0 null 8.2263ms
2025-08-20T03:49:01.9366185Z 2025-08-20 03:49:01.936 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database, Response status code: 404
2025-08-20T03:49:02.2290179Z 2025-08-20 03:49:02.228 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:49:02.2370190Z 2025-08-20 03:49:02.236 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 1.1167ms
2025-08-20T03:49:02.2374267Z 2025-08-20 03:49:02.237 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:49:02.4705765Z 2025-08-20 03:49:02.463 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:49:02.4706379Z 2025-08-20 03:49:02.465 +00:00 [INF] CORS policy execution successful.
2025-08-20T03:49:02.4784263Z 2025-08-20 03:49:02.477 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 14.4997ms
2025-08-20T03:49:02.4789351Z 2025-08-20 03:49:02.478 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:49:02.6576481Z 2025-08-20 03:49:02.657 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:49:02.6587122Z 2025-08-20 03:49:02.658 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 1.0173ms
2025-08-20T03:49:02.6591280Z 2025-08-20 03:49:02.658 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:49:02.8609245Z 2025-08-20 03:49:02.857 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:49:02.8624859Z 2025-08-20 03:49:02.862 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 5.4085ms
2025-08-20T03:49:02.8694549Z 2025-08-20 03:49:02.869 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:49:03.0534725Z 2025-08-20 03:49:03.053 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:49:03.0611168Z 2025-08-20 03:49:03.058 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 5.0315ms
2025-08-20T03:49:03.0611491Z 2025-08-20 03:49:03.058 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:49:03.2281596Z 2025-08-20 03:49:03.227 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:49:03.2373668Z 2025-08-20 03:49:03.237 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 10.4443ms
2025-08-20T03:49:03.2382414Z 2025-08-20 03:49:03.238 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:49:03.4004934Z 2025-08-20 03:49:03.399 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:49:03.4159037Z 2025-08-20 03:49:03.414 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 4.5302ms
2025-08-20T03:49:03.4159518Z 2025-08-20 03:49:03.415 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:49:03.5778269Z 2025-08-20 03:49:03.577 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent - null 0
2025-08-20T03:49:03.5798584Z 2025-08-20 03:49:03.578 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent - 404 0 null 1.2085ms
2025-08-20T03:49:03.5816439Z 2025-08-20 03:49:03.581 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent, Response status code: 404
2025-08-20T03:49:03.7526388Z 2025-08-20 03:49:03.752 +00:00 [INF] Request starting HTTP/1.1 PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T03:49:03.7566632Z 2025-08-20 03:49:03.756 +00:00 [INF] Request finished HTTP/1.1 PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 4.4091ms
2025-08-20T03:49:03.7601554Z 2025-08-20 03:49:03.760 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T03:49:05.1618081Z 2025-08-20 03:49:05.160 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:05.1618436Z 2025-08-20 03:49:05.161 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:05.1760444Z 2025-08-20 03:49:05.167 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:05.1762528Z 2025-08-20 03:49:05.168 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2043ms with message 'Database connection failed'
2025-08-20T03:49:05.1762600Z 2025-08-20 03:49:05.169 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 5.9577ms with message 'Event Store connection failed'
2025-08-20T03:49:05.1762661Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:05.1762711Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:05.1762742Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:05.1762772Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:05.1762803Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:05.1762843Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:05.1762937Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:05.1762969Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:05.1762998Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:05.1763028Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:05.1763060Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:05.1763094Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:05.1763128Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:05.1763164Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:05.1763204Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:05.1763259Z 2025-08-20 03:49:05.174 +00:00 [INF] All configurations are valid
2025-08-20T03:49:05.1810824Z 2025-08-20 03:49:05.177 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:05.1892586Z 2025-08-20 03:49:05.178 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000016": An unhandled exception was thrown by the application.
2025-08-20T03:49:05.1915159Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:05.1915278Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:05.1915309Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:05.1915336Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:05.1915379Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:05.1915455Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:05.1915488Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:05.1915529Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:05.1915560Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:49:05.1915588Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:05.1915615Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:05.1915644Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:05.1915671Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:05.1915701Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:05.1915752Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:05.1915781Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:05.1915808Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:05.1915835Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:05.1915861Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:05.1915887Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:05.1915918Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:05.1915951Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:05.1979065Z 2025-08-20 03:49:05.193 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 33.0593ms
2025-08-20T03:49:10.2147275Z 2025-08-20 03:49:10.214 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:10.2152566Z 2025-08-20 03:49:10.215 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:10.2160104Z 2025-08-20 03:49:10.215 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:10.2223044Z 2025-08-20 03:49:10.221 +00:00 [INF] All configurations are valid
2025-08-20T03:49:10.2301580Z 2025-08-20 03:49:10.223 +00:00 [ERR] Health check database with status Unhealthy completed after 0.8494ms with message 'Database connection failed'
2025-08-20T03:49:10.2316811Z 2025-08-20 03:49:10.226 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 5.4964ms with message 'Event Store connection failed'
2025-08-20T03:49:10.2317074Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:10.2392262Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:10.2392633Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:10.2392672Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:10.2392700Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:10.2392732Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:10.2392757Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:10.2392786Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:10.2392812Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:10.2392874Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:10.2392901Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:10.2392931Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:10.2392962Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:10.2392994Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:10.2393028Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:10.2562431Z 2025-08-20 03:49:10.247 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:10.2562742Z 2025-08-20 03:49:10.248 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000017": An unhandled exception was thrown by the application.
2025-08-20T03:49:10.2562842Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:10.2562878Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:10.2562907Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:10.2562934Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:10.2562969Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:10.2562999Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:10.2563028Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:10.2563056Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:10.2563111Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:10.2563140Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:10.2563169Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:10.2563196Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:10.2563225Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:10.2563255Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:10.2563285Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:10.2563324Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:10.2563429Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:10.2563480Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:10.2563506Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:10.2563537Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:10.2563564Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:10.2563594Z 2025-08-20 03:49:10.249 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 35.1205ms
2025-08-20T03:49:15.2762303Z 2025-08-20 03:49:15.271 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:15.2762783Z 2025-08-20 03:49:15.275 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:15.2783876Z 2025-08-20 03:49:15.277 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8182ms with message 'Event Store connection failed'
2025-08-20T03:49:15.2784114Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:15.2865511Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:15.2867162Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:15.2873995Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:15.2874197Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:15.2936036Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:15.2936366Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:15.3028981Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:15.3029574Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:15.3029690Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:15.3029717Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:15.3029748Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:15.3029780Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:15.3029810Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:15.3029844Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:15.3029869Z 2025-08-20 03:49:15.278 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:15.3029893Z 2025-08-20 03:49:15.295 +00:00 [INF] All configurations are valid
2025-08-20T03:49:15.3051507Z 2025-08-20 03:49:15.304 +00:00 [ERR] Health check database with status Unhealthy completed after 8.414ms with message 'Database connection failed'
2025-08-20T03:49:15.3128425Z 2025-08-20 03:49:15.312 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:15.3149876Z 2025-08-20 03:49:15.314 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000018": An unhandled exception was thrown by the application.
2025-08-20T03:49:15.3315814Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:15.3316202Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:15.3316241Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:15.3316271Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:15.3316385Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:15.3316416Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:15.3316445Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:15.3316473Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:15.3316500Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:15.3316528Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:15.3316557Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:15.3316584Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:15.3316614Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:15.3316666Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:15.3316696Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:15.3316722Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:15.3316749Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:15.3316774Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:15.3316799Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:15.3316830Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:15.3316857Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:15.3316886Z 2025-08-20 03:49:15.324 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 52.2832ms
2025-08-20T03:49:20.3340107Z 2025-08-20 03:49:20.333 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:20.3348402Z 2025-08-20 03:49:20.334 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:20.3367112Z 2025-08-20 03:49:20.335 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:20.3380604Z 2025-08-20 03:49:20.337 +00:00 [INF] All configurations are valid
2025-08-20T03:49:20.3397333Z 2025-08-20 03:49:20.339 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9231ms with message 'Database connection failed'
2025-08-20T03:49:20.3461670Z 2025-08-20 03:49:20.339 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.8489ms with message 'Event Store connection failed'
2025-08-20T03:49:20.3463146Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:20.3463294Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:20.3463326Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:20.3463352Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:20.3463381Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:20.3463412Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:20.3463436Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:20.3463461Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:20.3463486Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:20.3463513Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:20.3463538Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:20.3463594Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:20.3463626Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:20.3463657Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:20.3463691Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:20.3531805Z 2025-08-20 03:49:20.348 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:20.3555273Z 2025-08-20 03:49:20.354 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000019": An unhandled exception was thrown by the application.
2025-08-20T03:49:20.3555628Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:20.3555719Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:20.3555749Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:20.3555777Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:20.3556270Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:20.3556305Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:20.3556334Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:20.3556363Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:20.3556391Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:20.3556419Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:20.3556474Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:20.3556580Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:20.3556609Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:20.3556668Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:20.3556697Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:20.3556725Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:20.3556753Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:20.3556778Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:20.3556822Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:20.3556874Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:20.3556902Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:20.3644770Z 2025-08-20 03:49:20.364 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 30.5854ms
2025-08-20T03:49:25.3687988Z 2025-08-20 03:49:25.368 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:26.9207807Z 2025-08-20 03:49:25.369 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:26.9208074Z 2025-08-20 03:49:25.369 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:26.9208104Z 2025-08-20 03:49:25.370 +00:00 [INF] All configurations are valid
2025-08-20T03:49:26.9208164Z 2025-08-20 03:49:25.371 +00:00 [ERR] Health check database with status Unhealthy completed after 0.8627ms with message 'Database connection failed'
2025-08-20T03:49:26.9208194Z 2025-08-20 03:49:25.376 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.1225ms with message 'Event Store connection failed'
2025-08-20T03:49:26.9208220Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:26.9208250Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:26.9208276Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:26.9208301Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:26.9208328Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:26.9208359Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:26.9208384Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:26.9208429Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:26.9208454Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:26.9208479Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:26.9208504Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:26.9208534Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:26.9208564Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:26.9208594Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:26.9208628Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:26.9208652Z 2025-08-20 03:49:25.377 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:26.9208705Z 2025-08-20 03:49:25.377 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:0000001A": An unhandled exception was thrown by the application.
2025-08-20T03:49:26.9208739Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:26.9208769Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:26.9208797Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:26.9208824Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:26.9208858Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:26.9208886Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:26.9208916Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:26.9209140Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:26.9209176Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:26.9209202Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:26.9209231Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:26.9209259Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:26.9209287Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:26.9209316Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:26.9209345Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:26.9209371Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:26.9209419Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:26.9209445Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:26.9209471Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:26.9209503Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:26.9209530Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:26.9209559Z 2025-08-20 03:49:25.379 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 11.2511ms
2025-08-20T03:49:30.3945435Z 2025-08-20 03:49:30.394 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:30.3952271Z 2025-08-20 03:49:30.394 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:30.4063620Z 2025-08-20 03:49:30.406 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:30.4108345Z 2025-08-20 03:49:30.410 +00:00 [INF] All configurations are valid
2025-08-20T03:49:30.4180480Z 2025-08-20 03:49:30.412 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 10.5542ms with message 'Event Store connection failed'
2025-08-20T03:49:30.4180912Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:30.4192416Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:30.4192665Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:30.4204364Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:30.4204560Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:30.4275253Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:30.4275723Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:30.4286837Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:30.4287070Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:30.4287102Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:30.4294295Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:30.4294410Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:30.4296486Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:30.4297512Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:30.4298348Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:30.4299403Z 2025-08-20 03:49:30.422 +00:00 [ERR] Health check database with status Unhealthy completed after 20.2404ms with message 'Database connection failed'
2025-08-20T03:49:30.4398342Z 2025-08-20 03:49:30.439 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:30.4430658Z 2025-08-20 03:49:30.440 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:0000001B": An unhandled exception was thrown by the application.
2025-08-20T03:49:30.4430985Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:30.4432726Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:30.4432776Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:30.4432803Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:30.4432838Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:30.4432894Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:30.4432924Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:30.4432952Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:30.4432979Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:30.4433006Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:30.4433034Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:30.4433061Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:30.4433090Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:30.4433143Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:30.4433173Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:30.4433199Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:30.4433227Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:30.4433253Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:30.4433278Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:30.4433310Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:30.4433337Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:30.4481584Z 2025-08-20 03:49:30.447 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 53.9536ms
2025-08-20T03:49:35.4695576Z 2025-08-20 03:49:35.468 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:35.4697101Z 2025-08-20 03:49:35.469 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:35.4843044Z 2025-08-20 03:49:35.483 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:35.4933761Z 2025-08-20 03:49:35.486 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.6437ms with message 'Event Store connection failed'
2025-08-20T03:49:35.4934057Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:35.4934095Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:35.4934122Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:35.4934153Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:35.4934258Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:35.4934294Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:35.4934320Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:35.4934344Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:35.4934368Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:35.4934394Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:35.4934418Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:35.4934449Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:35.4934477Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:35.4934509Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:35.4934569Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:35.4948330Z 2025-08-20 03:49:35.494 +00:00 [INF] All configurations are valid
2025-08-20T03:49:35.5005050Z 2025-08-20 03:49:35.500 +00:00 [ERR] Health check database with status Unhealthy completed after 14.7584ms with message 'Database connection failed'
2025-08-20T03:49:35.5009111Z 2025-08-20 03:49:35.500 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:35.5088185Z 2025-08-20 03:49:35.501 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:0000001C": An unhandled exception was thrown by the application.
2025-08-20T03:49:35.5088429Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:35.5088467Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:35.5088499Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:35.5088534Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:35.5088606Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:35.5088637Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:35.5088666Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:35.5088694Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:35.5089040Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:35.5089074Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:35.5089104Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:35.5089131Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:35.5089189Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:35.5089219Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:35.5089248Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:35.5089274Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:35.5089301Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:35.5089327Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:35.5089352Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:35.5089383Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:35.5089411Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:35.5103899Z 2025-08-20 03:49:35.510 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 41.7434ms
2025-08-20T03:49:40.5519896Z 2025-08-20 03:49:40.546 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:40.5520257Z 2025-08-20 03:49:40.547 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:40.5580447Z 2025-08-20 03:49:40.551 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1805ms with message 'Database connection failed'
2025-08-20T03:49:40.5671450Z 2025-08-20 03:49:40.558 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:40.5672043Z 2025-08-20 03:49:40.560 +00:00 [INF] All configurations are valid
2025-08-20T03:49:40.5729363Z 2025-08-20 03:49:40.568 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 17.4282ms with message 'Event Store connection failed'
2025-08-20T03:49:40.5729669Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:40.5729709Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:40.5729803Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:40.5729830Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:40.5729859Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:40.5729890Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:40.5729916Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:40.5729941Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:40.5729965Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:40.5729991Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:40.5730015Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:40.5730045Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:40.5730100Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:40.5730132Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:40.5730169Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:40.5977920Z 2025-08-20 03:49:40.581 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:40.5978239Z 2025-08-20 03:49:40.581 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:0000001D": An unhandled exception was thrown by the application.
2025-08-20T03:49:40.5978287Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:40.5978325Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:40.5978354Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:40.5978417Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:40.5978454Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:40.5978483Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:40.5978512Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:40.5978539Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:40.5978566Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:40.5978593Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:40.5978621Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:40.5978671Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:40.5978701Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:40.5978731Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:40.5978760Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:40.5978787Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:40.5978814Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:40.5978839Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:40.5978864Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:40.5978896Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:40.5978943Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:40.5978974Z 2025-08-20 03:49:40.583 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 37.399ms
2025-08-20T03:49:45.6207671Z 2025-08-20 03:49:45.620 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:45.6231052Z 2025-08-20 03:49:45.622 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:45.6379507Z 2025-08-20 03:49:45.625 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7855ms with message 'Event Store connection failed'
2025-08-20T03:49:45.6379844Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:45.6379882Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:45.6379911Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:45.6379987Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:45.6380017Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:45.6380049Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:45.6380073Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:45.6380098Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:45.6380122Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:45.6380147Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:45.6380172Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:45.6380201Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:45.6380261Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:45.6380292Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:45.6380326Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:45.6380355Z 2025-08-20 03:49:45.637 +00:00 [ERR] Health check database with status Unhealthy completed after 8.7127ms with message 'Database connection failed'
2025-08-20T03:49:45.6380379Z 2025-08-20 03:49:45.637 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:45.6462181Z 2025-08-20 03:49:45.646 +00:00 [INF] All configurations are valid
2025-08-20T03:49:45.6669551Z 2025-08-20 03:49:45.651 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:45.6672163Z 2025-08-20 03:49:45.652 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:0000001E": An unhandled exception was thrown by the application.
2025-08-20T03:49:45.6674798Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:45.6677333Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:45.6681403Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:45.6748552Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:45.6748679Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:45.6748708Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:45.6748743Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:45.6748772Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:45.6748837Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:45.6748867Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:45.6748894Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:45.6748922Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:45.6748951Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:45.6748980Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:45.6749009Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:45.6749035Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:45.6749063Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:45.6749110Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:45.6749136Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:45.6749167Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:45.6749194Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:45.6749223Z 2025-08-20 03:49:45.659 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 44.5106ms
2025-08-20T03:49:46.4031051Z 2025-08-20 03:49:46.402 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:46.4094146Z 2025-08-20 03:49:46.403 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:46.4107076Z 2025-08-20 03:49:46.410 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:46.4222259Z 2025-08-20 03:49:46.422 +00:00 [ERR] Health check database with status Unhealthy completed after 6.677ms with message 'Database connection failed'
2025-08-20T03:49:46.4232976Z 2025-08-20 03:49:46.422 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 5.8098ms with message 'Event Store connection failed'
2025-08-20T03:49:46.4233146Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:46.4233999Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:46.4234089Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:46.4234912Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:46.4234998Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:46.4235662Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:46.4235830Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:46.4236592Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:46.4236668Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:46.4236696Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:46.4238411Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:46.4238529Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:46.4239242Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:46.4240031Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:46.4240819Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:46.4404372Z 2025-08-20 03:49:46.439 +00:00 [INF] All configurations are valid
2025-08-20T03:49:46.4416520Z 2025-08-20 03:49:46.441 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:46.4428627Z 2025-08-20 03:49:46.442 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:0000001F": An unhandled exception was thrown by the application.
2025-08-20T03:49:46.4429473Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:46.4430191Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:46.4430354Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:46.4431112Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:46.4431858Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:46.4431937Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:46.4432523Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:46.4432597Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:46.4433292Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:46.4433406Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:46.4434009Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:46.4535790Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:46.4536107Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:46.4536142Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:46.4536175Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:46.4536206Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:46.4536234Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:46.4536338Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:46.4536365Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:46.4536398Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:46.4536426Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:46.4586834Z 2025-08-20 03:49:46.458 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 55.9185ms
2025-08-20T03:49:50.7238158Z 2025-08-20 03:49:50.717 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:50.7241085Z 2025-08-20 03:49:50.722 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:50.7563926Z 2025-08-20 03:49:50.725 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:50.7564312Z 2025-08-20 03:49:50.734 +00:00 [INF] All configurations are valid
2025-08-20T03:49:50.7575132Z 2025-08-20 03:49:50.742 +00:00 [ERR] Health check database with status Unhealthy completed after 16.7225ms with message 'Database connection failed'
2025-08-20T03:49:50.7624572Z 2025-08-20 03:49:50.761 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2.1127ms with message 'Event Store connection failed'
2025-08-20T03:49:50.7624810Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:50.7791727Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:50.7792080Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:50.7792114Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:50.7792142Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:50.7792222Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:50.7792249Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:50.7792274Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:50.7792299Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:50.7792326Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:50.7792350Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:50.7792379Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:50.7792409Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:50.7792440Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:50.7792498Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:50.7792523Z 2025-08-20 03:49:50.768 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:50.7792553Z 2025-08-20 03:49:50.769 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000020": An unhandled exception was thrown by the application.
2025-08-20T03:49:50.7792587Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:50.7792617Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:50.7792643Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:50.7792670Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:50.7792705Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:50.7792753Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:50.7792783Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:50.7792811Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:50.7792838Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:50.7792865Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:50.7792893Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:50.7792919Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:50.7793167Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:50.7793204Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:50.7793258Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:50.7793285Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:50.7793313Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:50.7793338Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:50.7793363Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:50.7793394Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:50.7793422Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:50.7793450Z 2025-08-20 03:49:50.770 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 53.8229ms
2025-08-20T03:49:52.8608396Z    _____                               
2025-08-20T03:49:52.8610460Z   /  _  \ __________ _________   ____  
2025-08-20T03:49:52.8610540Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:49:52.8610572Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:49:52.8610665Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:49:52.8610706Z         \/      \/                  \/ 
2025-08-20T03:49:52.8610735Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:49:52.8610762Z 
2025-08-20T03:49:52.8610798Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:49:52.8610830Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:49:52.8610859Z ASP .NETCore Version: 8.0.18
2025-08-20T03:49:52.8610918Z Note: Any data outside '/home' is not persisted
2025-08-20T03:49:55.7931294Z 2025-08-20 03:49:55.792 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:49:55.8013252Z 2025-08-20 03:49:55.794 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:49:55.8129086Z 2025-08-20 03:49:55.811 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9095ms with message 'Event Store connection failed'
2025-08-20T03:49:55.8261375Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:49:55.8262857Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:49:55.8263020Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:49:55.8263053Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:49:55.8263082Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:49:55.8263192Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:49:55.8263220Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:49:55.8263245Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:49:55.8263270Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:49:55.8263299Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:49:55.8263324Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:49:55.8263354Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:49:55.8263383Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:49:55.8263690Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:49:55.8263852Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:49:55.8263881Z 2025-08-20 03:49:55.822 +00:00 [INF] Starting configuration status health check
2025-08-20T03:49:55.8306589Z 2025-08-20 03:49:55.826 +00:00 [ERR] Health check database with status Unhealthy completed after 6.2779ms with message 'Database connection failed'
2025-08-20T03:49:55.8313455Z 2025-08-20 03:49:55.831 +00:00 [INF] All configurations are valid
2025-08-20T03:49:55.8389931Z 2025-08-20 03:49:55.833 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:49:55.8390097Z 2025-08-20 03:49:55.834 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000021": An unhandled exception was thrown by the application.
2025-08-20T03:49:55.8390137Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:49:55.8390175Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:49:55.8390278Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:55.8390306Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:49:55.8390340Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:49:55.8390368Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:55.8390397Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:49:55.8390425Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:49:55.8390452Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:49:55.8390480Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:49:55.8390532Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:49:55.8390560Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:49:55.8390589Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:55.8390617Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:49:55.8390645Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:49:55.8390672Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:49:55.8390699Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:49:55.8390725Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:55.8390751Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:49:55.8390802Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:49:55.8390830Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:49:55.8475976Z 2025-08-20 03:49:55.847 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 54.4307ms
2025-08-20T03:49:56.1393698Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:49:56.1490646Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:49:56.1928518Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:50:00.8761162Z 2025-08-20 03:50:00.875 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:00.8977916Z 2025-08-20 03:50:00.889 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:00.9132754Z 2025-08-20 03:50:00.906 +00:00 [ERR] Health check database with status Unhealthy completed after 14.8021ms with message 'Database connection failed'
2025-08-20T03:50:00.9138494Z 2025-08-20 03:50:00.907 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.6347ms with message 'Event Store connection failed'
2025-08-20T03:50:00.9138606Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:00.9161424Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:50:00.9161558Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:00.9162642Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:00.9162732Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:00.9163273Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:00.9163341Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:00.9164774Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:00.9164861Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:00.9164930Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:00.9230793Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:00.9231010Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:00.9231853Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:00.9233210Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:00.9233907Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:00.9309753Z 2025-08-20 03:50:00.930 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:00.9406359Z 2025-08-20 03:50:00.939 +00:00 [INF] All configurations are valid
2025-08-20T03:50:00.9490182Z 2025-08-20 03:50:00.943 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:00.9490463Z 2025-08-20 03:50:00.943 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000022": An unhandled exception was thrown by the application.
2025-08-20T03:50:00.9490510Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:00.9490542Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:00.9490569Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:00.9490599Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:00.9490727Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:00.9490757Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:00.9490785Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:00.9490813Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:00.9490840Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:00.9490867Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:00.9490896Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:00.9490922Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:00.9490952Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:00.9491007Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:00.9491036Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:00.9491062Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:00.9491089Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:00.9491115Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:00.9491140Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:00.9491172Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:00.9491200Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:00.9504370Z 2025-08-20 03:50:00.948 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 73.2035ms
2025-08-20T03:50:05.5759100Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:50:05.6167267Z 4 added, 0 removed; done.
2025-08-20T03:50:05.6320881Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:50:05.6529669Z done.
2025-08-20T03:50:05.7033408Z CA certificates copied and updated successfully.
2025-08-20T03:50:06.1421812Z Starting periodic command scheduler: cron.
2025-08-20T03:50:06.1514846Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:50:06.1749247Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:50:06.1749879Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:50:06.1749996Z Build Operation ID: 4a2799cb-470f-4af6-a4de-ec4b5017241a
2025-08-20T03:50:06.4279361Z 
2025-08-20T03:50:06.4280974Z Agent extension 
2025-08-20T03:50:06.4340837Z Before if loop >> DotNet Runtime 
synonyms, Boolean firstKey)
2025-08-20T03:50:06.0513338Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:06.0514266Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:06.0514398Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:06.0515112Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:06.0515190Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:06.0515722Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:06.0515788Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:06.0515816Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:06.0516468Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:06.0516543Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:06.0517281Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:06.0517937Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:06.0518681Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:06.0519709Z 2025-08-20 03:50:06.048 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:06.0561619Z 2025-08-20 03:50:06.050 +00:00 [ERR] Health check database with status Unhealthy completed after 0.8743ms with message 'Database connection failed'
2025-08-20T03:50:06.0587082Z 2025-08-20 03:50:06.058 +00:00 [INF] All configurations are valid
2025-08-20T03:50:06.0667307Z 2025-08-20 03:50:06.066 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:06.0889953Z 2025-08-20 03:50:06.067 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000023": An unhandled exception was thrown by the application.
2025-08-20T03:50:06.0891833Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:06.0892518Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:06.0892598Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:06.0893293Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:06.0894053Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:06.0894212Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:06.0894905Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:06.0894982Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:06.0895755Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:06.0895830Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:06.0896441Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:06.0897171Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:06.0897251Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:06.0897920Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:06.0898000Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:06.0899022Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:06.0899111Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:06.0899729Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:06.0899804Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:06.0900504Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:06.0900614Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:06.0918459Z 2025-08-20 03:50:06.091 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 71.7526ms
2025-08-20T03:50:06.6282854Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:50:06.7097638Z Trying to find the startup DLL name...
2025-08-20T03:50:06.7177332Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:50:06.7178640Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:50:09.5564370Z 2025-08-20 03:50:09.435 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:50:09.9496307Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:50:10.5702186Z 2025-08-20 03:50:10.532 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:50:10.5702853Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:50:10.5705381Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:50:10.5705528Z    at System.Uri..ctor(String uriString)
2025-08-20T03:50:10.5706328Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:50:10.5706451Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:50:10.5715343Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:50:10.5999842Z 2025-08-20 03:50:10.599 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:50:10.6663112Z 2025-08-20 03:50:10.666 +00:00 [INF] Starting configuration validation...
2025-08-20T03:50:10.7048353Z 2025-08-20 03:50:10.704 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:50:10.7048752Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:50:10.7050076Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:50:10.7050194Z    at System.Uri..ctor(String uriString)
2025-08-20T03:50:10.7050847Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:50:10.7050954Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:50:10.7051736Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:50:10.7216617Z 2025-08-20 03:50:10.721 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:50:10.7281184Z 2025-08-20 03:50:10.727 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:50:10.8736403Z 2025-08-20 03:50:10.873 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:50:11.5014963Z 2025-08-20 03:50:11.501 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:50:11.5462591Z 2025-08-20 03:50:11.545 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
.1345253Z 2025-08-20 03:50:11.133 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8715ms with message 'Event Store connection failed'
2025-08-20T03:50:11.1345836Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:11.1405846Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:50:11.1406157Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:11.1407164Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:11.1407382Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:11.1408041Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:11.1408117Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:11.1408716Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:11.1408788Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:11.1408816Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:11.1409485Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:11.1409602Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:11.1410212Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:11.1410963Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:11.1411600Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:11.1412645Z 2025-08-20 03:50:11.140 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:11.1504106Z 2025-08-20 03:50:11.150 +00:00 [INF] All configurations are valid
2025-08-20T03:50:11.1675413Z 2025-08-20 03:50:11.151 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9222ms with message 'Database connection failed'
2025-08-20T03:50:11.2127444Z 2025-08-20 03:50:11.212 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:11.2145221Z 2025-08-20 03:50:11.213 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000024": An unhandled exception was thrown by the application.
2025-08-20T03:50:11.2205686Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:11.2207158Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:11.2207333Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:11.2207935Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:11.2209100Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:11.2209185Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:11.2210845Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:11.2210934Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:11.2211602Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:11.2211677Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:11.2212370Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:11.2213103Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:11.2213183Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:11.2214136Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:11.2214216Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:11.2214790Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:11.2214861Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:11.2215584Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:11.2215659Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:11.2216285Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:11.2216359Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:11.2673337Z 2025-08-20 03:50:11.267 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 152.5057ms
2025-08-20T03:50:11.9698193Z 2025-08-20 03:50:11.969 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:50:11.9807219Z 2025-08-20 03:50:11.980 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:50:11.9892365Z 2025-08-20 03:50:11.988 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:50:11.9909540Z 2025-08-20 03:50:11.990 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:50:13.0812979Z 2025-08-20 03:50:13.074 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.5:8080/robots933456.txt - null null
2025-08-20T03:50:13.1786620Z 2025-08-20 03:50:13.178 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:50:13.3280925Z 2025-08-20 03:50:13.324 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.5:8080/robots933456.txt - 404 0 null 265.1028ms
2025-08-20T03:50:13.3469681Z 2025-08-20 03:50:13.346 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.5:8080/robots933456.txt, Response status code: 404
2025-08-20T03:50:13.5688974Z 2025-08-20 03:50:13.560 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:13.5689529Z 2025-08-20 03:50:13.562 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:13.6780895Z 2025-08-20 03:50:13.672 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 33.1424ms with message 'Event Store connection failed'
2025-08-20T03:50:13.6781351Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:13.6781390Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:50:13.6781495Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:13.6781520Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:13.6781548Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:13.6781579Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:13.6781605Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:13.6781630Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:13.6781653Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:13.6781680Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:13.6781706Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:13.6781763Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:13.6781793Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:13.6781824Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:13.6781859Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:13.6781887Z 2025-08-20 03:50:13.674 +00:00 [ERR] Health check database with status Unhealthy completed after 1.063ms with message 'Database connection failed'
2025-08-20T03:50:13.6781911Z 2025-08-20 03:50:13.674 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:13.7080384Z 2025-08-20 03:50:13.707 +00:00 [INF] All configurations are valid
2025-08-20T03:50:13.7168776Z 2025-08-20 03:50:13.716 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:13.7277487Z 2025-08-20 03:50:13.723 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000025": An unhandled exception was thrown by the application.
2025-08-20T03:50:13.7277806Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:13.7277844Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:13.7277873Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:13.7277900Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:13.7277941Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:13.7277970Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:13.7277999Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:13.7278106Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:13.7278133Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:13.7278160Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:13.7278188Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:13.7278215Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:13.7278270Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:13.7278301Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:13.7278330Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:13.7278356Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:13.7278383Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:13.7278408Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:13.7278432Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:13.7278464Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:13.7278492Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:13.7628609Z 2025-08-20 03:50:13.755 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 194.6418ms
2025-08-20T03:50:16.2777169Z 2025-08-20 03:50:16.277 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:16.2967977Z 2025-08-20 03:50:16.290 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:16.3225925Z 2025-08-20 03:50:16.322 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:16.3584153Z 2025-08-20 03:50:16.337 +00:00 [INF] All configurations are valid
2025-08-20T03:50:16.3594332Z 2025-08-20 03:50:16.345 +00:00 [ERR] Health check database with status Unhealthy completed after 17.2709ms with message 'Database connection failed'
2025-08-20T03:50:16.3748009Z 2025-08-20 03:50:16.355 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8609ms with message 'Event Store connection failed'
2025-08-20T03:50:16.3749280Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:16.3749328Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:16.3749357Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:16.3749388Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:16.3749420Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:16.3749444Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:16.3749474Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:16.3749503Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:16.3749618Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:16.3749655Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:16.4051788Z 2025-08-20 03:50:16.398 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:16.4444714Z 2025-08-20 03:50:16.400 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000026": An unhandled exception was thrown by the application.
2025-08-20T03:50:16.4548411Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:16.4551647Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:16.4551687Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:16.4554737Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:16.4558151Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:16.4561814Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:16.4636615Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:16.4638283Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:16.4638331Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:16.4641845Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:16.4641885Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:16.4835836Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:16.4836218Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:16.4836300Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:16.4836336Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:16.4836362Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:16.4836390Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:16.4836416Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:16.4836441Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:16.4836473Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:16.4836500Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:16.5386114Z 2025-08-20 03:50:16.519 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 242.3609ms
2025-08-20T03:50:21.3964139Z 2025-08-20 03:50:21.394 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:50:21.4141342Z 2025-08-20 03:50:21.413 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 19.856ms
2025-08-20T03:50:21.4200432Z 2025-08-20 03:50:21.419 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:50:21.5418825Z 2025-08-20 03:50:21.536 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:21.5720665Z 2025-08-20 03:50:21.571 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:21.5799030Z 2025-08-20 03:50:21.579 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:22.6104795Z 2025-08-20 03:50:21.589 +00:00 [ERR] Health check database with status Unhealthy completed after 15.1798ms with message 'Database connection failed'
2025-08-20T03:50:22.6105069Z 2025-08-20 03:50:21.598 +00:00 [INF] All configurations are valid
2025-08-20T03:50:22.6105105Z 2025-08-20 03:50:21.610 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 35.9281ms with message 'Event Store connection failed'
2025-08-20T03:50:22.6105130Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:22.6105157Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:22.6105182Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:22.6105213Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:22.6105267Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:22.6105292Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:22.6105322Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:22.6105353Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:22.6105383Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:22.6105419Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:22.6105444Z 2025-08-20 03:50:21.656 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:22.6105473Z 2025-08-20 03:50:21.663 +00:00 [ERR] Connection id "0HNEVJH9HIP57", Request id "0HNEVJH9HIP57:00000027": An unhandled exception was thrown by the application.
2025-08-20T03:50:22.6105529Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:22.6105561Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:22.6105587Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:22.6105615Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:22.6105649Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:22.6105677Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:22.6105707Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:22.6105735Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:22.6105762Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:22.6105807Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:22.6105836Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:22.6105864Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:22.6105893Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:22.6106127Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:22.6106162Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:22.6106189Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:22.6106216Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:22.6106260Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:22.6106286Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:22.6106320Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:22.6106347Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:22.6106376Z 2025-08-20 03:50:21.672 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 135.9345ms
2025-08-20T03:50:26.7446311Z 2025-08-20 03:50:26.744 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:26.7640163Z 2025-08-20 03:50:26.763 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:26.7906462Z 2025-08-20 03:50:26.790 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:27.7563790Z 2025-08-20 03:50:27.755 +00:00 [INF] All configurations are valid
2025-08-20T03:50:29.3934251Z 2025-08-20 03:50:29.365 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2058.188ms with message 'Event Store connection failed'
2025-08-20T03:50:29.3935257Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:29.3935313Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:50:29.3935345Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:29.3980882Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:29.3981022Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:29.3981062Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:29.3981181Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:29.3981215Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:29.3981243Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:29.3981273Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:29.3981303Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:29.3981339Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:29.3981372Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:29.3981411Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:29.3981567Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:31.2255462Z 2025-08-20 03:50:31.225 +00:00 [ERR] Health check database with status Unhealthy completed after 3939.6468ms with message 'Database connection failed'
2025-08-20T03:50:31.2358120Z 2025-08-20 03:50:31.233 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:31.2537907Z 2025-08-20 03:50:31.245 +00:00 [ERR] Connection id "0HNEVJILCHRLC", Request id "0HNEVJILCHRLC:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:50:31.2538497Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:31.2538544Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:31.2538571Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:31.2538597Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:31.2538692Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:31.2538723Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:50:31.2538752Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:31.2538780Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:31.2538808Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:50:31.2538834Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:31.2538859Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:50:31.2538888Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:50:31.2538914Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:50:31.2538967Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:31.2538996Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:31.2539022Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:31.2539073Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:31.2539103Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:31.2539131Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:31.2539157Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:31.2539184Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:31.2539229Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:31.2539254Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:31.2539285Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:31.2539313Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:31.2803360Z 2025-08-20 03:50:31.279 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4535.8563ms
2025-08-20T03:50:36.2943418Z 2025-08-20 03:50:36.294 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:36.2965057Z 2025-08-20 03:50:36.296 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:36.3040858Z 2025-08-20 03:50:36.302 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:36.3101412Z 2025-08-20 03:50:36.309 +00:00 [INF] All configurations are valid
2025-08-20T03:50:36.5073429Z 2025-08-20 03:50:36.507 +00:00 [ERR] Health check database with status Unhealthy completed after 203.5134ms with message 'Database connection failed'
2025-08-20T03:50:36.5141694Z 2025-08-20 03:50:36.507 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 208.1309ms with message 'Event Store connection failed'
2025-08-20T03:50:36.5141987Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:36.5146239Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:50:36.5146437Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:36.5146466Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:36.5146630Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:36.5146664Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:36.5146688Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:36.5146712Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:36.5146738Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:36.5146763Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:36.5146788Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:36.5146846Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:36.5146875Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:36.5146906Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:36.5146939Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:36.5249336Z 2025-08-20 03:50:36.524 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:36.5316133Z 2025-08-20 03:50:36.530 +00:00 [ERR] Connection id "0HNEVJILCHRLC", Request id "0HNEVJILCHRLC:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:50:36.5316551Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:36.5316643Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:36.5316673Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:36.5316700Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:36.5316734Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:36.5316761Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:36.5316790Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:36.5316818Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:36.5316846Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:50:36.5316873Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:36.5316924Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:50:36.5316953Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:50:36.5316980Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:50:36.5317007Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:36.5317035Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:36.5317062Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:36.5317091Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:36.5317120Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:36.5317171Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:36.5317197Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:36.5317224Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:36.5317248Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:36.5317273Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:36.5317304Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:36.5317353Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:36.5466271Z 2025-08-20 03:50:36.544 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 250.1546ms
2025-08-20T03:50:41.5602990Z 2025-08-20 03:50:41.559 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:41.5647824Z 2025-08-20 03:50:41.564 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:41.5761701Z 2025-08-20 03:50:41.575 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.123ms with message 'Event Store connection failed'
2025-08-20T03:50:41.5762264Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:41.5766993Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:50:41.5767105Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:41.5767139Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:41.5767168Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:41.5767280Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:41.5767306Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:41.5767330Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:41.5767354Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:41.5767381Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:41.5767406Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:41.5767437Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:41.5767466Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:41.5767496Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:41.5767549Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:41.6119122Z 2025-08-20 03:50:41.581 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:41.6119332Z 2025-08-20 03:50:41.593 +00:00 [ERR] Health check database with status Unhealthy completed after 14.5483ms with message 'Database connection failed'
2025-08-20T03:50:41.6504941Z 2025-08-20 03:50:41.618 +00:00 [INF] All configurations are valid
2025-08-20T03:50:41.6505274Z 2025-08-20 03:50:41.647 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:41.6827938Z 2025-08-20 03:50:41.673 +00:00 [ERR] Connection id "0HNEVJILCHRLC", Request id "0HNEVJILCHRLC:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:50:41.6828412Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:41.6828482Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:41.6828511Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:41.6828576Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:41.6828999Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:41.6829053Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:41.6832411Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:41.6832500Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:41.6832530Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:50:41.6832586Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:41.6832613Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:50:41.6832640Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:41.6832669Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:41.6832696Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:41.6832725Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:41.6832754Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:41.6832783Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:41.6832894Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:41.6832923Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:41.6832949Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:41.6832975Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:41.6833008Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:41.6833035Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:41.7088709Z 2025-08-20 03:50:41.694 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 134.6781ms
2025-08-20T03:50:46.7443957Z 2025-08-20 03:50:46.738 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:46.7689423Z 2025-08-20 03:50:46.764 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:46.8095233Z 2025-08-20 03:50:46.792 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:46.8304342Z 2025-08-20 03:50:46.829 +00:00 [INF] All configurations are valid
2025-08-20T03:50:46.8392569Z 2025-08-20 03:50:46.808 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 42.1243ms with message 'Event Store connection failed'
2025-08-20T03:50:46.8393722Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:46.8475873Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:50:46.8476270Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:46.8477224Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:46.8477314Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:46.8477909Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:46.8477976Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:46.8478445Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:46.8478509Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:46.8478598Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:46.8479071Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:46.8479141Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:46.8479603Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:46.8480100Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:46.8480702Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:46.8481548Z 2025-08-20 03:50:46.844 +00:00 [ERR] Health check database with status Unhealthy completed after 74.4753ms with message 'Database connection failed'
2025-08-20T03:50:46.8663523Z 2025-08-20 03:50:46.866 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:46.8779716Z 2025-08-20 03:50:46.872 +00:00 [ERR] Connection id "0HNEVJILCHRLC", Request id "0HNEVJILCHRLC:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:50:46.8780143Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:46.8780189Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:46.8780218Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:46.8780244Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:46.8780277Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:46.8780382Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:46.8780415Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:46.8780442Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:46.8780470Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:50:46.8780497Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:46.8780522Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:50:46.8780549Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:46.8780577Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:46.8780603Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:46.8780657Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:46.8780686Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:46.8780713Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:46.8780739Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:46.8780766Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:46.8780790Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:46.8780814Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:46.8780845Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:46.8780873Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:46.8852494Z 2025-08-20 03:50:46.884 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 146.3532ms
2025-08-20T03:50:51.9215790Z 2025-08-20 03:50:51.912 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:51.9216074Z 2025-08-20 03:50:51.914 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:51.9292852Z 2025-08-20 03:50:51.922 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0142ms with message 'Event Store connection failed'
2025-08-20T03:50:51.9293104Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:51.9293146Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:50:51.9293176Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:51.9293201Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:51.9293228Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:51.9293262Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:51.9293333Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:51.9293359Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:51.9293385Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:51.9293411Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:51.9293435Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:51.9293465Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:51.9293494Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:51.9293524Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:51.9293560Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:52.0327483Z 2025-08-20 03:50:51.962 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:52.0327786Z 2025-08-20 03:50:51.969 +00:00 [ERR] Health check database with status Unhealthy completed after 30.3074ms with message 'Database connection failed'
2025-08-20T03:50:52.0327818Z 2025-08-20 03:50:52.014 +00:00 [INF] All configurations are valid
2025-08-20T03:50:52.0327851Z 2025-08-20 03:50:52.025 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:52.1130972Z 2025-08-20 03:50:52.073 +00:00 [ERR] Connection id "0HNEVJILCHRLC", Request id "0HNEVJILCHRLC:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:50:52.1131311Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:52.1131354Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:52.1131399Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:52.1131466Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:52.1131507Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:52.1131540Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:52.1131573Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:52.1131604Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:52.1131637Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:50:52.1131668Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:52.1131700Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:50:52.1131731Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:52.1131788Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:52.1131822Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:52.1131856Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:52.1131892Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:52.1131925Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:52.1131955Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:52.1131988Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:52.1132017Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:52.1132047Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:52.1132104Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:52.1132137Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:52.1601394Z 2025-08-20 03:50:52.159 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 224.3326ms
2025-08-20T03:50:57.1700846Z 2025-08-20 03:50:57.167 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:50:57.1797127Z 2025-08-20 03:50:57.175 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:50:57.1891554Z 2025-08-20 03:50:57.185 +00:00 [ERR] Health check database with status Unhealthy completed after 1.077ms with message 'Database connection failed'
2025-08-20T03:50:57.1891893Z 2025-08-20 03:50:57.185 +00:00 [INF] Starting configuration status health check
2025-08-20T03:50:57.1990744Z 2025-08-20 03:50:57.197 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 10.9627ms with message 'Event Store connection failed'
2025-08-20T03:50:57.1991072Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:50:57.2068647Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:50:57.2068942Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:50:57.2069022Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:50:57.2069052Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:50:57.2069083Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:50:57.2069107Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:50:57.2069132Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:50:57.2069155Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:50:57.2069181Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:50:57.2069206Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:50:57.2069236Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:50:57.2069487Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:50:57.2069526Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:50:57.2069561Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:50:57.2151338Z 2025-08-20 03:50:57.214 +00:00 [INF] All configurations are valid
2025-08-20T03:50:57.2218258Z 2025-08-20 03:50:57.221 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:50:57.2300817Z 2025-08-20 03:50:57.228 +00:00 [ERR] Connection id "0HNEVJILCHRLC", Request id "0HNEVJILCHRLC:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:50:57.2308686Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:50:57.2308931Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:50:57.2308964Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:57.2308992Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:50:57.2309026Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:50:57.2309053Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:57.2309083Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:50:57.2309110Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:50:57.2309139Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:50:57.2621586Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:50:57.2621952Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:50:57.2621986Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:50:57.2622018Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:50:57.2622044Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:50:57.2622099Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:57.2622128Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:50:57.2622158Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:50:57.2622185Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:50:57.2622233Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:50:57.2622678Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:57.2622715Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:50:57.2622747Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:50:57.2622774Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:50:57.2622803Z 2025-08-20 03:50:57.245 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 78.3947ms
2025-08-20T03:51:07.3176293Z    _____                               
2025-08-20T03:51:07.3177670Z   /  _  \ __________ _________   ____  
2025-08-20T03:51:07.3177739Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:51:07.3177803Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:51:07.3177833Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:51:07.3177870Z         \/      \/                  \/ 
2025-08-20T03:51:07.3177899Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:51:07.3177926Z 
2025-08-20T03:51:07.3177963Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:51:07.3178014Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:51:07.3178044Z ASP .NETCore Version: 8.0.18
2025-08-20T03:51:07.3178075Z Note: Any data outside '/home' is not persisted
2025-08-20T03:51:08.7277005Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:51:08.7530786Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:51:08.8008210Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:51:13.4874138Z 2025-08-20 03:51:13.481 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:13.4889874Z 2025-08-20 03:51:13.488 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:13.4975409Z 2025-08-20 03:51:13.497 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:13.5165626Z 2025-08-20 03:51:13.515 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 15.8627ms with message 'Event Store connection failed'
2025-08-20T03:51:13.5166027Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:13.5167015Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:13.5167096Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:13.5167629Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:13.5167783Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:13.5168275Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:13.5168344Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:13.5168833Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:13.5168896Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:13.5168924Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:13.5169385Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:13.5169454Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:13.5170075Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:13.5170641Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:13.5171145Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:13.5243811Z 2025-08-20 03:51:13.523 +00:00 [ERR] Health check database with status Unhealthy completed after 10.3914ms with message 'Database connection failed'
2025-08-20T03:51:13.5278571Z 2025-08-20 03:51:13.527 +00:00 [INF] All configurations are valid
2025-08-20T03:51:13.5527045Z 2025-08-20 03:51:13.545 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:13.5633539Z 2025-08-20 03:51:13.561 +00:00 [ERR] Connection id "0HNEVJILCHRLC", Request id "0HNEVJILCHRLC:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:51:13.5693426Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:13.5694417Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:13.5694487Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:13.5694520Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:13.5694555Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:13.5694583Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:13.5694612Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:13.5694645Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:13.5694714Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:13.5694742Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:13.5694769Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:51:13.5694797Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:13.5694826Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:13.5694853Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:13.5694882Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:13.5694912Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:13.5694965Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:13.5694991Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:13.5695019Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:13.5695045Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:13.5695071Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:13.5695103Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:13.5695130Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:13.5869069Z 2025-08-20 03:51:13.582 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 100.7602ms
2025-08-20T03:51:16.9478127Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:51:16.9694032Z 4 added, 0 removed; done.
2025-08-20T03:51:16.9701262Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:51:16.9789590Z done.
2025-08-20T03:51:17.0084539Z CA certificates copied and updated successfully.
2025-08-20T03:51:17.1775624Z Starting periodic command scheduler: cron.
2025-08-20T03:51:17.1848579Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:51:17.2887178Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:51:17.2897362Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:51:17.2957976Z Build Operation ID: 01ecb574-f8c4-4951-acaf-936e5169ad3b
2025-08-20T03:51:17.5794712Z 
2025-08-20T03:51:17.5795422Z Agent extension 
2025-08-20T03:51:17.5795553Z Before if loop >> DotNet Runtime 
2025-08-20T03:51:17.7732491Z 2025-08-20 03:51:17.773 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:51:17.7736580Z 2025-08-20 03:51:17.773 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:17.7810132Z 2025-08-20 03:51:17.780 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:17.7908376Z 2025-08-20 03:51:17.790 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 17.7684ms
2025-08-20T03:51:17.7946107Z 2025-08-20 03:51:17.794 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:17.7991428Z 2025-08-20 03:51:17.798 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:51:17.7992742Z 2025-08-20 03:51:17.796 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:51:17.8023511Z 2025-08-20 03:51:17.801 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8982ms with message 'Event Store connection failed'
2025-08-20T03:51:17.8023875Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:17.8025090Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:17.8025179Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:17.8025777Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:17.8025852Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:17.8026538Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:17.8026615Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:17.8027392Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:17.8027466Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:17.8027495Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:17.8029287Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:17.8029376Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:17.8030053Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:17.8092230Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:17.8093402Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:17.8095578Z 2025-08-20 03:51:17.805 +00:00 [INF] All configurations are valid
2025-08-20T03:51:17.8270058Z 2025-08-20 03:51:17.806 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 17.1426ms
2025-08-20T03:51:17.8270380Z 2025-08-20 03:51:17.819 +00:00 [ERR] Health check database with status Unhealthy completed after 1.153ms with message 'Database connection failed'
2025-08-20T03:51:17.8399036Z 2025-08-20 03:51:17.839 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:51:17.8480744Z 2025-08-20 03:51:17.847 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:17.8579880Z 2025-08-20 03:51:17.857 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:51:17.8660082Z 2025-08-20 03:51:17.862 +00:00 [ERR] Connection id "0HNEVJILCHRLE", Request id "0HNEVJILCHRLE:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:51:17.8660535Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:17.8660572Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:17.8660602Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:17.8660660Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:17.8660695Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:17.8660723Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:17.8660835Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:17.8660863Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:17.8660892Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:17.8660919Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:17.8660946Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:51:17.8660972Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:17.8661000Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:17.8661026Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:17.8661056Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:17.8661110Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:17.8661140Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:17.8661165Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:17.8661193Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:17.8661218Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:17.8661243Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:17.8661274Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:17.8661301Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:17.8777977Z 2025-08-20 03:51:17.869 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 12.1806ms
2025-08-20T03:51:17.8857048Z 2025-08-20 03:51:17.880 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 107.0746ms
2025-08-20T03:51:17.8954508Z 2025-08-20 03:51:17.893 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:51:17.7744758Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:51:17.8796224Z Trying to find the startup DLL name...
2025-08-20T03:51:17.8871989Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:51:17.8874838Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:51:20.9858205Z 2025-08-20 03:51:20.815 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:51:21.5312558Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:51:22.2774447Z 2025-08-20 03:51:22.245 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:51:22.2775258Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:51:22.2775326Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:51:22.2775371Z    at System.Uri..ctor(String uriString)
2025-08-20T03:51:22.2775517Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:51:22.2775571Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:51:22.2775623Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:51:22.3097218Z 2025-08-20 03:51:22.303 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:51:22.3643162Z 2025-08-20 03:51:22.363 +00:00 [INF] Starting configuration validation...
2025-08-20T03:51:22.4482438Z 2025-08-20 03:51:22.447 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:51:22.4483182Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:51:22.4483240Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:51:22.4483272Z    at System.Uri..ctor(String uriString)
2025-08-20T03:51:22.4483312Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:51:22.4483435Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:51:22.4483480Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:51:22.4602819Z 2025-08-20 03:51:22.459 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:51:22.4652346Z 2025-08-20 03:51:22.465 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:51:22.5696106Z 2025-08-20 03:51:22.563 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:51:22.9166947Z 2025-08-20 03:51:22.916 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:22.9235347Z 2025-08-20 03:51:22.923 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:22.9343804Z 2025-08-20 03:51:22.934 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:22.9407764Z 2025-08-20 03:51:22.940 +00:00 [INF] All configurations are valid
2025-08-20T03:51:22.9424591Z 2025-08-20 03:51:22.942 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0826ms with message 'Database connection failed'
2025-08-20T03:51:22.9433259Z 2025-08-20 03:51:22.933 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9382ms with message 'Event Store connection failed'
2025-08-20T03:51:22.9433384Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:22.9434584Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:22.9434672Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:22.9434699Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:22.9434727Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:22.9434758Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:22.9434823Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:22.9434854Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:22.9434878Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:22.9434903Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:22.9434928Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:22.9434958Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:22.9434986Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:22.9435018Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:22.9435051Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:22.9662363Z 2025-08-20 03:51:22.966 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:22.9769818Z 2025-08-20 03:51:22.975 +00:00 [ERR] Connection id "0HNEVJILCHRLE", Request id "0HNEVJILCHRLE:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:51:22.9831692Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:22.9832954Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:22.9833046Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:22.9856632Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:22.9856778Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:22.9856900Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:22.9856930Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:22.9856959Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:22.9856987Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:22.9857015Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:22.9857041Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:51:22.9857068Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:22.9857098Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:22.9857124Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:22.9857182Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:22.9857215Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:22.9857243Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:22.9857270Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:22.9857297Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:22.9857322Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:22.9857347Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:22.9857379Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:22.9857427Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:23.0093603Z 2025-08-20 03:51:23.009 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 92.8346ms
2025-08-20T03:51:23.1313158Z 2025-08-20 03:51:23.131 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:51:23.2571846Z 2025-08-20 03:51:23.256 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:51:23.8383750Z 2025-08-20 03:51:23.833 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:51:23.8397138Z 2025-08-20 03:51:23.839 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:51:23.8484899Z 2025-08-20 03:51:23.848 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:51:23.8704057Z 2025-08-20 03:51:23.862 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:51:24.4810704Z 2025-08-20 03:51:24.472 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - null null
2025-08-20T03:51:24.5803480Z 2025-08-20 03:51:24.577 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:51:24.7153419Z 2025-08-20 03:51:24.707 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - 404 0 null 241.5571ms
2025-08-20T03:51:24.7294317Z 2025-08-20 03:51:24.724 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.2:8080/robots933456.txt, Response status code: 404
2025-08-20T03:51:24.8643726Z 2025-08-20 03:51:24.853 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:24.8644084Z 2025-08-20 03:51:24.862 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:24.8895042Z 2025-08-20 03:51:24.889 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:24.9064792Z 2025-08-20 03:51:24.906 +00:00 [INF] All configurations are valid
2025-08-20T03:51:24.9210284Z 2025-08-20 03:51:24.920 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1342ms with message 'Event Store connection failed'
2025-08-20T03:51:24.9210878Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:24.9213466Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:24.9213565Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:24.9214328Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:24.9214409Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:24.9214909Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:24.9214975Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:24.9215623Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:24.9215693Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:24.9215755Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:24.9216463Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:24.9216540Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:24.9217177Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:24.9217896Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:24.9218521Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:24.9474422Z 2025-08-20 03:51:24.947 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2932ms with message 'Database connection failed'
2025-08-20T03:51:24.9739379Z 2025-08-20 03:51:24.973 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:24.9960411Z 2025-08-20 03:51:24.981 +00:00 [ERR] Connection id "0HNEVJILCHRLE", Request id "0HNEVJILCHRLE:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:51:24.9961678Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:24.9963416Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:24.9963503Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:24.9964137Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:24.9964963Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:24.9965039Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:24.9965641Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:24.9965711Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:24.9966406Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:24.9967023Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:24.9967094Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:51:24.9967798Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:24.9967873Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:24.9968591Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:24.9968666Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:24.9969392Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:24.9970020Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:24.9970088Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:24.9970759Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:24.9970869Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:24.9970897Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:24.9971481Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:24.9972227Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:25.0494143Z 2025-08-20 03:51:25.017 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 164.123ms
2025-08-20T03:51:28.0940630Z 2025-08-20 03:51:28.093 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:28.0980791Z 2025-08-20 03:51:28.097 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:28.1036101Z 2025-08-20 03:51:28.103 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:28.1056165Z 2025-08-20 03:51:28.105 +00:00 [INF] All configurations are valid
2025-08-20T03:51:28.1118505Z 2025-08-20 03:51:28.106 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2.1653ms with message 'Event Store connection failed'
2025-08-20T03:51:28.1118861Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:28.1126699Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:28.1126818Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:28.1127633Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:28.1127715Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:28.1128489Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:28.1128565Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:28.1129212Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:28.1129279Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:28.1129306Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:28.1129984Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:28.1130098Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:28.1130700Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:28.1132263Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:28.1132981Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:28.1217046Z 2025-08-20 03:51:28.121 +00:00 [ERR] Health check database with status Unhealthy completed after 9.2364ms with message 'Database connection failed'
2025-08-20T03:51:28.1282350Z 2025-08-20 03:51:28.123 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:28.1309051Z 2025-08-20 03:51:28.129 +00:00 [ERR] Connection id "0HNEVJILCHRLE", Request id "0HNEVJILCHRLE:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:51:28.1309194Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:28.1309229Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:28.1309256Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:28.1309284Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:28.1309319Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:28.1309403Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:28.1309435Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:28.1309484Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:28.1309514Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:28.1309541Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:28.1309569Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:51:28.1309596Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:28.1309623Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:28.1309650Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:28.1309679Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:28.1309708Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:28.1309757Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:28.1309783Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:28.1309810Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:28.1309837Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:28.1309862Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:28.1309892Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:28.1309920Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:28.1396853Z 2025-08-20 03:51:28.139 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 45.8228ms
2025-08-20T03:51:31.3129731Z 2025-08-20 03:51:31.312 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:51:31.3259114Z 2025-08-20 03:51:31.325 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 13.6559ms
2025-08-20T03:51:31.3328004Z 2025-08-20 03:51:31.332 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:51:33.1555929Z 2025-08-20 03:51:33.155 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:33.1634939Z 2025-08-20 03:51:33.158 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:33.1658832Z 2025-08-20 03:51:33.165 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:33.1738499Z 2025-08-20 03:51:33.173 +00:00 [INF] All configurations are valid
2025-08-20T03:51:33.1906312Z 2025-08-20 03:51:33.190 +00:00 [ERR] Health check database with status Unhealthy completed after 23.8494ms with message 'Database connection failed'
2025-08-20T03:51:33.1999489Z 2025-08-20 03:51:33.199 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9312ms with message 'Event Store connection failed'
2025-08-20T03:51:33.1999777Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:33.2001618Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:33.2001701Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:33.2001727Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:33.2001755Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:33.2001788Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:33.2001813Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:33.2001837Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:33.2001861Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:33.2001887Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:33.2002120Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:33.2002191Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:33.2002221Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:33.2002254Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:33.2002288Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:33.2168144Z 2025-08-20 03:51:33.216 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:33.2257769Z 2025-08-20 03:51:33.224 +00:00 [ERR] Connection id "0HNEVJILCHRLE", Request id "0HNEVJILCHRLE:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:51:33.2258072Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:33.2258191Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:33.2258220Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:33.2258246Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:33.2258283Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:33.2258311Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:33.2258339Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:33.2258368Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:33.2258397Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:33.2258424Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:33.2258477Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:51:33.2258505Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:33.2258535Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:33.2258562Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:33.2258591Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:33.2258620Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:33.2258648Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:33.2258675Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:33.2258725Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:33.2258750Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:33.2258777Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:33.2258808Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:33.2258836Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:33.2497826Z 2025-08-20 03:51:33.244 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 89.5135ms
2025-08-20T03:51:38.2883758Z 2025-08-20 03:51:38.287 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:38.3029380Z 2025-08-20 03:51:38.302 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:38.3465463Z 2025-08-20 03:51:38.338 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:39.3596916Z 2025-08-20 03:51:39.357 +00:00 [INF] All configurations are valid
2025-08-20T03:51:40.5542519Z 2025-08-20 03:51:40.540 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1758.1673ms with message 'Event Store connection failed'
2025-08-20T03:51:40.5542933Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:40.5542985Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:40.5543080Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:40.5543104Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:40.5543132Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:40.5543166Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:40.5543198Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:40.5543222Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:40.5543414Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:40.5543445Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:40.5543471Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:40.5543500Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:40.5543566Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:40.5543598Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:40.5543650Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:42.2650398Z 2025-08-20 03:51:42.264 +00:00 [ERR] Health check database with status Unhealthy completed after 3492.7607ms with message 'Database connection failed'
2025-08-20T03:51:42.2733773Z 2025-08-20 03:51:42.273 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:42.2963622Z 2025-08-20 03:51:42.284 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:51:42.2963947Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:42.2963984Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:42.2964012Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:42.2964039Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:42.2964081Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:42.2964191Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:51:42.2964225Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:42.2964252Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:42.2964281Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:42.2964308Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:42.2964361Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:51:42.2964391Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:51:42.2964441Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:51:42.2964469Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:42.2964497Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:42.2964524Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:42.2964553Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:42.2964581Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:42.2964609Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:42.2964635Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:42.2964662Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:42.2964712Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:42.2964738Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:42.2964769Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:42.2964797Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:42.3060187Z 2025-08-20 03:51:42.301 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4013.7209ms
2025-08-20T03:51:47.3343405Z 2025-08-20 03:51:47.329 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:47.3360117Z 2025-08-20 03:51:47.335 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:47.3477494Z 2025-08-20 03:51:47.342 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:47.3643660Z 2025-08-20 03:51:47.360 +00:00 [INF] All configurations are valid
2025-08-20T03:51:47.5537886Z 2025-08-20 03:51:47.545 +00:00 [ERR] Health check database with status Unhealthy completed after 201.055ms with message 'Database connection failed'
2025-08-20T03:51:47.5539851Z 2025-08-20 03:51:47.552 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 210.8602ms with message 'Event Store connection failed'
2025-08-20T03:51:47.5539910Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:47.5539947Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:47.5540144Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:47.5540171Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:47.5540201Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:47.5540231Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:47.5540256Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:47.5540281Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:47.5540306Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:47.5540332Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:47.5540357Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:47.5540422Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:47.5540453Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:47.5540484Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:47.5540518Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:47.5711053Z 2025-08-20 03:51:47.564 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:47.5802807Z 2025-08-20 03:51:47.573 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:51:47.5803147Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:47.5803185Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:47.5803392Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:47.5803420Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:47.5803455Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:47.5803483Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:47.5803512Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:47.5803539Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:47.5803567Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:47.5803595Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:47.5803648Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:51:47.5803679Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:51:47.5803705Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:51:47.5803732Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:47.5803762Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:47.5803789Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:47.5803818Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:47.5803847Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:47.5803876Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:47.5803926Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:47.5803954Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:47.5803979Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:47.5804005Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:47.5804036Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:47.5804064Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:47.5826406Z 2025-08-20 03:51:47.582 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 252.7426ms
2025-08-20T03:51:52.6117930Z 2025-08-20 03:51:52.603 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:52.6180927Z 2025-08-20 03:51:52.617 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:52.6459718Z 2025-08-20 03:51:52.626 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:52.6533093Z 2025-08-20 03:51:52.653 +00:00 [INF] All configurations are valid
2025-08-20T03:51:52.6741743Z 2025-08-20 03:51:52.672 +00:00 [ERR] Health check database with status Unhealthy completed after 31.2769ms with message 'Database connection failed'
2025-08-20T03:51:52.6742090Z 2025-08-20 03:51:52.673 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 17.7393ms with message 'Event Store connection failed'
2025-08-20T03:51:52.6742126Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:52.6742159Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:52.6742187Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:52.6742288Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:52.6742319Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:52.6742350Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:52.6742376Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:52.6742401Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:52.6742425Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:52.6742454Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:52.6742478Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:52.6742508Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:52.6742537Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:52.6742592Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:52.6742628Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:52.6871963Z 2025-08-20 03:51:52.683 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:52.6915858Z 2025-08-20 03:51:52.689 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:51:52.6916120Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:52.6916156Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:52.6916191Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:52.6916283Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:52.6916319Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:52.6916347Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:52.6916376Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:52.6916405Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:52.6916435Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:52.6969789Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:52.6969846Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:51:52.6969878Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:52.6969954Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:52.6969985Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:52.6970018Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:52.6970046Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:52.6970076Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:52.6970102Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:52.6970130Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:52.6970155Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:52.6970181Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:52.6970236Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:52.6970264Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:52.6993148Z 2025-08-20 03:51:52.698 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 95.7725ms
2025-08-20T03:51:57.7265383Z 2025-08-20 03:51:57.726 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:51:57.7415050Z 2025-08-20 03:51:57.741 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:51:57.7560903Z 2025-08-20 03:51:57.749 +00:00 [INF] Starting configuration status health check
2025-08-20T03:51:57.7581430Z 2025-08-20 03:51:57.757 +00:00 [INF] All configurations are valid
2025-08-20T03:51:57.7667891Z 2025-08-20 03:51:57.765 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1444ms with message 'Event Store connection failed'
2025-08-20T03:51:57.7668382Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:51:57.7742839Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:51:57.7743475Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:51:57.7743751Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:51:57.7743794Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:51:57.7743827Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:51:57.7744167Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:51:57.7744622Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:51:57.7744688Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:51:57.7744715Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:51:57.7744798Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:51:57.7744833Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:51:57.7745081Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:51:57.7745725Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:51:57.7750482Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:51:57.7751162Z 2025-08-20 03:51:57.773 +00:00 [ERR] Health check database with status Unhealthy completed after 23.701ms with message 'Database connection failed'
2025-08-20T03:51:57.7930746Z 2025-08-20 03:51:57.792 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:51:57.8020805Z 2025-08-20 03:51:57.800 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:51:57.8021482Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:51:57.8021524Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:51:57.8021559Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:57.8021588Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:51:57.8021709Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:51:57.8021738Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:57.8021768Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:51:57.8021796Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:51:57.8021824Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:51:57.8021851Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:51:57.8021878Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:51:57.8021906Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:51:57.8021959Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:51:57.8021986Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:51:57.8022016Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:57.8022046Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:51:57.8022074Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:51:57.8022101Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:51:57.8022128Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:51:57.8022154Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:57.8022179Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:51:57.8022230Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:51:57.8022258Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:51:57.8205937Z 2025-08-20 03:51:57.814 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 88.9462ms
2025-08-20T03:52:02.8647572Z 2025-08-20 03:52:02.862 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:02.8881227Z 2025-08-20 03:52:02.871 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:02.9069126Z 2025-08-20 03:52:02.892 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 9.5832ms with message 'Event Store connection failed'
2025-08-20T03:52:02.9069472Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:02.9069515Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:02.9069553Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:02.9069583Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:02.9069616Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:02.9069653Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:02.9069724Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:02.9069756Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:02.9069785Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:02.9069815Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:02.9069843Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:02.9069878Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:02.9069911Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:02.9069947Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:02.9070011Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:02.9070266Z 2025-08-20 03:52:02.906 +00:00 [ERR] Health check database with status Unhealthy completed after 4.7989ms with message 'Database connection failed'
2025-08-20T03:52:02.9250709Z 2025-08-20 03:52:02.915 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:02.9345245Z 2025-08-20 03:52:02.927 +00:00 [INF] All configurations are valid
2025-08-20T03:52:02.9393175Z 2025-08-20 03:52:02.935 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:02.9669874Z 2025-08-20 03:52:02.951 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:52:02.9670417Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:02.9670461Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:02.9670582Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:02.9670610Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:02.9670645Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:02.9670674Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:02.9670704Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:02.9670733Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:02.9670761Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:02.9670787Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:02.9670841Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:52:02.9671226Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:02.9671266Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:02.9671293Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:02.9671322Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:02.9671356Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:02.9671384Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:02.9671410Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:02.9671438Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:02.9671491Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:02.9671519Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:02.9671551Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:02.9671578Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:02.9841203Z 2025-08-20 03:52:02.976 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 114.7791ms
2025-08-20T03:52:08.0079390Z 2025-08-20 03:52:08.007 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:08.0152845Z 2025-08-20 03:52:08.014 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:08.0297493Z 2025-08-20 03:52:08.019 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:08.0298989Z 2025-08-20 03:52:08.026 +00:00 [INF] All configurations are valid
2025-08-20T03:52:08.0375451Z 2025-08-20 03:52:08.031 +00:00 [ERR] Health check database with status Unhealthy completed after 1.5051ms with message 'Database connection failed'
2025-08-20T03:52:08.0379387Z 2025-08-20 03:52:08.035 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7693ms with message 'Event Store connection failed'
2025-08-20T03:52:08.0379554Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:08.0379681Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:08.0379708Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:08.0379733Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:08.0379765Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:08.0379863Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:08.0379892Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:08.0379917Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:08.0379942Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:08.0379968Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:08.0379992Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:08.0380023Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:08.0380052Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:08.0380083Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:08.0380139Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:08.0464953Z 2025-08-20 03:52:08.046 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:08.0547769Z 2025-08-20 03:52:08.053 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:52:08.0548384Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:08.0548427Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:08.0548458Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:08.0548486Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:08.0548578Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:08.0548609Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:08.0548720Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:08.0548749Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:08.0548778Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:08.0548805Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:08.0548832Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:52:08.0548859Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:08.0548888Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:08.0548941Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:08.0548971Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:08.0549000Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:08.0549029Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:08.0549055Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:08.0549082Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:08.0549108Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:08.0549133Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:08.0549185Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:08.0549213Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:08.0631405Z 2025-08-20 03:52:08.062 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 55.4781ms
2025-08-20T03:52:13.0932394Z 2025-08-20 03:52:13.083 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:13.0932991Z 2025-08-20 03:52:13.085 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:13.1041104Z 2025-08-20 03:52:13.103 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1229ms with message 'Event Store connection failed'
2025-08-20T03:52:13.1041779Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:13.1041820Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:13.1041847Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:13.1042130Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:13.1042163Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:13.1042195Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:13.1042220Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:13.1042244Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:13.1042269Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:13.1042295Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:13.1042320Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:13.1042349Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:13.1042406Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:13.1042439Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:13.1042473Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:13.1049248Z 2025-08-20 03:52:13.104 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:13.1237555Z 2025-08-20 03:52:13.123 +00:00 [ERR] Health check database with status Unhealthy completed after 1.6563ms with message 'Database connection failed'
2025-08-20T03:52:13.1245928Z 2025-08-20 03:52:13.124 +00:00 [INF] All configurations are valid
2025-08-20T03:52:13.1410144Z 2025-08-20 03:52:13.140 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:13.1538381Z 2025-08-20 03:52:13.150 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:52:13.1539059Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:13.1539100Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:13.1539128Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:13.1539162Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:13.1539286Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:13.1539314Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:13.1539343Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:13.1539458Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:13.1539488Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:13.1539515Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:13.1539542Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:52:13.1539569Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:13.1539645Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:13.1539672Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:13.1539702Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:13.1539730Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:13.1539783Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:13.1539810Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:13.1539838Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:13.1539863Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:13.1539891Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:13.1539923Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:13.1539950Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:13.1724179Z 2025-08-20 03:52:13.171 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 88.3463ms
2025-08-20T03:52:17.7560106Z 2025-08-20 03:52:17.755 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:52:17.7621987Z 2025-08-20 03:52:17.761 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 1.4527ms
2025-08-20T03:52:17.7631613Z 2025-08-20 03:52:17.763 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:52:18.2128143Z 2025-08-20 03:52:18.207 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:18.2137875Z 2025-08-20 03:52:18.213 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:18.2223264Z 2025-08-20 03:52:18.221 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:18.2308710Z 2025-08-20 03:52:18.230 +00:00 [INF] All configurations are valid
2025-08-20T03:52:18.2467957Z 2025-08-20 03:52:18.237 +00:00 [ERR] Health check database with status Unhealthy completed after 9.6459ms with message 'Database connection failed'
2025-08-20T03:52:18.2494756Z 2025-08-20 03:52:18.248 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 24.335ms with message 'Event Store connection failed'
2025-08-20T03:52:18.2495150Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:18.2495189Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:18.2495221Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:18.2495248Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:18.2495275Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:18.2495307Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:18.2495401Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:18.2495427Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:18.2495453Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:18.2495478Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:18.2495503Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:18.2495534Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:18.2495564Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:18.2495596Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:18.2495648Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:18.2594001Z 2025-08-20 03:52:18.258 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:18.2839097Z 2025-08-20 03:52:18.259 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:0000000A": An unhandled exception was thrown by the application.
2025-08-20T03:52:18.2839442Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:18.2839480Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:18.2839513Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:18.2839539Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:18.2839575Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:18.2839629Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:18.2839659Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:18.2839687Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:18.2839715Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:18.2839742Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:18.2839770Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:52:18.2839797Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:18.2839827Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:18.2839853Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:18.2839911Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:18.2840009Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:18.2840038Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:18.2840064Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:18.2840092Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:18.2840118Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:18.2840144Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:18.2840175Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:18.2840202Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:18.2928809Z 2025-08-20 03:52:18.288 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 81.6199ms
2025-08-20T03:52:23.3544148Z 2025-08-20 03:52:23.354 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:24.2004546Z 2025-08-20 03:52:23.360 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:24.2004827Z 2025-08-20 03:52:23.368 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:24.2004864Z 2025-08-20 03:52:23.376 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.0769ms with message 'Event Store connection failed'
2025-08-20T03:52:24.2004890Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:24.2004919Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:24.2004945Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:24.2004969Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:24.2004995Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:24.2005058Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:24.2005084Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:24.2005108Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:24.2005133Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:24.2005159Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:24.2005183Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:24.2005214Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:24.2005242Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:24.2005273Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:24.2005335Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:24.2005363Z 2025-08-20 03:52:23.383 +00:00 [ERR] Health check database with status Unhealthy completed after 14.2112ms with message 'Database connection failed'
2025-08-20T03:52:24.2005388Z 2025-08-20 03:52:23.386 +00:00 [INF] All configurations are valid
2025-08-20T03:52:24.2005411Z 2025-08-20 03:52:23.400 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:24.2005441Z 2025-08-20 03:52:23.416 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:0000000B": An unhandled exception was thrown by the application.
2025-08-20T03:52:24.2005476Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:24.2005506Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:24.2005533Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:24.2005583Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:24.2005618Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:24.2005646Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:24.2005676Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:24.2005899Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:24.2005934Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:24.2005961Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:24.2005988Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:52:24.2006015Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:24.2006064Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:24.2006094Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:24.2006123Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:24.2006152Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:24.2006183Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:24.2006209Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:24.2006236Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:24.2006262Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:24.2006287Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:24.2006340Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:24.2006367Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:24.2006396Z 2025-08-20 03:52:23.425 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 71.4543ms
2025-08-20T03:52:27.3385104Z 2025-08-20 03:52:27.336 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:27.3525027Z 2025-08-20 03:52:27.351 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:27.3540076Z 2025-08-20 03:52:27.353 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:27.3628302Z 2025-08-20 03:52:27.362 +00:00 [INF] All configurations are valid
2025-08-20T03:52:27.3787739Z 2025-08-20 03:52:27.369 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14.4106ms with message 'Event Store connection failed'
2025-08-20T03:52:27.3788008Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:27.3788042Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:27.3788068Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:27.3788093Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:27.3788120Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:27.3788151Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:27.3788176Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:27.3788201Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:27.3788255Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:27.3788281Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:27.3788306Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:27.3788335Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:27.3788364Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:27.3788395Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:27.3788431Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:27.3788458Z 2025-08-20 03:52:27.373 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0082ms with message 'Database connection failed'
2025-08-20T03:52:27.3878456Z 2025-08-20 03:52:27.386 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:27.3924725Z 2025-08-20 03:52:27.387 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:0000000C": An unhandled exception was thrown by the application.
2025-08-20T03:52:27.3924921Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:27.3924965Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:27.3924996Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:27.3925027Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:27.3925067Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:27.3925104Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:27.3925185Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:27.3925219Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:27.3925253Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:27.3925285Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:27.3925318Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:52:27.3925350Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:27.3925387Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:27.3925418Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:27.3925453Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:27.3925510Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:27.3925543Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:27.3925575Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:27.3925607Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:27.3925637Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:27.3925668Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:27.3925704Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:27.3925736Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:27.4034724Z 2025-08-20 03:52:27.403 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 66.4868ms
2025-08-20T03:52:27.8143239Z 2025-08-20 03:52:27.800 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:52:27.8143620Z 2025-08-20 03:52:27.802 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 16.5129ms
2025-08-20T03:52:27.8248463Z 2025-08-20 03:52:27.824 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:52:28.4907937Z 2025-08-20 03:52:28.490 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:28.5364405Z 2025-08-20 03:52:28.506 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:28.5546394Z 2025-08-20 03:52:28.532 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:28.5546733Z 2025-08-20 03:52:28.534 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8188ms with message 'Event Store connection failed'
2025-08-20T03:52:28.5546860Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:28.5546893Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:28.5546920Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:28.5546945Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:28.5546972Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:28.5547004Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:28.5547029Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:28.5547055Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:28.5547193Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:28.5547246Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:28.5547273Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:28.5547304Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:28.5547333Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:28.5547363Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:28.5547397Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:28.5547421Z 2025-08-20 03:52:28.547 +00:00 [INF] All configurations are valid
2025-08-20T03:52:28.5992717Z 2025-08-20 03:52:28.599 +00:00 [ERR] Health check database with status Unhealthy completed after 28.3251ms with message 'Database connection failed'
2025-08-20T03:52:28.6157765Z 2025-08-20 03:52:28.615 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:28.6246166Z 2025-08-20 03:52:28.623 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:0000000E": An unhandled exception was thrown by the application.
2025-08-20T03:52:28.6246606Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:28.6246648Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:28.6246677Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:28.6246711Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:28.6246746Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:28.6246774Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:28.6246853Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:28.6246883Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:28.6246912Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:28.6246939Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:28.6246968Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:52:28.6246995Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:28.6247024Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:28.6247050Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:28.6247079Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:28.6247132Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:28.6247161Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:28.6247188Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:28.6247217Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:28.6247241Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:28.6247268Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:28.6247299Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:28.6247326Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:28.6336883Z 2025-08-20 03:52:28.633 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 142.6947ms
2025-08-20T03:52:33.6874781Z 2025-08-20 03:52:33.680 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:33.7145650Z 2025-08-20 03:52:33.712 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:33.7310844Z 2025-08-20 03:52:33.730 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:33.7532086Z 2025-08-20 03:52:33.747 +00:00 [INF] All configurations are valid
2025-08-20T03:52:33.7700206Z 2025-08-20 03:52:33.723 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0592ms with message 'Event Store connection failed'
2025-08-20T03:52:33.7701022Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:33.7701064Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:33.7701094Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:33.7701199Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:33.7701230Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:33.7701262Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:33.7701286Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:33.7701312Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:33.7701336Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:33.7701361Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:33.7701386Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:33.7701415Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:33.7701464Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:33.7701497Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:33.7701531Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:33.7909693Z 2025-08-20 03:52:33.790 +00:00 [ERR] Health check database with status Unhealthy completed after 59.2396ms with message 'Database connection failed'
2025-08-20T03:52:35.2805456Z 2025-08-20 03:52:33.801 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:35.2805738Z 2025-08-20 03:52:33.815 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:0000000F": An unhandled exception was thrown by the application.
2025-08-20T03:52:35.2805781Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:35.2805813Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:35.2805841Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:35.2805868Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:35.2805902Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:35.2805931Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:35.2805983Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:35.2806011Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:35.2806041Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:35.2806068Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:35.2806096Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:52:35.2806123Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:35.2806151Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:35.2806178Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:35.2806207Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:35.2806257Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:35.2806286Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:35.2806313Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:35.2806340Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:35.2806369Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:35.2806394Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:35.2806426Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:35.2806452Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:35.2806481Z 2025-08-20 03:52:33.830 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 150.6628ms
2025-08-20T03:52:37.7725612Z 2025-08-20 03:52:37.772 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:52:37.7865694Z 2025-08-20 03:52:37.784 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 12.2851ms
2025-08-20T03:52:37.8035862Z 2025-08-20 03:52:37.802 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:52:38.8811977Z 2025-08-20 03:52:38.876 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:38.8821946Z 2025-08-20 03:52:38.882 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:38.8876248Z 2025-08-20 03:52:38.884 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:38.8895414Z 2025-08-20 03:52:38.888 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0569ms with message 'Event Store connection failed'
2025-08-20T03:52:38.8895556Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:38.8898633Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:38.8898728Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:38.8899232Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:38.8899299Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:38.8899805Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:38.8899869Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:38.8900793Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:38.8900868Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:38.8900897Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:38.8901375Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:38.8901444Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:38.8901909Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:38.8903273Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:38.8956218Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:38.9016045Z 2025-08-20 03:52:38.901 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0062ms with message 'Database connection failed'
2025-08-20T03:52:38.9039083Z 2025-08-20 03:52:38.903 +00:00 [INF] All configurations are valid
2025-08-20T03:52:38.9049067Z 2025-08-20 03:52:38.904 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:38.9083052Z 2025-08-20 03:52:38.905 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000011": An unhandled exception was thrown by the application.
2025-08-20T03:52:38.9083188Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:38.9083226Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:38.9083442Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:38.9083476Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:38.9083510Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:38.9083537Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:38.9083567Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:38.9083594Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:38.9083622Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:38.9083650Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:38.9083678Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:52:38.9083809Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:38.9083839Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:38.9083866Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:38.9083896Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:38.9083924Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:38.9083952Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:38.9083979Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:38.9084006Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:38.9084032Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:38.9084122Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:38.9084156Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:38.9084185Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:38.9106496Z 2025-08-20 03:52:38.910 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 34.431ms
2025-08-20T03:52:43.0089175Z    _____                               
2025-08-20T03:52:43.0091133Z   /  _  \ __________ _________   ____  
2025-08-20T03:52:43.0091205Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:52:43.0091234Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:52:43.0091272Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:52:43.0091316Z         \/      \/                  \/ 
2025-08-20T03:52:43.0091402Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:52:43.0091430Z 
2025-08-20T03:52:43.0091467Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:52:43.0091500Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:52:43.0091528Z ASP .NETCore Version: 8.0.18
2025-08-20T03:52:43.0091558Z Note: Any data outside '/home' is not persisted
2025-08-20T03:52:43.9823782Z 2025-08-20 03:52:43.966 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:44.0703631Z 2025-08-20 03:52:44.023 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:44.0703959Z 2025-08-20 03:52:44.030 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:44.0703997Z 2025-08-20 03:52:44.057 +00:00 [INF] All configurations are valid
2025-08-20T03:52:44.1012047Z 2025-08-20 03:52:44.086 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8833ms with message 'Event Store connection failed'
2025-08-20T03:52:44.1012363Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:44.1012405Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:44.1012433Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:44.1012457Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:44.1012575Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:44.1012608Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:44.1012634Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:44.1012659Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:44.1012683Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:44.1012709Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:44.1012735Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:44.1012766Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:44.1012795Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:44.1012853Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:44.1012888Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:44.1093822Z 2025-08-20 03:52:44.109 +00:00 [ERR] Health check database with status Unhealthy completed after 51.2922ms with message 'Database connection failed'
2025-08-20T03:52:44.1262890Z 2025-08-20 03:52:44.120 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:44.1525954Z 2025-08-20 03:52:44.134 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000012": An unhandled exception was thrown by the application.
2025-08-20T03:52:44.1526383Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:44.1526425Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:44.1526545Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:44.1526573Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:44.1526609Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:44.1526637Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:44.1526666Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:44.1526696Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:44.1526724Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:44.1526753Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:44.1526781Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:44.1526840Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:44.1526868Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:44.1526898Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:44.1526928Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:44.1526957Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:44.1526983Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:44.1527011Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:44.1527038Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:44.1527063Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:44.1527117Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:44.1527146Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:44.1686730Z 2025-08-20 03:52:44.167 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 200.5973ms
2025-08-20T03:52:46.7408509Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:52:46.7501288Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:52:46.7975346Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:52:47.7723919Z 2025-08-20 03:52:47.771 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:52:47.7799444Z 2025-08-20 03:52:47.779 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 8.2824ms
2025-08-20T03:52:47.8049341Z 2025-08-20 03:52:47.798 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:52:49.1833009Z 2025-08-20 03:52:49.179 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:49.2141406Z 2025-08-20 03:52:49.207 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:49.2269505Z 2025-08-20 03:52:49.221 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1152ms with message 'Database connection failed'
2025-08-20T03:52:49.2403298Z 2025-08-20 03:52:49.239 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 16.9979ms with message 'Event Store connection failed'
2025-08-20T03:52:49.2403773Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:49.2403816Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:49.2403842Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:49.2403867Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:49.2403902Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:49.2404012Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:49.2404041Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:49.2404066Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:49.2404090Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:49.2404117Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:49.2404142Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:49.2404172Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:49.2404202Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:49.2404233Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:49.2404296Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:49.2494115Z 2025-08-20 03:52:49.249 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:49.2639416Z 2025-08-20 03:52:49.259 +00:00 [INF] All configurations are valid
2025-08-20T03:52:49.2721833Z 2025-08-20 03:52:49.271 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:49.2953660Z 2025-08-20 03:52:49.289 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000014": An unhandled exception was thrown by the application.
2025-08-20T03:52:49.2954242Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:49.2954289Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:49.2954396Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:49.2954425Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:49.2954460Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:49.2954493Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:49.2954625Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:49.2954654Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:49.2954683Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:49.2954710Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:49.2954740Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:49.2954856Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:49.2954886Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:49.2954915Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:49.2954945Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:49.2954973Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:49.2954999Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:49.2955027Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:49.2955053Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:49.2955079Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:49.2955133Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:49.2955161Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:49.3198768Z 2025-08-20 03:52:49.301 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 121.2893ms
2025-08-20T03:52:54.3848271Z 2025-08-20 03:52:54.365 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:54.3848898Z 2025-08-20 03:52:54.377 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:54.3972915Z 2025-08-20 03:52:54.385 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8158ms with message 'Event Store connection failed'
2025-08-20T03:52:54.3978897Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:54.3982064Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:54.3982114Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:54.3982145Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:54.3982174Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:54.3982206Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:54.3982302Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:54.3982330Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:54.3982354Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:54.3982380Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:54.3982405Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:54.3982434Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:54.3982463Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:54.3982493Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:54.3982527Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:54.3982575Z 2025-08-20 03:52:54.391 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:54.4295224Z 2025-08-20 03:52:54.406 +00:00 [ERR] Health check database with status Unhealthy completed after 10.6617ms with message 'Database connection failed'
2025-08-20T03:52:54.4295585Z 2025-08-20 03:52:54.424 +00:00 [INF] All configurations are valid
2025-08-20T03:52:54.4577639Z 2025-08-20 03:52:54.457 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:54.4768799Z 2025-08-20 03:52:54.475 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000015": An unhandled exception was thrown by the application.
2025-08-20T03:52:54.4934858Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:54.4935156Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:54.4935262Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:54.4935294Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:54.4935328Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:54.4935357Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:54.4935387Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:54.4935416Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:54.4935449Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:52:54.4935476Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:54.4935503Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:54.4935556Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:54.4935583Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:54.4935613Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:54.4935643Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:54.4935671Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:54.4935698Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:54.4935726Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:54.4935751Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:54.4935776Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:54.4935833Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:54.4935861Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:54.5016178Z 2025-08-20 03:52:54.501 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 136.4524ms
2025-08-20T03:52:55.8249099Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:52:55.8444547Z 4 added, 0 removed; done.
2025-08-20T03:52:55.8445421Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:52:55.8606896Z done.
2025-08-20T03:52:55.8679297Z CA certificates copied and updated successfully.
2025-08-20T03:52:56.0970227Z Starting periodic command scheduler: cron.
2025-08-20T03:52:56.0998593Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:52:56.1243671Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:52:56.1244309Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:52:56.1244358Z Build Operation ID: 6b4af406-71b6-446a-af40-438bbdd92792
2025-08-20T03:52:56.3695155Z 
2025-08-20T03:52:56.3697780Z Agent extension 
2025-08-20T03:52:56.3698725Z Before if loop >> DotNet Runtime 
2025-08-20T03:52:56.4432123Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:52:56.4672388Z Trying to find the startup DLL name...
2025-08-20T03:52:56.4678337Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:52:56.4724895Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:52:57.7889168Z 2025-08-20 03:52:57.788 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:52:57.8000148Z 2025-08-20 03:52:57.799 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 11.9386ms
2025-08-20T03:52:57.8060273Z 2025-08-20 03:52:57.805 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:52:59.0395069Z 2025-08-20 03:52:58.897 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:52:59.4414055Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:52:59.5343803Z 2025-08-20 03:52:59.534 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:52:59.5406501Z 2025-08-20 03:52:59.540 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:52:59.5419310Z 2025-08-20 03:52:59.541 +00:00 [INF] Starting configuration status health check
2025-08-20T03:52:59.5633322Z 2025-08-20 03:52:59.563 +00:00 [INF] All configurations are valid
2025-08-20T03:52:59.5731457Z 2025-08-20 03:52:59.572 +00:00 [ERR] Health check database with status Unhealthy completed after 8.8459ms with message 'Database connection failed'
2025-08-20T03:52:59.5794886Z 2025-08-20 03:52:59.578 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 13.5238ms with message 'Event Store connection failed'
2025-08-20T03:52:59.5795311Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:52:59.5796273Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:52:59.5796444Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:52:59.5797197Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:52:59.5797277Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:52:59.5797780Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:52:59.5797846Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:52:59.5798464Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:52:59.5798534Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:52:59.5798563Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:52:59.5799318Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:52:59.5799395Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:52:59.5799995Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:52:59.5800764Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:52:59.5801424Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:52:59.6017629Z 2025-08-20 03:52:59.588 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:52:59.6210862Z 2025-08-20 03:52:59.617 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000017": An unhandled exception was thrown by the application.
2025-08-20T03:52:59.6211372Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:52:59.6211412Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:52:59.6211440Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:59.6211468Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:52:59.6211503Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:52:59.6211531Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:59.6211560Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:52:59.6211589Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:52:59.6211639Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:52:59.6211666Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:52:59.6211694Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:52:59.6211721Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:52:59.6211751Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:59.6211779Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:52:59.6211807Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:52:59.6211833Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:52:59.6211862Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:52:59.6211905Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:59.6211930Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:52:59.6211961Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:52:59.6211988Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:52:59.6617072Z 2025-08-20 03:52:59.658 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 125.0363ms
2025-08-20T03:53:00.4994437Z 2025-08-20 03:53:00.441 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:53:00.4995074Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:53:00.4995141Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:53:00.4995183Z    at System.Uri..ctor(String uriString)
2025-08-20T03:53:00.4995337Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:53:00.4995413Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:53:00.4995467Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:53:00.5555375Z 2025-08-20 03:53:00.555 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:53:00.7650170Z 2025-08-20 03:53:00.764 +00:00 [INF] Starting configuration validation...
2025-08-20T03:53:00.7973793Z 2025-08-20 03:53:00.791 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:53:00.7974396Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:53:00.7975617Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:53:00.7975736Z    at System.Uri..ctor(String uriString)
2025-08-20T03:53:00.7976591Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:53:00.7976792Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:53:00.7977398Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:53:00.8160150Z 2025-08-20 03:53:00.810 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:53:00.8161076Z 2025-08-20 03:53:00.811 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:53:00.9210642Z 2025-08-20 03:53:00.920 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:53:01.3439801Z 2025-08-20 03:53:01.343 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:53:01.3826562Z 2025-08-20 03:53:01.382 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:53:01.7244136Z 2025-08-20 03:53:01.724 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:53:01.7268421Z 2025-08-20 03:53:01.726 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:53:01.7335525Z 2025-08-20 03:53:01.733 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:53:01.7346165Z 2025-08-20 03:53:01.734 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:53:03.7034500Z 2025-08-20 03:53:03.694 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.5:8080/robots933456.txt - null null
2025-08-20T03:53:03.8350220Z 2025-08-20 03:53:03.829 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:53:04.1785475Z 2025-08-20 03:53:03.994 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.5:8080/robots933456.txt - 404 0 null 331.6985ms
2025-08-20T03:53:04.1786092Z 2025-08-20 03:53:04.118 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.5:8080/robots933456.txt, Response status code: 404
2025-08-20T03:53:04.1788852Z 2025-08-20 03:53:04.142 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:04.1789166Z 2025-08-20 03:53:04.145 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:04.1789203Z 2025-08-20 03:53:04.157 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8861ms with message 'Event Store connection failed'
2025-08-20T03:53:04.1789230Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:04.1789261Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:04.1789287Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:04.1789312Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:04.1789339Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:04.1789370Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:04.1789427Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:04.1789453Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:04.1789477Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:04.1789504Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:04.1789529Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:04.1789560Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:04.1789589Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:04.1789620Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:04.1789655Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:04.1789707Z 2025-08-20 03:53:04.166 +00:00 [ERR] Health check database with status Unhealthy completed after 13.8048ms with message 'Database connection failed'
2025-08-20T03:53:04.1793533Z 2025-08-20 03:53:04.179 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:04.1923380Z 2025-08-20 03:53:04.186 +00:00 [INF] All configurations are valid
2025-08-20T03:53:04.1940667Z 2025-08-20 03:53:04.193 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:04.2058949Z 2025-08-20 03:53:04.205 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000018": An unhandled exception was thrown by the application.
2025-08-20T03:53:04.2060139Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:04.2060739Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:04.2060880Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:04.2061427Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:04.2061984Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:04.2062050Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:04.2062525Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:04.2062590Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:04.2063056Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:04.2063150Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:04.2063625Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:04.2064214Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:04.2064285Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:04.2064787Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:04.2064852Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:04.2065325Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:04.2065423Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:04.2066063Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:04.2066133Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:04.2072584Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:04.2072705Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:04.2252174Z 2025-08-20 03:53:04.223 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 80.8596ms
2025-08-20T03:53:04.7059595Z 2025-08-20 03:53:04.705 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:04.7288195Z 2025-08-20 03:53:04.728 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:04.7631443Z 2025-08-20 03:53:04.758 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:04.7728190Z 2025-08-20 03:53:04.772 +00:00 [ERR] Health check database with status Unhealthy completed after 8.3535ms with message 'Database connection failed'
2025-08-20T03:53:04.7875086Z 2025-08-20 03:53:04.759 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8007ms with message 'Event Store connection failed'
2025-08-20T03:53:04.7875429Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:04.7875468Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:04.7875498Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:04.7875528Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:04.7875618Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:04.7875651Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:04.7875677Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:04.7875702Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:04.7875726Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:04.7875752Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:04.7875777Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:04.7875807Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:04.7875837Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:04.7875887Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:04.7875922Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:04.7875947Z 2025-08-20 03:53:04.775 +00:00 [INF] All configurations are valid
2025-08-20T03:53:04.8144623Z 2025-08-20 03:53:04.813 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:04.8326770Z 2025-08-20 03:53:04.828 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:00000019": An unhandled exception was thrown by the application.
2025-08-20T03:53:04.8327119Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:04.8327155Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:04.8327187Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:04.8327290Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:04.8327326Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:04.8327356Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:04.8327386Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:04.8327413Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:04.8327441Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:04.8327467Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:04.8327496Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:04.8327523Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:04.8327578Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:04.8327607Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:04.8327635Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:04.8327662Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:04.8327690Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:04.8327715Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:04.8327740Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:04.8327771Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:04.8327799Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:04.8507945Z 2025-08-20 03:53:04.844 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 137.7534ms
2025-08-20T03:53:07.8029457Z 2025-08-20 03:53:07.797 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:53:07.8220523Z 2025-08-20 03:53:07.821 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 23.9668ms
2025-08-20T03:53:07.8414795Z 2025-08-20 03:53:07.841 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:53:09.9076507Z 2025-08-20 03:53:09.903 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:09.9156192Z 2025-08-20 03:53:09.915 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:09.9175900Z 2025-08-20 03:53:09.917 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:09.9256604Z 2025-08-20 03:53:09.925 +00:00 [INF] All configurations are valid
2025-08-20T03:53:09.9355485Z 2025-08-20 03:53:09.935 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3589ms with message 'Database connection failed'
2025-08-20T03:53:09.9506797Z 2025-08-20 03:53:09.943 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.876ms with message 'Event Store connection failed'
2025-08-20T03:53:09.9507271Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:09.9603198Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:09.9603474Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:09.9604289Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:09.9604373Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:09.9604888Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:09.9604958Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:09.9605439Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:09.9605507Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:09.9605569Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:09.9606102Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:09.9606176Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:09.9606649Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:09.9609511Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:09.9610204Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:09.9797790Z 2025-08-20 03:53:09.979 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:09.9882862Z 2025-08-20 03:53:09.987 +00:00 [ERR] Connection id "0HNEVJJALN51A", Request id "0HNEVJJALN51A:0000001B": An unhandled exception was thrown by the application.
2025-08-20T03:53:09.9883204Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:09.9883240Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:09.9883268Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:09.9883294Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:09.9883333Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:09.9883362Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:09.9883390Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:09.9883472Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:09.9883502Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:09.9883529Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:09.9883560Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:09.9883587Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:09.9883616Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:09.9883645Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:09.9883673Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:09.9883698Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:09.9883752Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:09.9883779Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:09.9883808Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:09.9883840Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:09.9884616Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:10.0052377Z 2025-08-20 03:53:10.004 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 101.9051ms
2025-08-20T03:53:10.7800525Z 2025-08-20 03:53:10.779 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:53:10.7949672Z 2025-08-20 03:53:10.793 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 22.8656ms
2025-08-20T03:53:10.7951175Z 2025-08-20 03:53:10.794 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:53:15.0463879Z 2025-08-20 03:53:15.042 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:15.0593903Z 2025-08-20 03:53:15.059 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:15.0993527Z 2025-08-20 03:53:15.093 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:16.1299396Z 2025-08-20 03:53:16.129 +00:00 [INF] All configurations are valid
2025-08-20T03:53:19.0563906Z 2025-08-20 03:53:19.055 +00:00 [ERR] Health check database with status Unhealthy completed after 3581.6005ms with message 'Database connection failed'
2025-08-20T03:53:19.0771317Z 2025-08-20 03:53:19.055 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 3577.3048ms with message 'Event Store connection failed'
2025-08-20T03:53:19.0771676Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:19.0771718Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:19.0771750Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:19.0771779Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:19.0771815Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:19.0771854Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:19.0771884Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:19.0772016Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:19.0772046Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:19.0772076Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:19.0772105Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:19.0772138Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:19.0772173Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:19.0772207Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:19.0772275Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:19.0837449Z 2025-08-20 03:53:19.083 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:19.1060933Z 2025-08-20 03:53:19.097 +00:00 [ERR] Connection id "0HNEVJK878UJ4", Request id "0HNEVJK878UJ4:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:53:19.1061361Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:19.1061509Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:19.1061543Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:19.1061573Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:19.1061607Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:19.1061636Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:53:19.1061754Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:19.1061782Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:19.1061811Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:53:19.1061840Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:19.1061866Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:53:19.1061897Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:53:19.1061923Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:53:19.1061951Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:19.1062039Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:19.1062067Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:19.1062097Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:19.1062126Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:19.1062155Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:19.1062180Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:19.1062208Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:19.1062233Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:19.1062278Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:19.1062310Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:19.1062338Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:19.1088134Z 2025-08-20 03:53:19.108 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4066.0988ms
2025-08-20T03:53:24.7839436Z 2025-08-20 03:53:24.780 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:24.7938890Z 2025-08-20 03:53:24.788 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:24.7940478Z 2025-08-20 03:53:24.793 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:24.8132009Z 2025-08-20 03:53:24.804 +00:00 [INF] All configurations are valid
2025-08-20T03:53:25.0006234Z 2025-08-20 03:53:24.992 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 178.9991ms with message 'Event Store connection failed'
2025-08-20T03:53:25.0006809Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:25.0006857Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:25.0006888Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:25.0006914Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:25.0006951Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:25.0006986Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:25.0007018Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:25.0007132Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:25.0007158Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:25.0007185Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:25.0007210Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:25.0007241Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:25.0007270Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:25.0007303Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:25.0007337Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:25.0007780Z 2025-08-20 03:53:24.997 +00:00 [ERR] Health check database with status Unhealthy completed after 189.0164ms with message 'Database connection failed'
2025-08-20T03:53:25.0050375Z 2025-08-20 03:53:25.004 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:25.0111549Z 2025-08-20 03:53:25.006 +00:00 [ERR] Connection id "0HNEVJK878UJ4", Request id "0HNEVJK878UJ4:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:53:25.0111802Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:25.0111843Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:25.0111872Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:25.0111900Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:25.0111936Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:25.0112041Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:25.0112072Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:25.0112099Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:25.0112128Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:53:25.0112154Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:25.0112179Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:53:25.0112210Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:53:25.0112236Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:53:25.0112263Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:25.0112319Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:25.0112347Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:25.0112376Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:25.0112405Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:25.0112433Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:25.0112461Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:25.0112488Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:25.0112513Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:25.0112540Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:25.0112593Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:25.0112620Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:25.0145533Z 2025-08-20 03:53:25.014 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 234.2177ms
2025-08-20T03:53:27.8026672Z 2025-08-20 03:53:27.801 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:53:29.4672776Z 2025-08-20 03:53:27.815 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 13.6974ms
2025-08-20T03:53:29.4673059Z 2025-08-20 03:53:27.826 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:53:29.4673095Z 2025-08-20 03:53:27.833 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:29.4673121Z 2025-08-20 03:53:27.835 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:29.4673146Z 2025-08-20 03:53:27.844 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:29.4673171Z 2025-08-20 03:53:27.850 +00:00 [INF] All configurations are valid
2025-08-20T03:53:29.4673199Z 2025-08-20 03:53:27.853 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:53:29.4673228Z 2025-08-20 03:53:27.857 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.4266ms with message 'Event Store connection failed'
2025-08-20T03:53:29.4673281Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:29.4673312Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:29.4673338Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:29.4673363Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:29.4673391Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:29.4673422Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:29.4673447Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:29.4673472Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:29.4673497Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:29.4673546Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:29.4673572Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:29.4673603Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:29.4673632Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:29.4673664Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:29.4673698Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:29.4673727Z 2025-08-20 03:53:27.860 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 6.7988ms
2025-08-20T03:53:29.4673756Z 2025-08-20 03:53:27.867 +00:00 [ERR] Health check database with status Unhealthy completed after 2.4987ms with message 'Database connection failed'
2025-08-20T03:53:29.4673789Z 2025-08-20 03:53:27.883 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:53:29.4673833Z 2025-08-20 03:53:27.884 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:29.4673864Z 2025-08-20 03:53:27.885 +00:00 [ERR] Connection id "0HNEVJK878UJ4", Request id "0HNEVJK878UJ4:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:53:29.4673898Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:29.4674115Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:29.4674150Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:29.4674176Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:29.4674210Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:29.4674238Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:29.4674292Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:29.4674321Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:29.4674349Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:53:29.4674377Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:29.4674404Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:53:29.4674430Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:29.4674459Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:29.4674486Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:29.4674516Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:29.4674568Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:29.4674598Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:29.4674625Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:29.4674653Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:29.4674678Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:29.4674702Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:29.4674734Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:29.4674761Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:29.4674808Z 2025-08-20 03:53:27.891 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:53:29.4674838Z 2025-08-20 03:53:27.892 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 59.2566ms
2025-08-20T03:53:29.4674867Z 2025-08-20 03:53:27.898 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 7.585ms
2025-08-20T03:53:29.4674899Z 2025-08-20 03:53:27.901 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:53:32.9145127Z 2025-08-20 03:53:32.907 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:32.9153698Z 2025-08-20 03:53:32.915 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:32.9245555Z 2025-08-20 03:53:32.924 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:32.9315303Z 2025-08-20 03:53:32.926 +00:00 [INF] All configurations are valid
2025-08-20T03:53:32.9411890Z 2025-08-20 03:53:32.934 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1215ms with message 'Database connection failed'
2025-08-20T03:53:32.9590387Z 2025-08-20 03:53:32.934 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9876ms with message 'Event Store connection failed'
2025-08-20T03:53:32.9590744Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:32.9590787Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:32.9590816Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:32.9590843Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:32.9590870Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:32.9590900Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:32.9590932Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:32.9591019Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:32.9591086Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:32.9591112Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:32.9591137Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:32.9591167Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:32.9591197Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:32.9591228Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:32.9591263Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:32.9637911Z 2025-08-20 03:53:32.963 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:32.9856390Z 2025-08-20 03:53:32.964 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:53:32.9856747Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:32.9856785Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:32.9856813Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:32.9856846Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:32.9856884Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:32.9856913Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:32.9856941Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:32.9857047Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:32.9857077Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:53:32.9857104Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:32.9857131Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:53:32.9857158Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:32.9857186Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:32.9857214Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:32.9857243Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:32.9857273Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:32.9857328Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:32.9857355Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:32.9857382Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:32.9857408Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:32.9857433Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:32.9857466Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:32.9857493Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:32.9943743Z 2025-08-20 03:53:32.992 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 85.0214ms
2025-08-20T03:53:37.8798230Z 2025-08-20 03:53:37.879 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:53:37.8891188Z 2025-08-20 03:53:37.888 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 35.0276ms
2025-08-20T03:53:37.9078737Z 2025-08-20 03:53:37.905 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:53:38.1579501Z 2025-08-20 03:53:38.042 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:38.1580359Z 2025-08-20 03:53:38.067 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:38.1580403Z 2025-08-20 03:53:38.068 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:38.1580438Z 2025-08-20 03:53:38.079 +00:00 [ERR] Health check database with status Unhealthy completed after 9.6505ms with message 'Database connection failed'
2025-08-20T03:53:38.1580463Z 2025-08-20 03:53:38.092 +00:00 [INF] All configurations are valid
2025-08-20T03:53:38.1580567Z 2025-08-20 03:53:38.096 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 16.6057ms with message 'Event Store connection failed'
2025-08-20T03:53:38.1580593Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:38.1580624Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:38.1580650Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:38.1580674Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:38.1580702Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:38.1580733Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:38.1580759Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:38.1580783Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:38.1580832Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:38.1580861Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:38.1580886Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:38.1580916Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:38.1580946Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:38.1580977Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:38.1581013Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:38.1581037Z 2025-08-20 03:53:38.113 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:38.1581066Z 2025-08-20 03:53:38.121 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:53:38.1581123Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:38.1581153Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:38.1581180Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:38.1581206Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:38.1581241Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:38.1581269Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:38.1581298Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:38.1581400Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:38.1581454Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:53:38.1581482Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:38.1581509Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:53:38.1581536Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:38.1581564Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:38.1581590Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:38.1581620Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:38.1581648Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:38.1581677Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:38.1581725Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:38.1581752Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:38.1581779Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:38.1581804Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:38.1581938Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:38.1581965Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:38.1581994Z 2025-08-20 03:53:38.132 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 90.4303ms
2025-08-20T03:53:43.2007188Z 2025-08-20 03:53:43.192 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:43.2007790Z 2025-08-20 03:53:43.199 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:43.2193860Z 2025-08-20 03:53:43.208 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:43.2194206Z 2025-08-20 03:53:43.210 +00:00 [ERR] Health check database with status Unhealthy completed after 1.089ms with message 'Database connection failed'
2025-08-20T03:53:43.2350817Z 2025-08-20 03:53:43.225 +00:00 [INF] All configurations are valid
2025-08-20T03:53:43.2604653Z 2025-08-20 03:53:43.254 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 42.9414ms with message 'Event Store connection failed'
2025-08-20T03:53:43.2605015Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:43.2693083Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:43.2693444Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:43.2693481Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:43.2693510Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:43.2693546Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:43.2693571Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:43.2693596Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:43.2693620Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:43.2693647Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:43.2693672Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:43.2693724Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:43.2693755Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:43.2693787Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:43.2693821Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:43.3074397Z 2025-08-20 03:53:43.295 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:43.3074778Z 2025-08-20 03:53:43.304 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:53:43.3074820Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:43.3074852Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:43.3074960Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:43.3074989Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:43.3075023Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:43.3075051Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:43.3075081Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:43.3075109Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:43.3075137Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:53:43.3075165Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:43.3075192Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:53:43.3075249Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:43.3075278Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:43.3075304Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:43.3075334Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:43.3075364Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:43.3075393Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:43.3075420Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:43.3075447Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:43.3075472Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:43.3075520Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:43.3075552Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:43.3075580Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:43.3509530Z 2025-08-20 03:53:43.340 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 148.0251ms
2025-08-20T03:53:47.8501606Z 2025-08-20 03:53:47.849 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:53:47.8696380Z 2025-08-20 03:53:47.869 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 19.6812ms
2025-08-20T03:53:47.8814254Z 2025-08-20 03:53:47.881 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:53:48.3797979Z 2025-08-20 03:53:48.375 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:48.3853239Z 2025-08-20 03:53:48.383 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:48.4006561Z 2025-08-20 03:53:48.400 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:48.4066496Z 2025-08-20 03:53:48.406 +00:00 [INF] All configurations are valid
2025-08-20T03:53:48.4212079Z 2025-08-20 03:53:48.417 +00:00 [ERR] Health check database with status Unhealthy completed after 16.0854ms with message 'Database connection failed'
2025-08-20T03:53:48.4318755Z 2025-08-20 03:53:48.422 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 26.1657ms with message 'Event Store connection failed'
2025-08-20T03:53:48.4319437Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:48.4332260Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:48.4332518Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:48.4442949Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:48.4443817Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:48.4444473Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:48.4444517Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:48.4444544Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:48.4444570Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:48.4444596Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:48.4444621Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:48.4444652Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:48.4444681Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:48.4444713Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:48.4444773Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:48.4458264Z 2025-08-20 03:53:48.445 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:48.4542210Z 2025-08-20 03:53:48.453 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:53:48.4599667Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:48.4600910Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:48.4602278Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:48.4605592Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:48.4606458Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:48.4606538Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:48.4606570Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:48.4606598Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:48.4606627Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:53:48.4606654Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:48.4606684Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:53:48.4616104Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:48.4616259Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:48.4616291Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:48.4616473Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:48.4616511Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:48.4616540Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:48.4616565Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:48.4616594Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:48.4616620Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:48.4616645Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:48.4616700Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:48.4616728Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:48.4671795Z 2025-08-20 03:53:48.463 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 88.077ms
2025-08-20T03:53:53.6237155Z 2025-08-20 03:53:53.547 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:53.6237441Z 2025-08-20 03:53:53.596 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:53.6655067Z 2025-08-20 03:53:53.662 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:53.6909416Z 2025-08-20 03:53:53.682 +00:00 [INF] All configurations are valid
2025-08-20T03:53:53.6912896Z 2025-08-20 03:53:53.690 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0186ms with message 'Event Store connection failed'
2025-08-20T03:53:53.6913003Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:53.6913036Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:53.6913064Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:53.6913089Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:53.6913117Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:53.6913148Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:53.6913173Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:53.6913199Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:53.6913248Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:53.6913275Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:53.6913722Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:53.6913758Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:53.6913787Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:53.6913819Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:53.6913853Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:53.7948278Z 2025-08-20 03:53:53.794 +00:00 [ERR] Health check database with status Unhealthy completed after 109.8384ms with message 'Database connection failed'
2025-08-20T03:53:53.8046940Z 2025-08-20 03:53:53.804 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:53.8223217Z 2025-08-20 03:53:53.821 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:00000009": An unhandled exception was thrown by the application.
2025-08-20T03:53:53.8469467Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:53.8469798Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:53.8469841Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:53.8469870Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:53.8469905Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:53.8469933Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:53.8470030Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:53.8470060Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:53.8470090Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:53:53.8470118Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:53.8470144Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:53:53.8470172Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:53.8470201Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:53.8470228Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:53.8470258Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:53.8470311Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:53.8470340Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:53.8470367Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:53.8470395Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:53.8470421Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:53.8470446Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:53.8470478Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:53.8470506Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:53.8668818Z 2025-08-20 03:53:53.864 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 316.8234ms
2025-08-20T03:53:57.2145042Z    _____                               
2025-08-20T03:53:57.2146874Z   /  _  \ __________ _________   ____  
2025-08-20T03:53:57.2146950Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:53:57.2146982Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:53:57.2147017Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:53:57.2147118Z         \/      \/                  \/ 
2025-08-20T03:53:57.2147149Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:53:57.2147175Z 
2025-08-20T03:53:57.2147212Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:53:57.2147245Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:53:57.2147274Z ASP .NETCore Version: 8.0.18
2025-08-20T03:53:57.2147328Z Note: Any data outside '/home' is not persisted
2025-08-20T03:53:57.8538778Z 2025-08-20 03:53:57.847 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:53:57.9078344Z 2025-08-20 03:53:57.857 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 9.6824ms
2025-08-20T03:53:57.9090230Z 2025-08-20 03:53:57.908 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:53:58.8971271Z 2025-08-20 03:53:58.896 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:53:58.9121712Z 2025-08-20 03:53:58.911 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:53:58.9139748Z 2025-08-20 03:53:58.913 +00:00 [INF] Starting configuration status health check
2025-08-20T03:53:58.9286839Z 2025-08-20 03:53:58.928 +00:00 [INF] All configurations are valid
2025-08-20T03:53:58.9489286Z 2025-08-20 03:53:58.948 +00:00 [ERR] Health check database with status Unhealthy completed after 34.1551ms with message 'Database connection failed'
2025-08-20T03:53:58.9669076Z 2025-08-20 03:53:58.966 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 36.6478ms with message 'Event Store connection failed'
2025-08-20T03:53:58.9669402Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:53:58.9796213Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:53:58.9797703Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:53:58.9797744Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:53:58.9797774Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:53:58.9797809Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:53:58.9797918Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:53:58.9798038Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:53:58.9798063Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:53:58.9798088Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:53:58.9798113Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:53:58.9798144Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:53:58.9798173Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:53:58.9798203Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:53:58.9798238Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:53:58.9948624Z 2025-08-20 03:53:58.994 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:53:59.0137055Z 2025-08-20 03:53:59.011 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:0000000B": An unhandled exception was thrown by the application.
2025-08-20T03:53:59.0277966Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:53:59.0278297Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:53:59.0278330Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:59.0278357Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:53:59.0278392Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:53:59.0278509Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:59.0278540Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:53:59.0278569Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:53:59.0278598Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:53:59.0278625Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:53:59.0278652Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:53:59.0278679Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:53:59.0278707Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:53:59.0278735Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:53:59.0278788Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:59.0278819Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:53:59.0278848Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:53:59.0278874Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:53:59.0278902Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:53:59.0278928Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:59.0278953Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:53:59.0278986Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:53:59.0279014Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:53:59.0471096Z 2025-08-20 03:53:59.046 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 150.8096ms
2025-08-20T03:54:00.2605814Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:54:00.2794420Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:54:00.3162935Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:54:04.1173874Z 2025-08-20 03:54:04.103 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:04.1174261Z 2025-08-20 03:54:04.111 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:04.1353250Z 2025-08-20 03:54:04.128 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:04.1353570Z 2025-08-20 03:54:04.128 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1118ms with message 'Event Store connection failed'
2025-08-20T03:54:04.1353603Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:04.1353634Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:04.1353667Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:04.1353692Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:04.1353724Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:04.1353844Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:04.1353871Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:04.1353895Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:04.1353919Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:04.1353945Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:04.1354265Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:04.1354302Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:04.1354332Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:04.1354363Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:04.1354427Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:04.1360000Z 2025-08-20 03:54:04.135 +00:00 [INF] All configurations are valid
2025-08-20T03:54:04.1434497Z 2025-08-20 03:54:04.142 +00:00 [ERR] Health check database with status Unhealthy completed after 22.2625ms with message 'Database connection failed'
2025-08-20T03:54:04.1948298Z 2025-08-20 03:54:04.148 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:04.1949761Z 2025-08-20 03:54:04.151 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:0000000C": An unhandled exception was thrown by the application.
2025-08-20T03:54:04.1949852Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:04.1949892Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:04.1950426Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:04.1950512Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:04.1950548Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:04.1950575Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:04.1950604Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:04.1950632Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:04.1950662Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:04.1950688Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:04.1950716Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:54:04.1950774Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:04.1950802Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:04.1950829Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:04.1950859Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:04.1950888Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:04.1950916Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:04.1950942Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:04.1950969Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:04.1951014Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:04.1951040Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:04.1951072Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:04.1951099Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:04.1975134Z 2025-08-20 03:54:04.197 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 94.0573ms
2025-08-20T03:54:04.2389301Z 2025-08-20 03:54:04.234 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:04.2389620Z 2025-08-20 03:54:04.235 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:04.2424668Z 2025-08-20 03:54:04.242 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:04.2664601Z 2025-08-20 03:54:04.265 +00:00 [INF] All configurations are valid
2025-08-20T03:54:04.2667894Z 2025-08-20 03:54:04.249 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.981ms with message 'Event Store connection failed'
2025-08-20T03:54:04.2668055Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:04.2747886Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:04.2748225Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:04.2748260Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:04.2748287Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:04.2748317Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:04.2748343Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:04.2748447Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:04.2748473Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:04.2748499Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:04.2748524Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:04.2748554Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:04.2748584Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:04.2748666Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:04.2748703Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:04.2795025Z 2025-08-20 03:54:04.276 +00:00 [ERR] Health check database with status Unhealthy completed after 2.6735ms with message 'Database connection failed'
2025-08-20T03:54:04.3025384Z 2025-08-20 03:54:04.300 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:04.3113189Z 2025-08-20 03:54:04.303 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:0000000D": An unhandled exception was thrown by the application.
2025-08-20T03:54:04.3113490Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:04.3113529Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:04.3113556Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:04.3113666Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:04.3113702Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:04.3113729Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:04.3113758Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:04.3113786Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:04.3113814Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:04.3113841Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:04.3113868Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:54:04.3113917Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:04.3113946Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:04.3113972Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:04.3114001Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:04.3114031Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:04.3114059Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:04.3114107Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:04.3114134Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:04.3114186Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:04.3114212Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:04.3114243Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:04.3114270Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:04.3376335Z 2025-08-20 03:54:04.326 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 92.4893ms
2025-08-20T03:54:09.2792520Z 2025-08-20 03:54:09.279 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:09.2914724Z 2025-08-20 03:54:09.291 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:09.3389255Z 2025-08-20 03:54:09.337 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:09.3389985Z 2025-08-20 03:54:09.314 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9116ms with message 'Event Store connection failed'
2025-08-20T03:54:09.3390021Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:09.3390052Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:09.3390077Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:09.3390102Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:09.3390130Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:09.3390161Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:09.3390188Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:09.3390212Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:09.3390257Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:09.3390283Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:09.3390308Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:09.3390339Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:09.3390369Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:09.3390399Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:09.3390433Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:09.3443335Z 2025-08-20 03:54:09.344 +00:00 [INF] All configurations are valid
2025-08-20T03:54:09.3515316Z 2025-08-20 03:54:09.345 +00:00 [ERR] Health check database with status Unhealthy completed after 8.6467ms with message 'Database connection failed'
2025-08-20T03:54:09.3910370Z 2025-08-20 03:54:09.390 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:09.4078614Z 2025-08-20 03:54:09.397 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:0000000E": An unhandled exception was thrown by the application.
2025-08-20T03:54:09.4079138Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:09.4079182Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:09.4079210Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:09.4079236Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:09.4079270Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:09.4079381Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:09.4079412Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:09.4079440Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:09.4079468Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:09.4079496Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:09.4079524Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:54:09.4079552Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:09.4079580Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:09.4079608Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:09.4079660Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:09.4079688Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:09.4079718Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:09.4079745Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:09.4079772Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:09.4079798Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:09.4079822Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:09.4079854Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:09.4079908Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:09.4169510Z 2025-08-20 03:54:09.416 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 137.4871ms
2025-08-20T03:54:09.9787524Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:54:09.9997604Z 4 added, 0 removed; done.
2025-08-20T03:54:09.9999631Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:54:10.0088412Z done.
2025-08-20T03:54:10.0266818Z CA certificates copied and updated successfully.
2025-08-20T03:54:10.2532939Z Starting periodic command scheduler: cron.
2025-08-20T03:54:10.2708155Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:54:10.3147600Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:54:10.3150589Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:54:10.3153061Z Build Operation ID: f9268574-4a49-4769-91ed-158843d19e4c
2025-08-20T03:54:10.5255533Z 
2025-08-20T03:54:10.5257939Z Agent extension 
2025-08-20T03:54:10.5261001Z Before if loop >> DotNet Runtime 
2025-08-20T03:54:10.5596096Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:54:10.5947241Z Trying to find the startup DLL name...
2025-08-20T03:54:10.5955210Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:54:10.6349271Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:54:12.6998163Z 2025-08-20 03:54:12.581 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:54:13.1253350Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:54:14.2521602Z 2025-08-20 03:54:14.199 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:54:14.2522449Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:54:14.2522505Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:54:14.2522536Z    at System.Uri..ctor(String uriString)
2025-08-20T03:54:14.2522672Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:54:14.2522711Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:54:14.2522755Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:54:14.2706055Z 2025-08-20 03:54:14.266 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:54:14.3246929Z 2025-08-20 03:54:14.321 +00:00 [INF] Starting configuration validation...
2025-08-20T03:54:14.3495694Z 2025-08-20 03:54:14.348 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:54:14.3496167Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:54:14.3496217Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:54:14.3496248Z    at System.Uri..ctor(String uriString)
2025-08-20T03:54:14.3496375Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:54:14.3496416Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:54:14.3496459Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:54:14.3630881Z 2025-08-20 03:54:14.358 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:54:14.3645535Z 2025-08-20 03:54:14.364 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:54:14.4236734Z 2025-08-20 03:54:14.423 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:54:14.8828213Z 2025-08-20 03:54:14.879 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:54:14.9613356Z 2025-08-20 03:54:14.957 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:54:15.2958753Z 2025-08-20 03:54:15.291 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:54:15.3062679Z 2025-08-20 03:54:15.299 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:54:15.3073649Z 2025-08-20 03:54:15.307 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:54:15.3168865Z 2025-08-20 03:54:15.316 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:54:16.6770120Z 2025-08-20 03:54:16.662 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - null null
2025-08-20T03:54:16.9289387Z 2025-08-20 03:54:16.928 +00:00 [WRN] Failed to determine the https port for redirect.
hecks'
2025-08-20T03:54:14.5619804Z 2025-08-20 03:54:14.561 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:14.5750313Z 2025-08-20 03:54:14.574 +00:00 [ERR] Health check database with status Unhealthy completed after 9.1448ms with message 'Database connection failed'
2025-08-20T03:54:14.5937000Z 2025-08-20 03:54:14.588 +00:00 [INF] All configurations are valid
2025-08-20T03:54:14.6319422Z 2025-08-20 03:54:14.628 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 65.8214ms with message 'Event Store connection failed'
2025-08-20T03:54:14.6319737Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:14.6319773Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:14.6319800Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:14.6319826Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:14.6319854Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:14.6319884Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:14.6319910Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:14.6319938Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:14.6319988Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:14.6320015Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:14.6320040Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:14.6320072Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:14.6320101Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:14.6320132Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:14.6320166Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:14.6424050Z 2025-08-20 03:54:14.642 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:14.6513008Z 2025-08-20 03:54:14.644 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:0000000F": An unhandled exception was thrown by the application.
2025-08-20T03:54:14.6513345Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:14.6513381Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:14.6513408Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:14.6513436Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:14.6513470Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:14.6513498Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:14.6513528Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:14.6513556Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:14.6513619Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:14.6513647Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:14.6513676Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:54:14.6513704Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:14.6513732Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:14.6513758Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:14.6513788Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:14.6513817Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:14.6513866Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:14.6513894Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:14.6513922Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:14.6513948Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:14.6513972Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:14.6514005Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:14.6514032Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:14.6699152Z 2025-08-20 03:54:14.669 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 130.0131ms
2025-08-20T03:54:17.3717354Z 2025-08-20 03:54:17.371 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
0T03:54:17.2611033Z 2025-08-20 03:54:17.255 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.2:8080/robots933456.txt, Response status code: 404
2025-08-20T03:54:17.4381708Z 2025-08-20 03:54:17.388 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:17.4600822Z 2025-08-20 03:54:17.438 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:17.4601150Z 2025-08-20 03:54:17.449 +00:00 [ERR] Health check database with status Unhealthy completed after 10.7451ms with message 'Database connection failed'
2025-08-20T03:54:17.4698145Z 2025-08-20 03:54:17.469 +00:00 [INF] All configurations are valid
2025-08-20T03:54:17.5007333Z 2025-08-20 03:54:17.493 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.861ms with message 'Event Store connection failed'
2025-08-20T03:54:17.5007756Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:17.5014865Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:17.5015009Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:17.5015164Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:17.5015210Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:17.5015247Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:17.5015276Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:17.5015304Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:17.5015333Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:17.5015363Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:17.5015392Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:17.5015452Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:17.5015488Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:17.5015524Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:17.5015566Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:17.5536477Z 2025-08-20 03:54:17.548 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:17.5686536Z 2025-08-20 03:54:17.555 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:00000010": An unhandled exception was thrown by the application.
2025-08-20T03:54:17.5687708Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:17.5688372Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:17.5688456Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:17.5688957Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:17.5689481Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:17.5689554Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:17.5690026Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:17.5690096Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:17.5690596Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:17.5691111Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:17.5691180Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:17.5691664Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:17.5691745Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:17.5692227Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:17.5692299Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:17.5692770Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:17.5692885Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:17.5693563Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:17.5693632Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:17.5694104Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:17.5694619Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:17.5694688Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:17.5838688Z 2025-08-20 03:54:17.583 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 214.2257ms
2025-08-20T03:54:19.7249303Z 2025-08-20 03:54:19.718 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:19.7250005Z 2025-08-20 03:54:19.720 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:19.7482631Z 2025-08-20 03:54:19.745 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8617ms with message 'Event Store connection failed'
2025-08-20T03:54:19.7483183Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:19.7686031Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:19.7686529Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:19.7686767Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:19.7686807Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:19.7686918Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:19.7686947Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:19.7686972Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:19.7686997Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:19.7687024Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:19.7695884Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:19.7696163Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:19.7696322Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:19.7706034Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:19.7706489Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:19.7821703Z 2025-08-20 03:54:19.731 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:19.7891431Z 2025-08-20 03:54:19.786 +00:00 [ERR] Health check database with status Unhealthy completed after 18.0547ms with message 'Database connection failed'
2025-08-20T03:54:19.8046885Z 2025-08-20 03:54:19.803 +00:00 [INF] All configurations are valid
2025-08-20T03:54:19.8368792Z 2025-08-20 03:54:19.836 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:19.8389241Z 2025-08-20 03:54:19.838 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:00000011": An unhandled exception was thrown by the application.
2025-08-20T03:54:19.8457574Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:19.8458425Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:19.8458478Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:19.8458507Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:19.8458547Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:19.8458578Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:19.8458606Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:19.8458634Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:19.8469624Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:19.8469776Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:19.8469813Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:19.8469891Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:19.8469919Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:19.8469949Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:19.8469978Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:19.8470006Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:19.8470031Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:19.8470059Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:19.8470085Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:19.8470110Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:19.8470166Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:19.8470195Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:19.8688085Z 2025-08-20 03:54:19.861 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 143.2023ms
2025-08-20T03:54:24.8696039Z 2025-08-20 03:54:24.869 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:24.8774288Z 2025-08-20 03:54:24.877 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:24.8862023Z 2025-08-20 03:54:24.885 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:24.9107159Z 2025-08-20 03:54:24.893 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0623ms with message 'Database connection failed'
2025-08-20T03:54:24.9108121Z 2025-08-20 03:54:24.909 +00:00 [INF] All configurations are valid
2025-08-20T03:54:24.9168990Z 2025-08-20 03:54:24.895 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.013ms with message 'Event Store connection failed'
2025-08-20T03:54:24.9169516Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:24.9170492Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:24.9170574Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:24.9171332Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:24.9171407Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:24.9172070Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:24.9172142Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:24.9172711Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:24.9172783Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:24.9172850Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:24.9173497Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:24.9173572Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:24.9174188Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:24.9174982Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:24.9175833Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:24.9439841Z 2025-08-20 03:54:24.943 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:25.3308413Z 2025-08-20 03:54:25.330 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:54:25.3429486Z 2025-08-20 03:54:25.342 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 16.8969ms
2025-08-20T03:54:25.3587896Z 2025-08-20 03:54:25.356 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:54:26.2186847Z 2025-08-20 03:54:24.945 +00:00 [ERR] Connection id "0HNEVJK878UJ5", Request id "0HNEVJK878UJ5:00000012": An unhandled exception was thrown by the application.
2025-08-20T03:54:26.2187173Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:26.2187209Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:26.2187238Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:26.2187308Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:26.2187344Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:26.2187372Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:26.2187401Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:26.2187428Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:26.2187465Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:26.2187491Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:26.2187518Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:26.2187547Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:26.2187599Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:26.2187630Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:26.2187658Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:26.2187687Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:26.2187715Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:26.2187742Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:26.2187767Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:26.2187792Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:26.2187824Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:26.2187873Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:26.2187902Z 2025-08-20 03:54:24.970 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 101.874ms
2025-08-20T03:54:29.9978304Z 2025-08-20 03:54:29.997 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:30.0217395Z 2025-08-20 03:54:30.021 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:30.0555566Z 2025-08-20 03:54:30.053 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:31.0449753Z 2025-08-20 03:54:31.040 +00:00 [INF] All configurations are valid
2025-08-20T03:54:34.3463165Z 2025-08-20 03:54:34.338 +00:00 [ERR] Health check database with status Unhealthy completed after 3851.4195ms with message 'Database connection failed'
2025-08-20T03:54:34.3735227Z 2025-08-20 03:54:34.344 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 3840.9753ms with message 'Event Store connection failed'
2025-08-20T03:54:34.3735806Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:34.3737928Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:34.3738760Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:34.3738838Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:34.3738874Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:34.3740112Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:34.3740330Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:34.3741204Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:34.3741284Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:34.3741312Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:34.3742142Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:34.3742223Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:34.3742993Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:34.3743707Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:34.3744497Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:34.3843989Z 2025-08-20 03:54:34.384 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:34.4104376Z 2025-08-20 03:54:34.402 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:54:34.4113105Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:34.4113248Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:34.4113430Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:34.4113548Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:34.4113584Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:34.4113612Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:54:34.4113641Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:34.4113668Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:34.4113697Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:34.4113724Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:34.4113750Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:54:34.4113804Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:54:34.4113831Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:54:34.4113858Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:34.4113886Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:34.4113938Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:34.4113967Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:34.4113995Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:34.4114024Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:34.4114071Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:34.4114099Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:34.4114124Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:34.4114149Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:34.4114181Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:34.4114208Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:34.4143399Z 2025-08-20 03:54:34.414 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4416.8137ms
2025-08-20T03:54:39.4543774Z 2025-08-20 03:54:39.454 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:39.4600000Z 2025-08-20 03:54:39.459 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:39.4676312Z 2025-08-20 03:54:39.467 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:39.4696491Z 2025-08-20 03:54:39.469 +00:00 [INF] All configurations are valid
2025-08-20T03:54:39.6690558Z 2025-08-20 03:54:39.667 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 201.3458ms with message 'Event Store connection failed'
2025-08-20T03:54:39.6691287Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:39.6691338Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:39.6691366Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:39.6691397Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:39.6691516Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:39.6691550Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:39.6691574Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:39.6691600Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:39.6691625Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:39.6691650Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:39.6691675Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:39.6691705Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:39.6691734Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:39.6691765Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:39.6691825Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:39.6715624Z 2025-08-20 03:54:39.671 +00:00 [ERR] Health check database with status Unhealthy completed after 208.9138ms with message 'Database connection failed'
2025-08-20T03:54:39.6728529Z 2025-08-20 03:54:39.672 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:39.6799992Z 2025-08-20 03:54:39.678 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:54:39.6800248Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:39.6800284Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:39.6800320Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:39.6800436Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:39.6800473Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:39.6800504Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:39.6800532Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:39.6800560Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:39.6800589Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:39.6800616Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:39.6800670Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:54:39.6800722Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:54:39.6800749Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:54:39.6800777Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:39.6800805Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:39.6800832Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:39.6800864Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:39.6800893Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:39.6800921Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:39.6800946Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:39.6800996Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:39.6801025Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:39.6801050Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:39.6801081Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:39.6801109Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:39.6887466Z 2025-08-20 03:54:39.686 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 233.076ms
2025-08-20T03:54:44.7059003Z 2025-08-20 03:54:44.704 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:44.7071699Z 2025-08-20 03:54:44.707 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:44.7085194Z 2025-08-20 03:54:44.708 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:44.7266432Z 2025-08-20 03:54:44.719 +00:00 [ERR] Health check database with status Unhealthy completed after 8.2852ms with message 'Database connection failed'
2025-08-20T03:54:44.7266953Z 2025-08-20 03:54:44.720 +00:00 [INF] All configurations are valid
2025-08-20T03:54:44.7310003Z 2025-08-20 03:54:44.728 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.3264ms with message 'Event Store connection failed'
2025-08-20T03:54:44.7310254Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:44.7310292Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:44.7310365Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:44.7310391Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:44.7310419Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:44.7310449Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:44.7310475Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:44.7310499Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:44.7310525Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:44.7310552Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:44.7310577Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:44.7310629Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:44.7310659Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:44.7310690Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:44.7310725Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:44.7419947Z 2025-08-20 03:54:44.741 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:44.7581182Z 2025-08-20 03:54:44.750 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:54:44.7581691Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:44.7581733Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:44.7581835Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:44.7581862Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:44.7581897Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:44.7581926Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:44.7581955Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:44.7581984Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:44.7582012Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:44.7582039Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:44.7582065Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:54:44.7582115Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:44.7582144Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:44.7582171Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:44.7582200Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:44.7582230Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:44.7582259Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:44.7582284Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:44.7582311Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:44.7582336Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:44.7582387Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:44.7582420Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:44.7582448Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:44.7660629Z 2025-08-20 03:54:44.760 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 55.9635ms
2025-08-20T03:54:49.7932384Z 2025-08-20 03:54:49.788 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:49.8028023Z 2025-08-20 03:54:49.797 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:49.8107924Z 2025-08-20 03:54:49.806 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:49.8190955Z 2025-08-20 03:54:49.814 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.5779ms with message 'Event Store connection failed'
2025-08-20T03:54:49.8192116Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:49.8192178Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:49.8192209Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:49.8192239Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:49.8192272Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:49.8192312Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:49.8192344Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:49.8192372Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:49.8192486Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:49.8192521Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:49.8192549Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:49.8192584Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:49.8192618Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:49.8192653Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:49.8192693Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:49.8285999Z 2025-08-20 03:54:49.828 +00:00 [INF] All configurations are valid
2025-08-20T03:54:49.8464889Z 2025-08-20 03:54:49.846 +00:00 [ERR] Health check database with status Unhealthy completed after 38.7553ms with message 'Database connection failed'
2025-08-20T03:54:49.8481864Z 2025-08-20 03:54:49.848 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:49.8561335Z 2025-08-20 03:54:49.854 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:54:49.8562228Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:49.8562293Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:49.8562333Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:49.8562365Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:49.8562404Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:49.8562527Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:49.8562565Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:49.8562597Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:49.8562631Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:49.8562663Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:49.8562695Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:54:49.8562727Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:49.8562759Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:49.8562790Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:49.8562850Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:49.8562884Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:49.8562918Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:49.8562948Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:49.8562979Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:49.8563009Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:49.8563039Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:49.8563074Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:49.8563106Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:49.8662341Z 2025-08-20 03:54:49.860 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 72.2365ms
2025-08-20T03:54:54.8810845Z 2025-08-20 03:54:54.872 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:54:54.8984990Z 2025-08-20 03:54:54.895 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:54:54.9066030Z 2025-08-20 03:54:54.905 +00:00 [ERR] Health check database with status Unhealthy completed after 1.4474ms with message 'Database connection failed'
2025-08-20T03:54:54.9097084Z 2025-08-20 03:54:54.908 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0137ms with message 'Event Store connection failed'
2025-08-20T03:54:54.9097666Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:54:54.9097709Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:54:54.9097797Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:54:54.9097822Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:54:54.9097851Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:54:54.9097881Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:54:54.9097906Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:54:54.9097931Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:54:54.9097955Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:54:54.9097980Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:54:54.9098005Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:54:54.9098058Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:54:54.9098090Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:54:54.9098121Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:54:54.9098155Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:54:54.9098366Z 2025-08-20 03:54:54.903 +00:00 [INF] Starting configuration status health check
2025-08-20T03:54:54.9483659Z 2025-08-20 03:54:54.947 +00:00 [INF] All configurations are valid
2025-08-20T03:54:54.9493510Z 2025-08-20 03:54:54.948 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:54:54.9564045Z 2025-08-20 03:54:54.949 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:54:54.9564484Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:54:54.9639451Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:54:54.9640114Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:54.9640167Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:54:54.9640221Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:54:54.9640255Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:54.9640287Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:54:54.9640331Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:54:54.9640568Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:54:54.9640605Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:54:54.9640636Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:54:54.9640665Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:54:54.9640698Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:54:54.9713424Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:54:54.9714195Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:54.9714246Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:54:54.9714472Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:54:54.9714507Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:54:54.9714540Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:54:54.9714568Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:54.9714593Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:54:54.9714626Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:54:54.9714654Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:54:54.9918977Z 2025-08-20 03:54:54.991 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 118.8031ms
2025-08-20T03:55:00.0906764Z 2025-08-20 03:55:00.083 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:55:00.1303825Z 2025-08-20 03:55:00.128 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:55:00.1563849Z 2025-08-20 03:55:00.146 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9087ms with message 'Event Store connection failed'
2025-08-20T03:55:00.1563954Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:55:00.1638529Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:55:00.1638800Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:55:00.1642922Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:55:00.1643051Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:55:00.1643133Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:55:00.1643161Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:55:00.1643186Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:55:00.1643211Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:55:00.1643238Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:55:00.1643265Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:55:00.1643296Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:55:00.1643326Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:55:00.1643357Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:55:00.1643545Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:55:00.1649327Z 2025-08-20 03:55:00.148 +00:00 [INF] Starting configuration status health check
2025-08-20T03:55:00.1665470Z 2025-08-20 03:55:00.166 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1291ms with message 'Database connection failed'
2025-08-20T03:55:00.2058801Z 2025-08-20 03:55:00.205 +00:00 [INF] All configurations are valid
2025-08-20T03:55:00.2253892Z 2025-08-20 03:55:00.225 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:55:00.2369242Z 2025-08-20 03:55:00.235 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:55:00.2370925Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:55:00.2371815Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:55:00.2371898Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:00.2372447Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:00.2377071Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:55:00.2377199Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:00.2377996Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:55:00.2378077Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:00.2428024Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:55:00.2428947Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:55:00.2429043Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:55:00.2429730Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:55:00.2429817Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:55:00.2430515Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:55:00.2430605Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:00.2432710Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:00.2432809Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:55:00.2457674Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:55:00.2457838Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:55:00.2457869Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:00.2457896Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:00.2457929Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:55:00.2457958Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:55:00.2556260Z 2025-08-20 03:55:00.255 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 172.387ms
2025-08-20T03:55:05.2969257Z 2025-08-20 03:55:05.291 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:55:05.3232270Z 2025-08-20 03:55:05.304 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:55:05.3309826Z 2025-08-20 03:55:05.323 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2424ms with message 'Database connection failed'
2025-08-20T03:55:05.3310198Z 2025-08-20 03:55:05.330 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.25ms with message 'Event Store connection failed'
2025-08-20T03:55:05.3310241Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:55:05.3310278Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:55:05.3310306Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:55:05.3310331Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:55:05.3310359Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:55:05.3310394Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:55:05.3310422Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:55:05.3310529Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:55:05.3310555Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:55:05.3310583Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:55:05.3310609Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:55:05.3310639Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:55:05.3310669Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:55:05.3310701Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:55:05.3310738Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:55:05.3312059Z 2025-08-20 03:55:05.330 +00:00 [INF] Starting configuration status health check
2025-08-20T03:55:05.3562563Z 2025-08-20 03:55:05.356 +00:00 [INF] All configurations are valid
2025-08-20T03:55:05.3615338Z 2025-08-20 03:55:05.361 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:55:05.3637975Z 2025-08-20 03:55:05.362 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:55:05.3638115Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:55:05.3638154Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:55:05.3638186Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:05.3638218Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:05.3638332Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:55:05.3638363Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:05.3638394Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:55:05.3638423Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:05.3638452Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:55:05.3638479Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:55:05.3638507Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:55:05.3638535Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:55:05.3638564Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:55:05.3638624Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:55:05.3638654Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:05.3638685Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:05.3638714Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:55:05.3638741Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:55:05.3638769Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:55:05.3638795Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:05.3638820Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:05.3638874Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:55:05.3638903Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:55:05.3689443Z 2025-08-20 03:55:05.368 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 76.9541ms
2025-08-20T03:55:10.3861086Z 2025-08-20 03:55:10.385 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:55:10.4107721Z 2025-08-20 03:55:10.405 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:55:10.4359322Z 2025-08-20 03:55:10.429 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9572ms with message 'Event Store connection failed'
2025-08-20T03:55:10.4359894Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:55:10.4389450Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:55:10.4389625Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:55:10.4390328Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:55:10.4390409Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:55:10.4391049Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:55:10.4391121Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:55:10.4391570Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:55:10.4391638Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:55:10.4391667Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:55:10.4392167Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:55:10.4392239Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:55:10.4392755Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:55:10.4393323Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:55:10.4393876Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:55:10.4571539Z 2025-08-20 03:55:10.413 +00:00 [INF] Starting configuration status health check
2025-08-20T03:55:10.4572108Z 2025-08-20 03:55:10.437 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9989ms with message 'Database connection failed'
2025-08-20T03:55:10.5143731Z 2025-08-20 03:55:10.500 +00:00 [INF] All configurations are valid
2025-08-20T03:55:10.5211410Z 2025-08-20 03:55:10.517 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:55:10.5350059Z 2025-08-20 03:55:10.530 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:00000009": An unhandled exception was thrown by the application.
2025-08-20T03:55:10.5350718Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:55:10.5350762Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:55:10.5350793Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:10.5350820Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:10.5350857Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:55:10.5350886Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:10.5350916Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:55:10.5350945Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:10.5350998Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:55:10.5351026Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:55:10.5351054Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:55:10.5351082Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:55:10.5351112Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:55:10.5351140Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:55:10.5351170Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:10.5351200Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:10.5351230Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:55:10.5363892Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:55:10.5365710Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:55:10.5365903Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:10.5365939Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:10.5369435Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:55:10.5369532Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:55:10.6103349Z 2025-08-20 03:55:10.603 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 217.9164ms
2025-08-20T03:55:15.6708711Z 2025-08-20 03:55:15.664 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:55:15.6968627Z 2025-08-20 03:55:15.687 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:55:15.7059236Z 2025-08-20 03:55:15.705 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1765ms with message 'Event Store connection failed'
2025-08-20T03:55:15.7059550Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:55:15.7148920Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:55:15.7149247Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:55:15.7149286Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:55:15.7149322Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:55:15.7149439Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:55:15.7149468Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:55:15.7149494Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:55:15.7149518Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:55:15.7149545Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:55:15.7149570Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:55:15.7149601Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:55:15.7149632Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:55:15.7149663Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:55:15.7149720Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:55:15.7149746Z 2025-08-20 03:55:15.706 +00:00 [INF] Starting configuration status health check
2025-08-20T03:55:15.7149775Z 2025-08-20 03:55:15.713 +00:00 [ERR] Health check database with status Unhealthy completed after 7.2585ms with message 'Database connection failed'
2025-08-20T03:55:15.7419188Z 2025-08-20 03:55:15.739 +00:00 [INF] All configurations are valid
2025-08-20T03:55:15.7513860Z 2025-08-20 03:55:15.751 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:55:15.7716887Z 2025-08-20 03:55:15.767 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:0000000A": An unhandled exception was thrown by the application.
2025-08-20T03:55:15.7717225Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:55:15.7717266Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:55:15.7717377Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:15.7717406Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:15.7717442Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:55:15.7717471Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:15.7717502Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:55:15.7717530Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:15.7717560Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:55:15.7717587Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:55:15.7717614Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:55:15.7717666Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:55:15.7717696Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:55:15.7717724Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:55:15.7717754Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:15.7717783Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:15.7717815Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:55:15.7717842Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:55:15.7717871Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:55:15.7717897Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:15.7717943Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:15.7717976Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:55:15.7718005Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:55:15.7881167Z 2025-08-20 03:55:15.787 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 123.3992ms
2025-08-20T03:55:17.9302696Z 2025-08-20 03:55:17.925 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:55:17.9443474Z 2025-08-20 03:55:17.930 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:55:17.9684289Z 2025-08-20 03:55:17.951 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9365ms with message 'Event Store connection failed'
2025-08-20T03:55:17.9684821Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:55:17.9684864Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:55:17.9684892Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:55:17.9684918Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:55:17.9684946Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:55:17.9684979Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:55:17.9685004Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:55:17.9685030Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:55:17.9685054Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:55:17.9685080Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:55:17.9685133Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:55:17.9685164Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:55:17.9685194Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:55:17.9685227Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:55:17.9685262Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:55:17.9693752Z 2025-08-20 03:55:17.968 +00:00 [INF] Starting configuration status health check
2025-08-20T03:55:17.9848265Z 2025-08-20 03:55:17.974 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0932ms with message 'Database connection failed'
2025-08-20T03:55:17.9917888Z 2025-08-20 03:55:17.991 +00:00 [INF] All configurations are valid
2025-08-20T03:55:17.9988879Z 2025-08-20 03:55:17.998 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:55:18.0013244Z 2025-08-20 03:55:17.999 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:0000000B": An unhandled exception was thrown by the application.
2025-08-20T03:55:18.0082650Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:55:18.0082893Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:55:18.0082926Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:18.0082954Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:18.0082991Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:55:18.0083085Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:18.0083118Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:55:18.0083147Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:18.0083176Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:55:18.0083205Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:55:18.0083234Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:55:18.0083262Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:55:18.0083291Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:55:18.0083318Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:55:18.0083375Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:18.0083404Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:18.0083434Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:55:18.0083462Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:55:18.0083490Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:55:18.0083541Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:18.0083568Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:18.0083601Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:55:18.0083651Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:55:18.0170459Z 2025-08-20 03:55:18.016 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 91.6483ms
2025-08-20T03:55:20.8214229Z 2025-08-20 03:55:20.816 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:55:20.8226503Z 2025-08-20 03:55:20.822 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:55:20.8299288Z 2025-08-20 03:55:20.824 +00:00 [INF] Starting configuration status health check
2025-08-20T03:55:20.8441679Z 2025-08-20 03:55:20.837 +00:00 [INF] All configurations are valid
2025-08-20T03:55:20.8442787Z 2025-08-20 03:55:20.839 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.004ms with message 'Event Store connection failed'
2025-08-20T03:55:20.8442835Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:55:20.8442870Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:55:20.8442896Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:55:20.8442922Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:55:20.8442956Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:55:20.8443079Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:55:20.8443107Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:55:20.8443133Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:55:20.8443158Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:55:20.8443185Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:55:20.8443211Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:55:20.8443241Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:55:20.8443275Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:55:20.8443306Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:55:20.8443367Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:55:20.8640732Z 2025-08-20 03:55:20.853 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1398ms with message 'Database connection failed'
2025-08-20T03:55:20.8889892Z 2025-08-20 03:55:20.873 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:55:20.8890990Z 2025-08-20 03:55:20.881 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:0000000C": An unhandled exception was thrown by the application.
2025-08-20T03:55:20.8891051Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:55:20.8891086Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:55:20.8891116Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:20.8891148Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:20.8891269Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:55:20.8891299Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:20.8891329Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:55:20.8891358Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:20.8891388Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:55:20.8891416Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:55:20.8891447Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:55:20.8891475Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:55:20.8891530Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:55:20.8891559Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:55:20.8891589Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:20.8891621Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:20.8891650Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:55:20.8891678Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:55:20.8891710Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:55:20.8891737Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:20.8891764Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:20.8891818Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:55:20.8891847Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:55:20.9115355Z 2025-08-20 03:55:20.891 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 75.5049ms
2025-08-20T03:55:21.2079912Z    _____                               
2025-08-20T03:55:21.2081689Z   /  _  \ __________ _________   ____  
2025-08-20T03:55:21.2081807Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:55:21.2081840Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:55:21.2081869Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:55:21.2082955Z         \/      \/                  \/ 
2025-08-20T03:55:21.2083028Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:55:21.2083055Z 
2025-08-20T03:55:21.2083093Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:55:21.2083162Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:55:21.2083193Z ASP .NETCore Version: 8.0.18
2025-08-20T03:55:21.2083223Z Note: Any data outside '/home' is not persisted
2025-08-20T03:55:23.1378028Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:55:23.1522413Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:55:23.1841217Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:55:25.9277223Z 2025-08-20 03:55:25.920 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:55:25.9431977Z 2025-08-20 03:55:25.930 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:55:25.9765402Z 2025-08-20 03:55:25.973 +00:00 [INF] Starting configuration status health check
2025-08-20T03:55:25.9819574Z 2025-08-20 03:55:25.981 +00:00 [INF] All configurations are valid
2025-08-20T03:55:25.9941709Z 2025-08-20 03:55:25.993 +00:00 [ERR] Health check database with status Unhealthy completed after 19.9704ms with message 'Database connection failed'
2025-08-20T03:55:26.0100910Z 2025-08-20 03:55:25.994 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 47.8769ms with message 'Event Store connection failed'
2025-08-20T03:55:26.0101388Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:55:26.0101797Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:55:26.0101833Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:55:26.0101859Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:55:26.0101890Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:55:26.0103044Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:55:26.0103139Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:55:26.0105546Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:55:26.0105635Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:55:26.0105665Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:55:26.0105725Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:55:26.0105757Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:55:26.0106157Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:55:26.0106521Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:55:26.0107559Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:55:26.0267923Z 2025-08-20 03:55:26.026 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:55:26.0604394Z 2025-08-20 03:55:26.045 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:0000000D": An unhandled exception was thrown by the application.
2025-08-20T03:55:26.0605665Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:55:26.0606532Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:55:26.0607164Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:26.0674964Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:26.0675650Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:55:26.0675694Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:26.0675723Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:55:26.0675854Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:26.0675885Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:55:26.0675912Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:55:26.0675941Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:55:26.0675973Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:55:26.0676002Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:55:26.0676030Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:55:26.0676059Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:26.0676087Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:26.0676142Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:55:26.0676169Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:55:26.0676196Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:55:26.0676223Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:26.0676248Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:26.0676278Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:55:26.0676305Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:55:26.1238692Z 2025-08-20 03:55:26.086 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 165.7913ms
2025-08-20T03:55:31.9471887Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:55:31.9730437Z 4 added, 0 removed; done.
2025-08-20T03:55:31.9735603Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:55:31.9847219Z done.
2025-08-20T03:55:32.0079451Z CA certificates copied and updated successfully.
2025-08-20T03:55:32.3089159Z Starting periodic command scheduler: cron.
2025-08-20T03:55:32.3167433Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:55:32.3345510Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:55:32.3352264Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:55:32.3357730Z Build Operation ID: 779a2301-a195-40f1-8f97-2baaad8fedd6
2025-08-20T03:55:32.4682954Z 
2025-08-20T03:55:32.4683993Z Agent extension 
2025-08-20T03:55:32.4684088Z Before if loop >> DotNet Runtime 
2025-08-20T03:55:32.5095287Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:55:32.5427548Z Trying to find the startup DLL name...
2025-08-20T03:55:32.5430441Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:55:32.5431413Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:55:35.0397309Z 2025-08-20 03:55:34.918 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:55:35.3967484Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:55:36.3250318Z 2025-08-20 03:55:36.285 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:55:36.3251094Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:55:36.3252459Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:55:36.3252582Z    at System.Uri..ctor(String uriString)
2025-08-20T03:55:36.3253340Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:55:36.3253522Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:55:36.3254224Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:55:36.3650409Z 2025-08-20 03:55:36.358 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:55:36.4230440Z 2025-08-20 03:55:36.417 +00:00 [INF] Starting configuration validation...
2025-08-20T03:55:36.4535100Z 2025-08-20 03:55:36.453 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:55:36.4535790Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:55:36.4680970Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:55:36.4682191Z    at System.Uri..ctor(String uriString)
2025-08-20T03:55:36.4774996Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:55:36.4775817Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:55:36.4776411Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:55:36.4925263Z 2025-08-20 03:55:36.490 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:55:36.4925817Z 2025-08-20 03:55:36.491 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:55:36.5699274Z 2025-08-20 03:55:36.564 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:55:37.0052273Z 2025-08-20 03:55:36.999 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:55:37.1415619Z 2025-08-20 03:55:37.141 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:55:37.7803311Z 2025-08-20 03:55:37.778 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:55:37.7856213Z 2025-08-20 03:55:37.785 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:55:37.7874079Z 2025-08-20 03:55:37.787 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:55:37.7888612Z 2025-08-20 03:55:37.788 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:55:38.4268219Z 2025-08-20 03:55:38.419 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.6:8080/robots933456.txt - null null
2025-08-20T03:55:40.4278262Z 2025-08-20 03:55:38.513 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:55:40.4278553Z 2025-08-20 03:55:38.763 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.6:8080/robots933456.txt - 404 0 null 328.1169ms
2025-08-20T03:55:40.4278590Z 2025-08-20 03:55:38.799 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.6:8080/robots933456.txt, Response status code: 404
2025-08-20T03:55:40.4684577Z 2025-08-20 03:55:40.465 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:55:40.4745425Z 2025-08-20 03:55:40.474 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:55:40.4828684Z 2025-08-20 03:55:40.482 +00:00 [INF] Starting configuration status health check
2025-08-20T03:55:40.4848763Z 2025-08-20 03:55:40.484 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3432ms with message 'Database connection failed'
2025-08-20T03:55:40.4915516Z 2025-08-20 03:55:40.491 +00:00 [INF] All configurations are valid
2025-08-20T03:55:40.4931507Z 2025-08-20 03:55:40.492 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.0202ms with message 'Event Store connection failed'
2025-08-20T03:55:40.4931643Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:55:40.4932786Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:55:40.4932882Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:55:40.4933507Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:55:40.4933587Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:55:40.4934288Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:55:40.4934364Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:55:40.4935047Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:55:40.4935122Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:55:40.4935191Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:55:40.4935816Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:55:40.4935898Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:55:40.4936586Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:55:40.4937248Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:55:40.4938007Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:55:40.5142384Z 2025-08-20 03:55:40.514 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:55:40.5164963Z 2025-08-20 03:55:40.515 +00:00 [ERR] Connection id "0HNEVJKTV8C2J", Request id "0HNEVJKTV8C2J:0000000E": An unhandled exception was thrown by the application.
2025-08-20T03:55:40.5165901Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:55:40.5166762Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:55:40.5166844Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:40.5167446Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:55:40.5168233Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:55:40.5168313Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:40.5168971Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:55:40.5169048Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:55:40.5169721Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:55:40.5170347Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:55:40.5170420Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:55:40.5171107Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:55:40.5171188Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:55:40.5171819Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:55:40.5171894Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:40.5172602Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:55:40.5173242Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:55:40.5173314Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:55:40.5173999Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:55:40.5174073Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:40.5174104Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:55:40.5174729Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:55:40.5175452Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:55:40.5242570Z 2025-08-20 03:55:40.523 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 58.1982ms
2025-08-20T03:55:50.5231627Z 2025-08-20 03:55:50.516 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:55:50.5265636Z 2025-08-20 03:55:50.526 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 9.8774ms
2025-08-20T03:55:50.5335222Z 2025-08-20 03:55:50.533 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:56:38.0630535Z 2025-08-20 03:56:38.062 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:56:38.0851556Z 2025-08-20 03:56:38.084 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:56:38.0859056Z 2025-08-20 03:56:38.085 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 28.3903ms
2025-08-20T03:56:38.0864715Z 2025-08-20 03:56:38.086 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 1.7053ms
2025-08-20T03:56:38.0915571Z 2025-08-20 03:56:38.089 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:56:38.0926253Z 2025-08-20 03:56:38.092 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:56:38.0932956Z 2025-08-20 03:56:38.093 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:56:38.1013412Z 2025-08-20 03:56:38.101 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:56:38.1392642Z 2025-08-20 03:56:38.138 +00:00 [INF] Starting configuration status health check
2025-08-20T03:56:38.1809331Z 2025-08-20 03:56:38.180 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:56:38.1858942Z 2025-08-20 03:56:38.185 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 5.1704ms
2025-08-20T03:56:38.1874572Z 2025-08-20 03:56:38.187 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:56:38.2370001Z 2025-08-20 03:56:38.236 +00:00 [INF] All configurations are valid
2025-08-20T03:56:42.2970891Z 2025-08-20 03:56:42.290 +00:00 [ERR] Health check database with status Unhealthy completed after 3523.9545ms with message 'Database connection failed'
2025-08-20T03:56:42.3177196Z 2025-08-20 03:56:42.290 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 3529.0161ms with message 'Event Store connection failed'
2025-08-20T03:56:42.3177527Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:56:42.3177569Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:56:42.3177596Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:56:42.3177620Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:56:42.3177652Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:56:42.3177689Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:56:42.3177714Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:56:42.3177825Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:56:42.3177850Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:56:42.3177876Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:56:42.3177901Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:56:42.3177930Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:56:42.3177960Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:56:42.3177991Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:56:42.3178045Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:56:42.3328693Z 2025-08-20 03:56:42.328 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:56:42.3527444Z 2025-08-20 03:56:42.345 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:56:42.3578517Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:56:42.3578829Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:56:42.3578871Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:42.3578903Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:42.3578938Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:56:42.3579046Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:56:42.3579075Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:56:42.3579107Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:56:42.3579136Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:56:42.3579163Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:56:42.3579192Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:56:42.3579221Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:56:42.3579247Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:56:42.3579294Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:56:42.3579358Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:56:42.3579385Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:56:42.3579414Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:42.3579442Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:42.3579471Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:56:42.3579497Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:56:42.3579524Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:56:42.3579572Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:42.3579597Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:42.3579629Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:56:42.3579655Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:56:42.3611731Z 2025-08-20 03:56:42.360 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4268.2816ms
2025-08-20T03:56:45.4775905Z 2025-08-20 03:56:45.452 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:56:45.4794188Z 2025-08-20 03:56:45.467 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:56:45.5092653Z 2025-08-20 03:56:45.489 +00:00 [INF] Starting configuration status health check
2025-08-20T03:56:45.5330941Z 2025-08-20 03:56:45.523 +00:00 [INF] All configurations are valid
2025-08-20T03:56:46.5809727Z 2025-08-20 03:56:46.577 +00:00 [ERR] Health check database with status Unhealthy completed after 1060.6644ms with message 'Database connection failed'
2025-08-20T03:56:46.6267641Z 2025-08-20 03:56:46.595 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1086.0884ms with message 'Event Store connection failed'
2025-08-20T03:56:46.6268098Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:56:46.6268137Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:56:46.6268250Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:56:46.6268277Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:56:46.6268304Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:56:46.6268340Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:56:46.6268365Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:56:46.6268390Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:56:46.6268414Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:56:46.6268440Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:56:46.6268466Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:56:46.6268521Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:56:46.6268552Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:56:46.6268584Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:56:46.6268618Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:56:46.6268642Z 2025-08-20 03:56:46.616 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:56:46.6483732Z 2025-08-20 03:56:46.635 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:56:46.6484057Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:56:46.6484099Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:56:46.6484200Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:46.6484229Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:46.6484264Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:56:46.6484293Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:56:46.6484321Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:56:46.6484349Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:56:46.6484377Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:56:46.6484404Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:56:46.6484431Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:56:46.6484487Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:56:46.6484515Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:56:46.6484542Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:56:46.6484570Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:56:46.6484596Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:56:46.6484625Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:46.6484654Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:46.6484683Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:56:46.6484728Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:56:46.6484756Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:56:46.6484782Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:46.6484807Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:46.6484838Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:56:46.6484865Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:56:46.6815794Z 2025-08-20 03:56:46.661 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 1209.4038ms
2025-08-20T03:56:47.4108357Z 2025-08-20 03:56:47.409 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:56:47.4697842Z 2025-08-20 03:56:47.452 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:56:47.4875293Z 2025-08-20 03:56:47.485 +00:00 [INF] Starting configuration status health check
2025-08-20T03:56:47.5038937Z 2025-08-20 03:56:47.502 +00:00 [INF] All configurations are valid
2025-08-20T03:56:47.5048604Z 2025-08-20 03:56:47.503 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.8536ms with message 'Event Store connection failed'
2025-08-20T03:56:47.5048739Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:56:47.5048776Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:56:47.5048804Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:56:47.5048849Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:56:47.5048974Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:56:47.5049319Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:56:47.5049374Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:56:47.5049399Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:56:47.5049423Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:56:47.5049448Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:56:47.5049474Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:56:47.5049504Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:56:47.5049533Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:56:47.5049565Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:56:47.5049625Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:56:47.5913908Z 2025-08-20 03:56:47.586 +00:00 [ERR] Health check database with status Unhealthy completed after 81.8646ms with message 'Database connection failed'
2025-08-20T03:56:47.6095461Z 2025-08-20 03:56:47.605 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:56:47.6735412Z 2025-08-20 03:56:47.650 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:56:47.6752632Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:56:47.6755202Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:56:47.6755291Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:47.6755353Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:47.6755388Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:56:47.6755417Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:56:47.6869481Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:56:47.6869772Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:56:47.6869813Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:56:47.6869844Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:56:47.6869879Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:56:47.6869940Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:56:47.6869971Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:56:47.6869998Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:56:47.6870028Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:47.6870371Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:47.6870411Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:56:47.6870438Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:56:47.6870465Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:56:47.6870513Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:47.6870539Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:47.6870571Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:56:47.6870598Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:56:47.7525431Z 2025-08-20 03:56:47.724 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 315.7253ms
2025-08-20T03:56:48.0193353Z 2025-08-20 03:56:48.019 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:56:48.0264990Z 2025-08-20 03:56:48.020 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 3.0971ms
2025-08-20T03:56:48.0678477Z 2025-08-20 03:56:48.029 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:56:52.7527862Z 2025-08-20 03:56:52.747 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:56:52.7600614Z 2025-08-20 03:56:52.759 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:56:52.7750272Z 2025-08-20 03:56:52.774 +00:00 [INF] Starting configuration status health check
2025-08-20T03:56:52.7826038Z 2025-08-20 03:56:52.782 +00:00 [ERR] Health check database with status Unhealthy completed after 6.4205ms with message 'Database connection failed'
2025-08-20T03:56:52.7830405Z 2025-08-20 03:56:52.782 +00:00 [INF] All configurations are valid
2025-08-20T03:56:52.7904189Z 2025-08-20 03:56:52.789 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9064ms with message 'Event Store connection failed'
2025-08-20T03:56:52.7904886Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:56:52.7904937Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:56:52.7904964Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:56:52.7904989Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:56:52.7905016Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:56:52.7905138Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:56:52.7905165Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:56:52.7905190Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:56:52.7905214Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:56:52.7905241Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:56:52.7905265Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:56:52.7905295Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:56:52.7905324Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:56:52.7905355Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:56:52.7905441Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:56:52.8119089Z 2025-08-20 03:56:52.811 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:56:52.8179930Z 2025-08-20 03:56:52.813 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:56:52.8180713Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:56:52.8180780Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:56:52.8180808Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:52.8180835Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:52.8180873Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:56:52.8180981Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:56:52.8181011Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:56:52.8181040Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:56:52.8181069Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:56:52.8181098Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:56:52.8181125Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:56:52.8181152Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:56:52.8181180Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:56:52.8181207Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:56:52.8181260Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:52.8181290Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:52.8181318Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:56:52.8181345Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:56:52.8181373Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:56:52.8181398Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:52.8181423Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:52.8181455Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:56:52.8181505Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:56:52.8283017Z 2025-08-20 03:56:52.827 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 80.3438ms
2025-08-20T03:56:57.8955326Z 2025-08-20 03:56:57.881 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:56:57.8955643Z 2025-08-20 03:56:57.889 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:56:57.9030560Z 2025-08-20 03:56:57.897 +00:00 [INF] Starting configuration status health check
2025-08-20T03:56:57.9166133Z 2025-08-20 03:56:57.916 +00:00 [ERR] Health check database with status Unhealthy completed after 1.4787ms with message 'Database connection failed'
2025-08-20T03:56:57.9231953Z 2025-08-20 03:56:57.922 +00:00 [INF] All configurations are valid
2025-08-20T03:56:57.9581310Z 2025-08-20 03:56:57.938 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 39.5557ms with message 'Event Store connection failed'
2025-08-20T03:56:57.9581812Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:56:57.9581852Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:56:57.9581880Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:56:57.9581906Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:56:57.9581933Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:56:57.9581964Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:56:57.9581990Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:56:57.9582015Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:56:57.9582039Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:56:57.9582088Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:56:57.9582113Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:56:57.9582143Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:56:57.9582173Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:56:57.9582204Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:56:57.9582239Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:56:57.9777603Z 2025-08-20 03:56:57.971 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:56:57.9859304Z 2025-08-20 03:56:57.979 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:56:57.9860023Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:56:57.9860071Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:56:57.9860099Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:57.9860127Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:56:57.9860161Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:56:57.9860191Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:56:57.9860220Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:56:57.9860247Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:56:57.9860302Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:56:57.9860330Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:56:57.9860357Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:56:57.9860468Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:56:57.9860497Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:56:57.9860523Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:56:57.9860553Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:57.9860582Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:56:57.9860610Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:56:57.9860659Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:56:57.9860687Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:56:57.9860712Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:57.9860737Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:56:57.9860769Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:56:57.9860797Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:56:57.9973050Z 2025-08-20 03:56:57.996 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 115.1387ms
2025-08-20T03:57:00.0411344Z    _____                               
2025-08-20T03:57:00.0416700Z   /  _  \ __________ _________   ____  
2025-08-20T03:57:00.0416868Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:57:00.0416907Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:57:00.0417086Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:57:00.0417149Z         \/      \/                  \/ 
2025-08-20T03:57:00.0417178Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:57:00.0417204Z 
2025-08-20T03:57:00.0417308Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:57:00.0417341Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:57:00.0417421Z ASP .NETCore Version: 8.0.18
2025-08-20T03:57:00.0417456Z Note: Any data outside '/home' is not persisted
2025-08-20T03:57:02.4875242Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:57:02.5021856Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:57:02.5359862Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:57:03.0686684Z 2025-08-20 03:57:03.063 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:03.0934004Z 2025-08-20 03:57:03.093 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:03.1164614Z 2025-08-20 03:57:03.106 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:03.1185679Z 2025-08-20 03:57:03.111 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.4993ms with message 'Event Store connection failed'
2025-08-20T03:57:03.1186078Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:03.1186119Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:03.1186151Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:03.1186176Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:03.1186252Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:03.1186285Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:03.1186311Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:03.1186335Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:03.1186360Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:03.1186385Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:03.1186410Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:03.1186439Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:03.1186468Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:03.1186523Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:03.1186558Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:03.1277650Z 2025-08-20 03:57:03.127 +00:00 [INF] All configurations are valid
2025-08-20T03:57:03.1296844Z 2025-08-20 03:57:03.129 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1753ms with message 'Database connection failed'
2025-08-20T03:57:03.1555594Z 2025-08-20 03:57:03.155 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:03.1664562Z 2025-08-20 03:57:03.164 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:57:03.1737429Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:03.1737830Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:03.1737864Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:03.1737890Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:03.1737925Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:03.1737952Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:03.1737982Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:03.1738010Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:03.1738038Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:03.1738066Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:03.1738116Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:57:03.1738145Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:03.1738173Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:03.1738199Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:03.1738230Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:03.1738258Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:03.1738286Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:03.1738313Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:03.1738340Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:03.1738386Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:03.1738411Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:03.1738442Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:03.1738469Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:03.1909441Z 2025-08-20 03:57:03.190 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 127.2962ms
2025-08-20T03:57:08.2375383Z 2025-08-20 03:57:08.237 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:08.2750654Z 2025-08-20 03:57:08.274 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:08.2984382Z 2025-08-20 03:57:08.298 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:08.3049680Z 2025-08-20 03:57:08.300 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.2955ms with message 'Event Store connection failed'
2025-08-20T03:57:08.3051800Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:08.3051863Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:08.3051893Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:08.3051918Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:08.3051945Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:08.3051977Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:08.3052002Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:08.3052082Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:08.3052108Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:08.3052134Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:08.3052158Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:08.3052188Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:08.3052217Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:08.3052248Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:08.3052282Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:08.3224573Z 2025-08-20 03:57:08.320 +00:00 [ERR] Health check database with status Unhealthy completed after 20.6293ms with message 'Database connection failed'
2025-08-20T03:57:08.3555296Z 2025-08-20 03:57:08.355 +00:00 [INF] All configurations are valid
2025-08-20T03:57:08.3881820Z 2025-08-20 03:57:08.387 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:08.4162904Z 2025-08-20 03:57:08.407 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:57:08.4403979Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:08.4404340Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:08.4404374Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:08.4404411Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:08.4404530Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:08.4404559Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:08.4404588Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:08.4404616Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:08.4404644Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:08.4404671Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:08.4404698Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:57:08.4404726Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:08.4404779Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:08.4404807Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:08.4404837Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:08.4404867Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:08.4404895Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:08.4404921Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:08.4404949Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:08.4404974Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:08.4405001Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:08.4405055Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:08.4405083Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:08.4649647Z 2025-08-20 03:57:08.460 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 222.9612ms
2025-08-20T03:57:11.5782236Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:57:11.6180094Z 4 added, 0 removed; done.
2025-08-20T03:57:11.6180833Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:57:11.6331565Z done.
2025-08-20T03:57:11.6402523Z CA certificates copied and updated successfully.
2025-08-20T03:57:11.9619195Z Starting periodic command scheduler: cron.
2025-08-20T03:57:11.9671503Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:57:11.9891425Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:57:11.9897060Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:57:11.9899782Z Build Operation ID: 5c8cd162-4659-4b1a-b33c-d2043b5300fd
2025-08-20T03:57:12.4280091Z 
2025-08-20T03:57:12.4291228Z Agent extension 
2025-08-20T03:57:12.4367086Z Before if loop >> DotNet Runtime 
2025-08-20T03:57:12.6086834Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:57:12.7313683Z Trying to find the startup DLL name...
2025-08-20T03:57:12.7376899Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:57:12.7443980Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:57:13.5123218Z 2025-08-20 03:57:13.505 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:13.5200342Z 2025-08-20 03:57:13.519 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:13.5390199Z 2025-08-20 03:57:13.538 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9864ms with message 'Event Store connection failed'
2025-08-20T03:57:13.5390521Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:13.5391722Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:13.5391812Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:13.5392562Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:13.5392640Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:13.5393260Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:13.5393329Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:13.5394021Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:13.5394094Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:13.5394162Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:13.5394763Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:13.5394839Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:13.5395531Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:13.5396150Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:13.5548056Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:13.5548357Z 2025-08-20 03:57:13.554 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0455ms with message 'Database connection failed'
2025-08-20T03:57:13.5623258Z 2025-08-20 03:57:13.558 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:13.5715516Z 2025-08-20 03:57:13.571 +00:00 [INF] All configurations are valid
2025-08-20T03:57:13.5894421Z 2025-08-20 03:57:13.574 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:13.6249024Z 2025-08-20 03:57:13.597 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:00000009": An unhandled exception was thrown by the application.
2025-08-20T03:57:13.6250241Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:13.6251131Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:13.6251211Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:13.6251900Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:13.6252635Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:13.6252712Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:13.6253292Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:13.6253367Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:13.6446085Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:13.6446376Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:13.6446417Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:57:13.6446532Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:13.6446562Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:13.6446591Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:13.6446620Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:13.6446649Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:13.6446678Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:13.6446704Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:13.6446732Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:13.6446819Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:13.6446874Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:13.6446908Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:13.6446934Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:13.6465437Z 2025-08-20 03:57:13.646 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 139.8671ms
2025-08-20T03:57:17.6294456Z 2025-08-20 03:57:17.362 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:57:18.3090100Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:57:18.6843785Z 2025-08-20 03:57:18.684 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:18.7090396Z 2025-08-20 03:57:18.708 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:18.7103053Z 2025-08-20 03:57:18.710 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:18.7269834Z 2025-08-20 03:57:18.726 +00:00 [INF] All configurations are valid
2025-08-20T03:57:18.7420373Z 2025-08-20 03:57:18.733 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0704ms with message 'Event Store connection failed'
2025-08-20T03:57:18.7420720Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:18.7420761Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:18.7420793Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:18.7420897Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:18.7420926Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:18.7420957Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:18.7420983Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:18.7421007Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:18.7421031Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:18.7421057Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:18.7421081Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:18.7421112Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:18.7421164Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:18.7421195Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:18.7421230Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:18.7498034Z 2025-08-20 03:57:18.747 +00:00 [ERR] Health check database with status Unhealthy completed after 35.6779ms with message 'Database connection failed'
2025-08-20T03:57:18.7622030Z 2025-08-20 03:57:18.762 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:18.7824661Z 2025-08-20 03:57:18.776 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:0000000A": An unhandled exception was thrown by the application.
2025-08-20T03:57:18.7824956Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:18.7824995Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:18.7825104Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:18.7825132Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:18.7825167Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:18.7825195Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:18.7825225Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:18.7825252Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:18.7825280Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:18.7825308Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:18.7825358Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:57:18.7825386Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:18.7825414Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:18.7825440Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:18.7825471Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:18.7825499Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:18.7825527Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:18.7825554Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:18.7825581Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:18.7825627Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:18.7825654Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:18.7825685Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:18.7825712Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:18.8292028Z 2025-08-20 03:57:18.822 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 138.4448ms
2025-08-20T03:57:20.4452292Z 2025-08-20 03:57:20.363 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:57:20.4452798Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:57:20.4452850Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:57:20.4452884Z    at System.Uri..ctor(String uriString)
2025-08-20T03:57:20.4452924Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:57:20.4453050Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:57:20.4453095Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:57:20.6132988Z 2025-08-20 03:57:20.605 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:57:20.7626053Z 2025-08-20 03:57:20.756 +00:00 [INF] Starting configuration validation...
2025-08-20T03:57:20.8618813Z 2025-08-20 03:57:20.851 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:57:20.8696504Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:57:20.8696800Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:57:20.8696835Z    at System.Uri..ctor(String uriString)
2025-08-20T03:57:20.8696878Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:57:20.8697001Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:57:20.8697050Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:57:20.9111040Z 2025-08-20 03:57:20.906 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:57:20.9232318Z 2025-08-20 03:57:20.916 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:57:21.2422583Z 2025-08-20 03:57:21.241 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:57:22.4524411Z 2025-08-20 03:57:22.442 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:57:22.7014219Z 2025-08-20 03:57:22.641 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:57:23.7087713Z 2025-08-20 03:57:23.701 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:57:23.7150201Z 2025-08-20 03:57:23.709 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:57:23.7162863Z 2025-08-20 03:57:23.716 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:57:23.7247572Z 2025-08-20 03:57:23.722 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:57:23.9206561Z 2025-08-20 03:57:23.920 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:24.0421119Z 2025-08-20 03:57:24.033 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:24.0885820Z 2025-08-20 03:57:24.081 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:24.1817371Z 2025-08-20 03:57:24.166 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.8405ms with message 'Event Store connection failed'
2025-08-20T03:57:24.1817938Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:24.1817985Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:24.1818012Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:24.1818037Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:24.1818065Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:24.1818104Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:24.1818129Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:24.1818154Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:24.1818248Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:24.1818274Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:24.1818299Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:24.1818357Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:24.1818390Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:24.1818420Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:24.1818454Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:24.1818478Z 2025-08-20 03:57:24.167 +00:00 [INF] All configurations are valid
2025-08-20T03:57:24.2557979Z 2025-08-20 03:57:24.233 +00:00 [ERR] Health check database with status Unhealthy completed after 150.2638ms with message 'Database connection failed'
2025-08-20T03:57:24.2558476Z 2025-08-20 03:57:24.253 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:24.2756985Z 2025-08-20 03:57:24.262 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:0000000B": An unhandled exception was thrown by the application.
2025-08-20T03:57:24.2775781Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:24.2776032Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:24.2776065Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:24.2776092Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:24.2776127Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:24.2776155Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:24.2776183Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:24.2776211Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:24.2776280Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:24.2776308Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:24.2776337Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:57:24.2776364Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:24.2776392Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:24.2776419Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:24.2776448Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:24.2776477Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:24.2776505Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:24.2776554Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:24.2776583Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:24.2776608Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:24.2776633Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:24.2776666Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:24.2776693Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:24.5510717Z 2025-08-20 03:57:24.543 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - null null
2025-08-20T03:57:25.2303007Z 2025-082025-08-20T03:57:25.9179266Z 2025-08-20 03:57:25.885 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:25.9257206Z 2025-08-20 03:57:25.912 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:25.9740133Z 2025-08-20 03:57:25.973 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:26.0074603Z 2025-08-20 03:57:25.976 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1216ms with message 'Database connection failed'
2025-08-20T03:57:26.0224465Z 2025-08-20 03:57:26.021 +00:00 [INF] All configurations are valid
2025-08-20T03:57:26.2533602Z 2025-08-20 03:57:26.210 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 164.2168ms with message 'Event Store connection failed'
2025-08-20T03:57:26.2534200Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:26.2534248Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:26.2534325Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:26.2534353Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:26.2534382Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:26.2534412Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:26.2534437Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:26.2534462Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:26.2534485Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:26.2534512Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:26.2534536Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:26.2534565Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:26.2534617Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:26.2534648Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:26.2534681Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:26.2730728Z 2025-08-20 03:57:26.272 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:26.2994174Z 2025-08-20 03:57:26.275 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:0000000C": An unhandled exception was thrown by the application.
2025-08-20T03:57:26.2996034Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:26.2996884Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:26.2997058Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:26.2997754Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:26.2998475Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:26.2998557Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:26.2999107Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:26.2999181Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:26.2999848Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:26.3000629Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:26.3000723Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:57:26.3001406Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:26.3001553Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:26.3002505Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:26.3002589Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:26.3004209Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:26.3005104Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:26.3005182Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:26.3005895Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:26.3005970Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:26.3005996Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:26.3006703Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:26.3007412Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:26.3422377Z 2025-08-20 03:57:26.341 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 466.1949ms
2025-08-20T03:57:29.4125028Z 2025-08-20 03:57:29.405 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:29.4152005Z 2025-08-20 03:57:29.415 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:29.5726409Z 2025-08-20 03:57:29.568 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:29.5807604Z 2025-08-20 03:57:29.580 +00:00 [INF] All configurations are valid
2025-08-20T03:57:29.5828542Z 2025-08-20 03:57:29.478 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 47.0767ms with message 'Event Store connection failed'
2025-08-20T03:57:29.5829043Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:29.6128817Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:29.6130215Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:29.6131015Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:29.6131094Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:29.6131127Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:29.6131154Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:29.6131178Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:29.6131202Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:29.6131229Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:29.6131253Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:29.6131313Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:29.6131343Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:29.6131374Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:29.6131409Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:29.6373076Z 2025-08-20 03:57:29.628 +00:00 [ERR] Health check database with status Unhealthy completed after 124.8844ms with message 'Database connection failed'
2025-08-20T03:57:29.6942106Z 2025-08-20 03:57:29.670 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:29.6942668Z 2025-08-20 03:57:29.676 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:0000000D": An unhandled exception was thrown by the application.
2025-08-20T03:57:29.6942788Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:29.6942823Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:29.6942850Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:29.6942876Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:29.6942911Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:29.6942939Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:29.6942968Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:29.6942996Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:29.6943024Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:29.6943107Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:29.6943136Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:57:29.6943163Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:29.6943192Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:29.6943219Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:29.6943248Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:29.6943277Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:29.6943304Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:29.6943332Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:29.6943383Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:29.6943408Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:29.6943434Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:29.6943465Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:29.6943492Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:29.7063453Z 2025-08-20 03:57:29.706 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 300.8591ms
2025-08-20T03:57:34.7518376Z 2025-08-20 03:57:34.745 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:34.7529831Z 2025-08-20 03:57:34.752 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:34.7717378Z 2025-08-20 03:57:34.771 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8592ms with message 'Event Store connection failed'
2025-08-20T03:57:34.7717695Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:34.7803641Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:34.7803916Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:34.7805273Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:34.7805361Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:34.7806024Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:34.7806098Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:34.7806884Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:34.7806956Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:34.7806984Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:34.7860881Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:34.7861089Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:34.8128276Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:34.8128800Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:34.8128960Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:34.8203204Z 2025-08-20 03:57:34.797 +00:00 [ERR] Health check database with status Unhealthy completed after 1.4872ms with message 'Database connection failed'
2025-08-20T03:57:34.8203554Z 2025-08-20 03:57:34.772 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:34.8622665Z 2025-08-20 03:57:34.856 +00:00 [INF] All configurations are valid
2025-08-20T03:57:34.8714617Z 2025-08-20 03:57:34.871 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:34.8811465Z 2025-08-20 03:57:34.879 +00:00 [ERR] Connection id "0HNEVJLMB9A98", Request id "0HNEVJLMB9A98:0000000E": An unhandled exception was thrown by the application.
2025-08-20T03:57:34.8870889Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:34.8872709Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:34.8872820Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:34.8873570Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:34.8874470Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:34.8874710Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:34.8875405Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:34.8875674Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:34.8877314Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:34.8878129Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:34.8878222Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:57:34.8879067Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:34.8879308Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:34.8879994Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:34.8880126Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:34.8880970Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:34.8881855Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:34.8882345Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:34.8883487Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:34.8883586Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:34.8883617Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:34.8884307Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:34.8885229Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:34.9045567Z 2025-08-20 03:57:34.904 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 159.254ms
2025-08-20T03:57:37.8836842Z 2025-08-20 03:57:37.882 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:57:37.9033417Z 2025-08-20 03:57:37.900 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 18.0221ms
2025-08-20T03:57:37.9099279Z 2025-08-20 03:57:37.909 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:57:39.4773466Z 2025-08-20 03:57:39.477 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:39.4965151Z 2025-08-20 03:57:39.492 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:39.5724108Z 2025-08-20 03:57:39.543 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:39.7272842Z 2025-08-20 03:57:39.726 +00:00 [INF] All configurations are valid
2025-08-20T03:57:40.4833438Z 2025-08-20 03:57:40.482 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:40.4912264Z 2025-08-20 03:57:40.490 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:41.4974420Z 2025-08-20 03:57:41.497 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:41.5133163Z 2025-08-20 03:57:41.512 +00:00 [INF] All configurations are valid
2025-08-20T03:57:43.6096162Z 2025-08-20 03:57:43.608 +00:00 [ERR] Health check database with status Unhealthy completed after 2077.2396ms with message 'Database connection failed'
2025-08-20T03:57:43.6176999Z 2025-08-20 03:57:43.614 +00:00 [ERR] Health check database with status Unhealthy completed after 3602.9916ms with message 'Database connection failed'
2025-08-20T03:57:43.6410813Z 2025-08-20 03:57:43.614 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 3098.0917ms with message 'Event Store connection failed'
2025-08-20T03:57:43.6411638Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:43.6411684Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:43.6411711Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:43.6411737Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:43.6411764Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:43.6411795Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:43.6411819Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:43.6411843Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:43.6411867Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:43.6411894Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:43.6411943Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:43.6411973Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:43.6412003Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:43.6412033Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:43.6412091Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:43.6622290Z 2025-08-20 03:57:43.613 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 3593.9662ms with message 'Event Store connection failed'
2025-08-20T03:57:43.6622796Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:43.6622924Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:43.6622956Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:43.6623009Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:43.6623037Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:43.6623067Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:43.6623092Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:43.6623116Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:43.6623140Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:43.6623166Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:43.6623210Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:43.6623241Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:43.6623271Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:43.6623301Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:43.6623335Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:43.6623359Z 2025-08-20 03:57:43.659 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:43.6827215Z 2025-08-20 03:57:43.681 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:43.6923654Z 2025-08-20 03:57:43.688 +00:00 [ERR] Connection id "0HNEVJMLUC14E", Request id "0HNEVJMLUC14E:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:57:43.6924181Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:43.6924221Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:43.6924251Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:43.6924277Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:43.6924311Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:43.6924368Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:57:43.6924396Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:43.6924447Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:43.6924476Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:43.6924502Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:43.6924528Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:57:43.6924557Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:57:43.6924583Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:57:43.6924611Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:43.6924639Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:43.6924665Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:43.6924713Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:43.6924743Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:43.6924771Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:43.6924796Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:43.6924823Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:43.6924848Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:43.6924873Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:43.6924904Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:43.6924931Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:43.6924980Z 2025-08-20 03:57:43.682 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:57:43.6925224Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:43.6925262Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:43.6925289Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:43.6925315Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:43.6925349Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:43.6925378Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
