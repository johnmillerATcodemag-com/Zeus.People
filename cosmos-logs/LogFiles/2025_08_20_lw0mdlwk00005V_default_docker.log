2025-08-20T03:57:43.6925435Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:43.6925464Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:43.6925492Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:43.6925519Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:43.6925544Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:57:43.6925579Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:57:43.6925605Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:57:43.6925632Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:43.6925680Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:43.6925707Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:43.6925735Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:43.6925764Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:43.6925792Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:43.6925818Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:43.6925845Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:43.6925869Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:43.6925894Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:43.6925947Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:43.6925974Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:43.7035097Z 2025-08-20 03:57:43.697 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 4220.3301ms
2025-08-20T03:57:43.7133381Z 2025-08-20 03:57:43.707 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 3225.1267ms
2025-08-20T03:57:48.7434175Z 2025-08-20 03:57:48.742 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:48.7456321Z 2025-08-20 03:57:48.744 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:48.7529492Z 2025-08-20 03:57:48.752 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:48.7573897Z 2025-08-20 03:57:48.757 +00:00 [INF] All configurations are valid
2025-08-20T03:57:48.9179760Z 2025-08-20 03:57:48.917 +00:00 [ERR] Health check database with status Unhealthy completed after 155.5054ms with message 'Database connection failed'
2025-08-20T03:57:48.9190344Z 2025-08-20 03:57:48.917 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 159.4558ms with message 'Event Store connection failed'
2025-08-20T03:57:48.9190618Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:48.9197293Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:48.9197524Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:48.9212385Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:48.9212845Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:48.9219290Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:48.9219517Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:48.9223363Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:48.9223595Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:48.9223670Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:48.9227859Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:48.9228082Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:48.9235523Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:48.9296039Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:48.9296269Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:48.9310420Z 2025-08-20 03:57:48.930 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:48.9391682Z 2025-08-20 03:57:48.938 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:57:48.9392057Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:48.9392097Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:48.9392132Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:48.9392164Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:48.9392203Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:48.9392236Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:48.9392269Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:48.9392325Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:48.9392360Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:48.9392392Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:48.9392422Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:57:48.9392456Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:57:48.9392488Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:57:48.9392519Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:48.9392552Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:48.9392583Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:48.9392638Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:48.9392673Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:48.9392705Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:48.9392735Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:48.9392767Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:48.9392797Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:48.9392826Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:48.9392862Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:48.9392894Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:48.9540542Z 2025-08-20 03:57:48.946 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 203.4444ms
2025-08-20T03:57:53.9782809Z 2025-08-20 03:57:53.977 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:57:53.9794999Z 2025-08-20 03:57:53.979 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:57:53.9855685Z 2025-08-20 03:57:53.985 +00:00 [INF] Starting configuration status health check
2025-08-20T03:57:53.9941597Z 2025-08-20 03:57:53.993 +00:00 [INF] All configurations are valid
2025-08-20T03:57:53.9955813Z 2025-08-20 03:57:53.995 +00:00 [ERR] Health check database with status Unhealthy completed after 2.2728ms with message 'Database connection failed'
2025-08-20T03:57:54.0009265Z 2025-08-20 03:57:53.987 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0557ms with message 'Event Store connection failed'
2025-08-20T03:57:54.0009753Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:57:54.0009793Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:57:54.0009819Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:57:54.0009844Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:57:54.0009874Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:57:54.0009905Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:57:54.0009929Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:57:54.0009954Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:57:54.0009978Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:57:54.0010025Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:57:54.0010050Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:57:54.0010080Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:57:54.0010113Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:57:54.0010144Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:57:54.0010179Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:57:54.0037625Z 2025-08-20 03:57:54.003 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:57:54.0086737Z 2025-08-20 03:57:54.004 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:00000003": An unhandled exception was thrown by the application.
2025-08-20T03:57:54.0086968Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:57:54.0087066Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:57:54.0087096Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:54.0087123Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:57:54.0087157Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:57:54.0087185Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:54.0087214Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:57:54.0087242Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:57:54.0087291Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:57:54.0087318Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:57:54.0087344Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:57:54.0087372Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:57:54.0087400Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:57:54.0087427Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:57:54.0087456Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:54.0087485Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:57:54.0087515Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:57:54.0087560Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:57:54.0087588Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:57:54.0087614Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:54.0087640Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:57:54.0087672Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:57:54.0087698Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:57:54.0245408Z 2025-08-20 03:57:54.019 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 35.017ms
2025-08-20T03:57:59.0413207Z 2025-08-20 03:57:59.040 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:00.6021005Z 2025-08-20 03:57:59.053 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:00.6021290Z 2025-08-20 03:57:59.055 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:00.6021322Z 2025-08-20 03:57:59.061 +00:00 [INF] All configurations are valid
2025-08-20T03:58:00.6021351Z 2025-08-20 03:57:59.062 +00:00 [ERR] Health check database with status Unhealthy completed after 2.2082ms with message 'Database connection failed'
2025-08-20T03:58:00.6021380Z 2025-08-20 03:57:59.070 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.6918ms with message 'Event Store connection failed'
2025-08-20T03:58:00.6021405Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:00.6021436Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:00.6021495Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:00.6021520Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:00.6021547Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:00.6021579Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:00.6021604Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:00.6021629Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:00.6021653Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:00.6021679Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:00.6021704Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:00.6021756Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:00.6021786Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:00.6021818Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:00.6021853Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:00.6021878Z 2025-08-20 03:57:59.086 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:00.6021906Z 2025-08-20 03:57:59.093 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:58:00.6021941Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:00.6021972Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:00.6022090Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:00.6022117Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:00.6022151Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:00.6022180Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:00.6022209Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:00.6022499Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:00.6022534Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:00.6022562Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:00.6022589Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:58:00.6022638Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:00.6022666Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:00.6022693Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:00.6022722Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:00.6022751Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:00.6022780Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:00.6022806Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:00.6022834Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:00.6022860Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:00.6022907Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:00.6022939Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:00.6022966Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:00.6022995Z 2025-08-20 03:57:59.105 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 65.3326ms
2025-08-20T03:58:04.4906451Z 2025-08-20 03:58:04.490 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:04.5413371Z 2025-08-20 03:58:04.536 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:04.5460902Z 2025-08-20 03:58:04.545 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:04.6152536Z 2025-08-20 03:58:04.597 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 40.9109ms with message 'Event Store connection failed'
2025-08-20T03:58:04.6152875Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:04.6152911Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:04.6152938Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:04.6152962Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:04.6152989Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:04.6153020Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:04.6153045Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:04.6153069Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:04.6153120Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:04.6153147Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:04.6153172Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:04.6153202Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:04.6153231Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:04.6153263Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:04.6153297Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:04.6396491Z 2025-08-20 03:58:04.622 +00:00 [ERR] Health check database with status Unhealthy completed after 8.8039ms with message 'Database connection failed'
2025-08-20T03:58:04.6396798Z 2025-08-20 03:58:04.623 +00:00 [INF] All configurations are valid
2025-08-20T03:58:04.6763113Z 2025-08-20 03:58:04.640 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:04.7546883Z 2025-08-20 03:58:04.725 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:58:04.7547242Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:04.7547284Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:04.7547313Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:04.7547341Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:04.7547375Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:04.7547410Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:04.7547502Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:04.7547530Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:04.7547559Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:04.7547587Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:04.7547616Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:58:04.7547643Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:04.7547671Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:04.7547702Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:04.7547754Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:04.7547784Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:04.7547813Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:04.7547839Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:04.7547866Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:04.7547891Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:04.7547916Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:04.7547947Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:04.7547974Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:04.7693995Z 2025-08-20 03:58:04.768 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 279.0065ms
2025-08-20T03:58:09.8038042Z 2025-08-20 03:58:09.803 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:09.8109506Z 2025-08-20 03:58:09.810 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:09.8272800Z 2025-08-20 03:58:09.826 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:09.8620639Z 2025-08-20 03:58:09.834 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2933ms with message 'Database connection failed'
2025-08-20T03:58:09.8620963Z 2025-08-20 03:58:09.850 +00:00 [INF] All configurations are valid
2025-08-20T03:58:09.8621002Z 2025-08-20 03:58:09.843 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.9331ms with message 'Event Store connection failed'
2025-08-20T03:58:09.8621029Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:09.8621067Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:09.8621166Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:09.8621194Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:09.8621221Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:09.8621252Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:09.8621277Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:09.8621302Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:09.8621326Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:09.8621351Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:09.8621376Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:09.8621407Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:09.8621459Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:09.8621491Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:09.8621525Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:09.8675306Z 2025-08-20 03:58:09.866 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:09.8689864Z 2025-08-20 03:58:09.867 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:00000006": An unhandled exception was thrown by the application.
2025-08-20T03:58:09.8690061Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:09.8690098Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:09.8690882Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:09.8691014Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:09.8691051Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:09.8691079Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:09.8691109Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:09.8691236Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:09.8691363Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:09.8691393Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:09.8691421Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:58:09.8691480Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:09.8691510Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:09.8691536Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:09.8691566Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:09.8691595Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:09.8691624Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:09.8691649Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:09.8691677Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:09.8691702Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:09.8691748Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:09.8691780Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:09.8691808Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:09.8791677Z 2025-08-20 03:58:09.876 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 73.3282ms
2025-08-20T03:58:14.8992436Z 2025-08-20 03:58:14.898 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:14.9101569Z 2025-08-20 03:58:14.909 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:14.9179045Z 2025-08-20 03:58:14.917 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:14.9201223Z 2025-08-20 03:58:14.919 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1804ms with message 'Database connection failed'
2025-08-20T03:58:14.9396792Z 2025-08-20 03:58:14.939 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 18.5887ms with message 'Event Store connection failed'
2025-08-20T03:58:14.9397304Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:14.9658180Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:14.9658520Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:14.9663620Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:14.9663733Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:14.9663768Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:14.9663795Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:14.9663819Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:14.9663842Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:14.9663869Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:14.9663894Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:14.9663923Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:14.9663985Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:14.9664018Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:14.9664052Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:14.9665727Z 2025-08-20 03:58:14.948 +00:00 [INF] All configurations are valid
2025-08-20T03:58:15.0057853Z 2025-08-20 03:58:15.005 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:15.0735391Z 2025-08-20 03:58:15.067 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:58:15.0736105Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:15.0736233Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:15.0736263Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:15.0736290Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:15.0736325Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:15.0736353Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:15.0736383Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:15.0736412Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:15.0736440Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:15.0736479Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:15.0736530Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:58:15.0736558Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:15.0736587Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:15.0736614Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:15.0736643Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:15.0736673Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:15.0736701Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:15.0736727Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:15.0736775Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:15.0736801Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:15.0736826Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:15.0736858Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:15.0736885Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:15.1123251Z 2025-08-20 03:58:15.109 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 210.622ms
2025-08-20T03:58:20.1549906Z 2025-08-20 03:58:20.152 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:20.1632209Z 2025-08-20 03:58:20.158 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:20.1716263Z 2025-08-20 03:58:20.165 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:20.1721586Z 2025-08-20 03:58:20.172 +00:00 [INF] All configurations are valid
2025-08-20T03:58:20.1738738Z 2025-08-20 03:58:20.173 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1198ms with message 'Database connection failed'
2025-08-20T03:58:20.1812344Z 2025-08-20 03:58:20.167 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9884ms with message 'Event Store connection failed'
2025-08-20T03:58:20.1812735Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:20.1812779Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:20.1812806Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:20.1812831Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:20.1812937Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:20.1812970Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:20.1812996Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:20.1813020Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:20.1813045Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:20.1813071Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:20.1813096Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:20.1813125Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:20.1813154Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:20.1813208Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:20.1813244Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:20.1910628Z 2025-08-20 03:58:20.190 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:20.1933293Z 2025-08-20 03:58:20.192 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:00000008": An unhandled exception was thrown by the application.
2025-08-20T03:58:20.1933496Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:20.1933531Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:20.1933558Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:20.1933584Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:20.1934890Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:20.1934996Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:20.1935029Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:20.1935058Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:20.1935087Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:20.1935113Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:20.1935140Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:58:20.1935167Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:20.1935196Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:20.1935251Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:20.1935281Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:20.1935309Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:20.1935338Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:20.1935364Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:20.1935391Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:20.1935415Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:20.1935440Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:20.1935471Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:20.1935523Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:20.1989076Z 2025-08-20 03:58:20.198 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 46.3295ms
2025-08-20T03:58:24.1046833Z    _____                               
2025-08-20T03:58:24.1048785Z   /  _  \ __________ _________   ____  
2025-08-20T03:58:24.1048911Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:58:24.1048943Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:58:24.1048972Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:58:24.1049012Z         \/      \/                  \/ 
2025-08-20T03:58:24.1049041Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:58:24.1049068Z 
2025-08-20T03:58:24.1049104Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:58:24.1049161Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:58:24.1049191Z ASP .NETCore Version: 8.0.18
2025-08-20T03:58:24.1049221Z Note: Any data outside '/home' is not persisted
2025-08-20T03:58:25.2259623Z 2025-08-20 03:58:25.217 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:25.2442816Z 2025-08-20 03:58:25.229 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:25.2545429Z 2025-08-20 03:58:25.253 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1066ms with message 'Database connection failed'
2025-08-20T03:58:25.2592915Z 2025-08-20 03:58:25.256 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.6251ms with message 'Event Store connection failed'
2025-08-20T03:58:25.2593194Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:25.2593234Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:25.2593266Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:25.2593295Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:25.2593404Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:25.2593437Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:25.2593462Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:25.2593486Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:25.2593512Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:25.2593539Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:25.2593564Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:25.2593594Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:25.2593625Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:25.2593677Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:25.2593713Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:25.2609293Z 2025-08-20 03:58:25.260 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:25.2659058Z 2025-08-20 03:58:25.265 +00:00 [INF] All configurations are valid
2025-08-20T03:58:25.2942543Z 2025-08-20 03:58:25.294 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:25.2957846Z 2025-08-20 03:58:25.295 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:00000009": An unhandled exception was thrown by the application.
2025-08-20T03:58:25.2958824Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:25.2959799Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:25.2959880Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:25.3013203Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:25.3013417Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:25.3013449Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:25.3013480Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:25.3013510Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:25.3013541Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:25.3013774Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:25.3013802Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:58:25.3013829Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:25.3013857Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:25.3013885Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:25.3013916Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:25.3013944Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:25.3013973Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:25.3014000Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:25.3014050Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:25.3014075Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:25.3014100Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:25.3014132Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:25.3014160Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:25.3129207Z 2025-08-20 03:58:25.312 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 95.6865ms
2025-08-20T03:58:26.5300514Z 2025-08-20 03:58:26.448 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:26.5300882Z 2025-08-20 03:58:26.472 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:26.6193426Z 2025-08-20 03:58:26.592 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:26.6985561Z 2025-08-20 03:58:26.645 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.5294ms with message 'Event Store connection failed'
2025-08-20T03:58:26.6985921Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:26.6985965Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:26.6985992Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:26.6986024Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:26.6986052Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:26.6986084Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:26.6986109Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:26.6986329Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:26.6986358Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:26.6986385Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:26.6986410Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:26.6986439Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:26.6986469Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:26.6986501Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:26.6986535Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:26.7428624Z 2025-08-20 03:58:26.728 +00:00 [INF] All configurations are valid
2025-08-20T03:58:26.7683986Z 2025-08-20 03:58:26.758 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1269ms with message 'Database connection failed'
2025-08-20T03:58:26.8193022Z 2025-08-20 03:58:26.802 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:26.8193344Z 2025-08-20 03:58:26.805 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:0000000A": An unhandled exception was thrown by the application.
2025-08-20T03:58:26.8193390Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:26.8193424Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:26.8193454Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:26.8193481Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:26.8193553Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:26.8193582Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:26.8193612Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:26.8193640Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:26.8193669Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:26.8193695Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:26.8193724Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:58:26.8193752Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:26.8193780Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:26.8193833Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:26.8193863Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:26.8193893Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:26.8193921Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:26.8193947Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:26.8193975Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:26.8194001Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:26.8194025Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:26.8194057Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:26.8194105Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:26.8277813Z 2025-08-20 03:58:26.820 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 384.9774ms
2025-08-20T03:58:27.7749705Z 2025-08-20 03:58:27.768 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:58:27.7844677Z 2025-08-20 03:58:27.783 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 16.347ms
2025-08-20T03:58:27.8039243Z 2025-08-20 03:58:27.798 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:58:29.3055560Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T03:58:29.3219352Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T03:58:29.3781580Z Updating certificates in /etc/ssl/certs...
2025-08-20T03:58:30.3837877Z 2025-08-20 03:58:30.377 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:30.4122301Z 2025-08-20 03:58:30.402 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:30.4204208Z 2025-08-20 03:58:30.413 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:30.4651660Z 2025-08-20 03:58:30.464 +00:00 [ERR] Health check database with status Unhealthy completed after 51.1057ms with message 'Database connection failed'
2025-08-20T03:58:30.4793586Z 2025-08-20 03:58:30.473 +00:00 [INF] All configurations are valid
2025-08-20T03:58:30.4794113Z 2025-08-20 03:58:30.421 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 9.8359ms with message 'Event Store connection failed'
2025-08-20T03:58:30.4794148Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:30.4794183Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:30.4794213Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:30.4794316Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:30.4794346Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:30.4794377Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:30.4794404Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:30.4794428Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:30.4794452Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:30.4794479Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:30.4794503Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:30.4794534Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:30.4794564Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:30.4794620Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:30.4794657Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:30.5234216Z 2025-08-20 03:58:30.523 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:30.5418103Z 2025-08-20 03:58:30.540 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:0000000C": An unhandled exception was thrown by the application.
2025-08-20T03:58:30.5484665Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:30.5513723Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:30.5513992Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:30.5572384Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:30.5581419Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:30.5581646Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:30.5595887Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:30.5596136Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:30.5599879Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:30.5742771Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:30.5743317Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:58:30.5754658Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:30.5754889Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:30.5762718Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:30.5762920Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:30.5769622Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:30.5844026Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:30.5844263Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:30.5844371Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:30.5844397Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:30.5844423Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:30.5844456Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:30.5844483Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:30.5909289Z 2025-08-20 03:58:30.584 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 212.8773ms
2025-08-20T03:58:35.6879566Z 2025-08-20 03:58:35.686 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:35.7157987Z 2025-08-20 03:58:35.704 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:35.7274679Z 2025-08-20 03:58:35.718 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9156ms with message 'Event Store connection failed'
2025-08-20T03:58:35.7275236Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:35.7931978Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:35.7932533Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:35.7932574Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:35.7932648Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:35.7932689Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:35.7933648Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:35.7933748Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:35.7933775Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:35.7933802Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:35.7933826Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:35.7933857Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:35.7933886Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:35.7933921Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:35.7933955Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:35.7934007Z 2025-08-20 03:58:35.748 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:35.8062086Z 2025-08-20 03:58:35.798 +00:00 [ERR] Health check database with status Unhealthy completed after 4.0865ms with message 'Database connection failed'
2025-08-20T03:58:35.8333057Z 2025-08-20 03:58:35.825 +00:00 [INF] All configurations are valid
2025-08-20T03:58:35.8669047Z 2025-08-20 03:58:35.866 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:35.8956911Z 2025-08-20 03:58:35.875 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:0000000D": An unhandled exception was thrown by the application.
2025-08-20T03:58:35.8957224Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:35.8957260Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:35.8957287Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:35.8957318Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:35.8957357Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:35.8957457Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:35.8957488Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:35.8957515Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:35.8957543Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:35.8957571Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:35.8957599Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:58:35.8957626Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:35.8957655Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:35.8957683Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:35.8957741Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:35.8957770Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:35.8957800Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:35.8957826Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:35.8957853Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:35.8957878Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:35.8957903Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:35.8957935Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:35.8957962Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:35.9226717Z 2025-08-20 03:58:35.922 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 235.711ms
2025-08-20T03:58:37.5853900Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T03:58:37.6128725Z 4 added, 0 removed; done.
2025-08-20T03:58:37.6129192Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T03:58:37.6308887Z done.
2025-08-20T03:58:37.6457784Z CA certificates copied and updated successfully.
2025-08-20T03:58:37.9187444Z Starting periodic command scheduler: cron.
2025-08-20T03:58:37.9219391Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T03:58:37.9568972Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T03:58:37.9570878Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T03:58:37.9572980Z Build Operation ID: fe58d9bd-7691-4fbb-ae31-d2422c62ba6b
2025-08-20T03:58:38.1943232Z 
2025-08-20T03:58:38.1945118Z Agent extension 
2025-08-20T03:58:38.1946060Z Before if loop >> DotNet Runtime 
2025-08-20T03:58:38.2517433Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T03:58:38.2942563Z Trying to find the startup DLL name...
2025-08-20T03:58:38.2945283Z Found the startup D name: Zeus.People.API.dll
2025-08-20T03:58:38.2945421Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T03:58:41.4791156Z 2025-08-20 03:58:41.337 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T03:58:41.9153216Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T03:58:42.9917591Z 2025-08-20 03:58:42.920 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:58:42.9918361Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:58:42.9918415Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:58:42.9918449Z    at System.Uri..ctor(String uriString)
2025-08-20T03:58:42.9918572Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:58:42.9918618Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:58:42.9918660Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:58:43.0459699Z 2025-08-20 03:58:43.040 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T03:58:43.0997953Z 2025-08-20 03:58:43.099 +00:00 [INF] Starting configuration validation...
2025-08-20T03:58:43.1398396Z 2025-08-20 03:58:43.139 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T03:58:43.1399116Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T03:58:43.1399167Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T03:58:43.1399202Z    at System.Uri..ctor(String uriString)
2025-08-20T03:58:43.1399244Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T03:58:43.1399373Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T03:58:43.1399416Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T03:58:43.1736447Z 2025-08-20 03:58:43.173 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T03:58:43.1818756Z 2025-08-20 03:58:43.174 +00:00 [INF] Key Vault connectivity verified
2025-08-20T03:58:43.2453111Z 2025-08-20 03:58:43.245 +00:00 [INF] Configuration validation completed successfully
2025-08-20T03:58:43.6084057Z 2025-08-20 03:58:43.603 +00:00 [INF] Starting Zeus.People API
2025-08-20T03:58:43.6632936Z 2025-08-20 03:58:43.657 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T03:58:44.0203831Z 2025-08-20 03:58:44.015 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T03:58:44.0315340Z 2025-08-20 03:58:44.031 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T03:58:44.0489279Z 2025-08-20 03:58:44.040 +00:00 [INF] Hosting environment: Staging
2025-08-20T03:58:44.0508799Z 2025-08-20 03:58:44.050 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T03:58:45.0429226Z 2025-08-20 03:58:45.035 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.5:8080/robots933456.txt - null null
2025-08-20T03:58:45.1727824Z 2025-08-20 03:58:45.167 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T03:58:45.3405641Z 2025-08-20 03:58:45.326 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.5:8080/robots933456.txt - 404 0 null 306.4802ms
2025-08-20T03:58:45.4016252Z 2025-08-20 03:58:45.389 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.5:8080/robots933456.txt, Response status code: 404
2025-08-20T03:58:45.4607924Z 2025-08-20 03:58:45.451 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:58:45.4862105Z 2025-08-20 03:58:45.474 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:58:45.5639890Z 2025-08-20 03:58:45.527 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1698ms with message 'Event Store connection failed'
2025-08-20T03:58:45.5640256Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:58:45.6597315Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:58:45.6597675Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:58:45.6597708Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:58:45.6597740Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:58:45.6597836Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:58:45.6597865Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:58:45.6597891Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:58:45.6597915Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:58:45.6597941Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:58:45.6597967Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:58:45.6597997Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:58:45.6598026Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:58:45.6598057Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:58:45.6598114Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:58:45.6598144Z 2025-08-20 03:58:45.529 +00:00 [ERR] Health check database with status Unhealthy completed after 0.8558ms with message 'Database connection failed'
2025-08-20T03:58:45.6598168Z 2025-08-20 03:58:45.530 +00:00 [INF] Starting configuration status health check
2025-08-20T03:58:45.7111984Z 2025-08-20 03:58:45.696 +00:00 [INF] All configurations are valid
2025-08-20T03:58:45.7616415Z 2025-08-20 03:58:45.746 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:58:45.7616689Z 2025-08-20 03:58:45.747 +00:00 [ERR] Connection id "0HNEVJMLUC14F", Request id "0HNEVJMLUC14F:0000000E": An unhandled exception was thrown by the application.
2025-08-20T03:58:45.7616732Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:58:45.7616763Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:58:45.7616828Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:45.7616856Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:58:45.7616891Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:58:45.7616919Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:45.7616948Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:58:45.7616975Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:58:45.7617004Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:58:45.7617031Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:58:45.7617059Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T03:58:45.7617118Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:58:45.7617147Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:58:45.7617174Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:58:45.7617206Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:45.7617234Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:58:45.7617263Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:58:45.7617288Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:58:45.7617317Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:58:45.7617342Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:45.7617390Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:58:45.7617422Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:58:45.7617449Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:58:45.7618348Z 2025-08-20 03:58:45.761 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 310.403ms
2025-08-20T03:58:53.0803196Z 2025-08-20 03:58:53.079 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T03:58:53.0927181Z 2025-08-20 03:58:53.090 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 11.8385ms
2025-08-20T03:58:53.1028732Z 2025-08-20 03:58:53.100 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T03:59:38.1976872Z 2025-08-20 03:59:38.196 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:59:38.1977619Z 2025-08-20 03:59:38.197 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:59:38.2582162Z 2025-08-20 03:59:38.224 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 27.6001ms
2025-08-20T03:59:38.2595928Z 2025-08-20 03:59:38.225 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 27.9278ms
2025-08-20T03:59:38.2596591Z 2025-08-20 03:59:38.237 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:59:38.2596635Z 2025-08-20 03:59:38.240 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:59:38.2857449Z 2025-08-20 03:59:38.252 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:59:38.3400596Z 2025-08-20 03:59:38.326 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:59:38.3400937Z 2025-08-20 03:59:38.332 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:59:38.3599058Z 2025-08-20 03:59:38.359 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 26.7436ms
2025-08-20T03:59:38.3669997Z 2025-08-20 03:59:38.366 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:59:38.4978928Z 2025-08-20 03:59:38.484 +00:00 [INF] Starting configuration status health check
2025-08-20T03:59:39.0873075Z 2025-08-20 03:59:39.078 +00:00 [INF] All configurations are valid
2025-08-20T03:59:44.2301115Z 2025-08-20 03:59:44.205 +00:00 [ERR] Health check database with status Unhealthy completed after 4669.5744ms with message 'Database connection failed'
2025-08-20T03:59:44.2782825Z 2025-08-20 03:59:44.197 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 4661.912ms with message 'Event Store connection failed'
2025-08-20T03:59:44.2783128Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:59:44.2783172Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:59:44.2783201Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:59:44.2783226Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:59:44.2783255Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:59:44.2783286Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:59:44.2783316Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:59:44.2783422Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:59:44.2783448Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:59:44.2783474Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:59:44.2783498Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:59:44.2783530Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:59:44.2783560Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:59:44.2783592Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:59:44.2783644Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:59:44.2925381Z 2025-08-20 03:59:44.286 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:59:44.3706587Z 2025-08-20 03:59:44.352 +00:00 [ERR] Connection id "0HNEVJNDV780T", Request id "0HNEVJNDV780T:00000001": An unhandled exception was thrown by the application.
2025-08-20T03:59:44.3707015Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:59:44.3707057Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:59:44.3707085Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:44.3707112Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:44.3707156Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:59:44.3707187Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T03:59:44.3707257Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:59:44.3707286Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:59:44.3707315Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:59:44.3707344Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:59:44.3707369Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:59:44.3707398Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:59:44.3707426Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:59:44.3707454Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:59:44.3707482Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:59:44.3707532Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:59:44.3707561Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:44.3707590Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:44.3707618Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:59:44.3707645Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:59:44.3707672Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:59:44.3707697Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:59:44.3707721Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:59:44.3707778Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:59:44.3707807Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:59:44.3961674Z 2025-08-20 03:59:44.388 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 6147.2898ms
2025-08-20T03:59:45.5402796Z 2025-08-20 03:59:45.532 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:59:45.5409707Z 2025-08-20 03:59:45.540 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:59:45.5678154Z 2025-08-20 03:59:45.558 +00:00 [INF] Starting configuration status health check
2025-08-20T03:59:45.5778023Z 2025-08-20 03:59:45.577 +00:00 [INF] All configurations are valid
2025-08-20T03:59:46.0794321Z 2025-08-20 03:59:46.078 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 518.1009ms with message 'Event Store connection failed'
2025-08-20T03:59:46.0794871Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:59:46.0796541Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:59:46.0796634Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:59:46.0797406Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:59:46.0797485Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:59:46.0798167Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:59:46.0798241Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:59:46.0798936Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:59:46.0799011Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:59:46.0799040Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:59:46.0799712Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:59:46.0799787Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:59:46.0800387Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:59:46.0801658Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:59:46.0802517Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:59:46.0957395Z 2025-08-20 03:59:46.095 +00:00 [ERR] Health check database with status Unhealthy completed after 535.923ms with message 'Database connection failed'
2025-08-20T03:59:46.1121265Z 2025-08-20 03:59:46.111 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:59:46.1371089Z 2025-08-20 03:59:46.119 +00:00 [ERR] Connection id "0HNEVJNDV780T", Request id "0HNEVJNDV780T:00000002": An unhandled exception was thrown by the application.
2025-08-20T03:59:46.1371662Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:59:46.1371709Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:59:46.1371737Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:46.1371774Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:46.1371987Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:59:46.1372020Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:59:46.1372054Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:59:46.1372083Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:59:46.1372112Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:59:46.1372141Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:59:46.1372167Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T03:59:46.1372199Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T03:59:46.1372255Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:59:46.1372283Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:59:46.1372367Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:59:46.1372394Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:59:46.1372423Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:46.1372456Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:46.1372485Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:59:46.1372511Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:59:46.1372579Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:59:46.1372606Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:59:46.1372631Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:59:46.1372662Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:59:46.1372690Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:59:46.1812336Z 2025-08-20 03:59:46.173 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 640.962ms
2025-08-20T03:59:48.1245748Z 2025-08-20 03:59:48.118 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:59:48.1411237Z 2025-08-20 03:59:48.135 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 17.2028ms
2025-08-20T03:59:48.1578193Z 2025-08-20 03:59:48.157 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:59:49.4094573Z 2025-08-20 03:59:49.409 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:59:49.4108374Z 2025-08-20 03:59:49.410 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:59:49.4199351Z 2025-08-20 03:59:49.416 +00:00 [INF] Starting configuration status health check
2025-08-20T03:59:49.4280928Z 2025-08-20 03:59:49.427 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.6827ms with message 'Event Store connection failed'
2025-08-20T03:59:49.4281480Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:59:49.4281521Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:59:49.4281547Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:59:49.4281572Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:59:49.4281599Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:59:49.4281630Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:59:49.4281655Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:59:49.4281681Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:59:49.4281704Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:59:49.4281753Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:59:49.4281780Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:59:49.4281810Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:59:49.4281840Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:59:49.4281870Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:59:49.4282064Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:59:49.4350292Z 2025-08-20 03:59:49.434 +00:00 [INF] All configurations are valid
2025-08-20T03:59:49.4522977Z 2025-08-20 03:59:49.451 +00:00 [ERR] Health check database with status Unhealthy completed after 7.487ms with message 'Database connection failed'
2025-08-20T03:59:49.4539422Z 2025-08-20 03:59:49.453 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:59:49.4601051Z 2025-08-20 03:59:49.458 +00:00 [ERR] Connection id "0HNEVJNDV780T", Request id "0HNEVJNDV780T:00000004": An unhandled exception was thrown by the application.
2025-08-20T03:59:49.4601576Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:59:49.4601614Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:59:49.4601641Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:49.4601675Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:49.4601718Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:59:49.4601746Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:59:49.4601860Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:59:49.4601890Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:59:49.4602257Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:59:49.4602293Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:59:49.4602319Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:59:49.4602347Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:59:49.4602375Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:59:49.4602402Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:59:49.4602432Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:49.4602558Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:49.4602587Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:59:49.4602613Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:59:49.4602640Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:59:49.4602667Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:59:49.4602692Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:59:49.4602724Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:59:49.4602751Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:59:49.4673015Z 2025-08-20 03:59:49.466 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 64.0971ms
2025-08-20T03:59:54.4994136Z 2025-08-20 03:59:54.491 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:59:54.5010498Z 2025-08-20 03:59:54.500 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:59:54.5067344Z 2025-08-20 03:59:54.506 +00:00 [INF] Starting configuration status health check
2025-08-20T03:59:54.5230406Z 2025-08-20 03:59:54.509 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2653ms with message 'Database connection failed'
2025-08-20T03:59:54.5240133Z 2025-08-20 03:59:54.523 +00:00 [INF] All configurations are valid
2025-08-20T03:59:54.5412456Z 2025-08-20 03:59:54.524 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9603ms with message 'Event Store connection failed'
2025-08-20T03:59:54.5413021Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:59:54.5413130Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:59:54.5413158Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:59:54.5413184Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:59:54.5413211Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:59:54.5413243Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:59:54.5413268Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:59:54.5413292Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:59:54.5413317Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:59:54.5413343Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:59:54.5413388Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:59:54.5413419Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:59:54.5413448Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:59:54.5413480Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:59:54.5413515Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:59:54.5494364Z 2025-08-20 03:59:54.549 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:59:54.5595661Z 2025-08-20 03:59:54.557 +00:00 [ERR] Connection id "0HNEVJNDV780T", Request id "0HNEVJNDV780T:00000005": An unhandled exception was thrown by the application.
2025-08-20T03:59:54.5596174Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:59:54.5596274Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:59:54.5596304Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:54.5596330Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:54.5596366Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:59:54.5596394Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:59:54.5596423Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:59:54.5596450Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:59:54.5596478Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:59:54.5596525Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:59:54.5596552Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:59:54.5596580Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:59:54.5596607Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:59:54.5596634Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:59:54.5596663Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:54.5596691Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:54.5596719Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T03:59:54.5596744Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T03:59:54.5596792Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T03:59:54.5596818Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T03:59:54.5596844Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T03:59:54.5596876Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T03:59:54.5596903Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T03:59:54.5759284Z 2025-08-20 03:59:54.575 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 83.3563ms
2025-08-20T03:59:58.1642604Z 2025-08-20 03:59:58.163 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T03:59:58.1897261Z 2025-08-20 03:59:58.185 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 21.0489ms
2025-08-20T03:59:58.1997395Z 2025-08-20 03:59:58.195 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T03:59:58.9163078Z    _____                               
2025-08-20T03:59:58.9165133Z   /  _  \ __________ _________   ____  
2025-08-20T03:59:58.9165215Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T03:59:58.9165248Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T03:59:58.9165280Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T03:59:58.9165320Z         \/      \/                  \/ 
2025-08-20T03:59:58.9165381Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T03:59:58.9165410Z 
2025-08-20T03:59:58.9165446Z Documentation: http://aka.ms/webapp-linux
2025-08-20T03:59:58.9165480Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T03:59:58.9165509Z ASP .NETCore Version: 8.0.18
2025-08-20T03:59:58.9165540Z Note: Any data outside '/home' is not persisted
2025-08-20T03:59:59.6073717Z 2025-08-20 03:59:59.605 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T03:59:59.6172900Z 2025-08-20 03:59:59.616 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T03:59:59.6323953Z 2025-08-20 03:59:59.632 +00:00 [INF] Starting configuration status health check
2025-08-20T03:59:59.6405298Z 2025-08-20 03:59:59.634 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1892ms with message 'Database connection failed'
2025-08-20T03:59:59.6596031Z 2025-08-20 03:59:59.659 +00:00 [INF] All configurations are valid
2025-08-20T03:59:59.6691818Z 2025-08-20 03:59:59.668 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.2148ms with message 'Event Store connection failed'
2025-08-20T03:59:59.6692278Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T03:59:59.6867469Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T03:59:59.6867979Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T03:59:59.6868833Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T03:59:59.6868918Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T03:59:59.6869453Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T03:59:59.6869526Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T03:59:59.6870016Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T03:59:59.6870087Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T03:59:59.6870149Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T03:59:59.6870660Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T03:59:59.6870737Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T03:59:59.6871219Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T03:59:59.6871744Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T03:59:59.6872272Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T03:59:59.7217714Z 2025-08-20 03:59:59.721 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T03:59:59.7303499Z 2025-08-20 03:59:59.729 +00:00 [ERR] Connection id "0HNEVJNDV780T", Request id "0HNEVJNDV780T:00000007": An unhandled exception was thrown by the application.
2025-08-20T03:59:59.7304175Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T03:59:59.7304226Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T03:59:59.7304257Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:59.7468072Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T03:59:59.7468395Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T03:59:59.7468429Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:59:59.7468461Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T03:59:59.7468553Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T03:59:59.7468626Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T03:59:59.7468654Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T03:59:59.7468681Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T03:59:59.7468709Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T03:59:59.7468736Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T03:59:59.7468765Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T03:59:59.7468793Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:59.7468844Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T03:59:59.7468873Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:00:00.5201225Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:00:00.5201512Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:00:00.5201565Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:00:00.5201591Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:00:00.5201625Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:00:00.5201653Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:00:00.5201683Z 2025-08-20 03:59:59.778 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 173.5437ms
2025-08-20T04:00:01.5663973Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T04:00:01.5999474Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T04:00:01.7041584Z Updating certificates in /etc/ssl/certs...
2025-08-20T04:00:04.8548201Z 2025-08-20 04:00:04.849 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:00:04.8666556Z 2025-08-20 04:00:04.866 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:00:04.9095126Z 2025-08-20 04:00:04.902 +00:00 [INF] Starting configuration status health check
2025-08-20T04:00:04.9366199Z 2025-08-20 04:00:04.919 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1903ms with message 'Database connection failed'
2025-08-20T04:00:04.9464006Z 2025-08-20 04:00:04.946 +00:00 [INF] All configurations are valid
2025-08-20T04:00:04.9707863Z 2025-08-20 04:00:04.920 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 48.0007ms with message 'Event Store connection failed'
2025-08-20T04:00:04.9708587Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:00:04.9719289Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:00:04.9719542Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:00:04.9719579Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:00:04.9719612Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:00:04.9719694Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:00:04.9719829Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:00:04.9719864Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:00:04.9719889Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:00:04.9719915Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:00:04.9719939Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:00:04.9719970Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:00:04.9720002Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:00:04.9720036Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:00:04.9720094Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:00:05.0057832Z 2025-08-20 04:00:04.998 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:00:05.0139425Z 2025-08-20 04:00:05.007 +00:00 [ERR] Connection id "0HNEVJNDV780T", Request id "0HNEVJNDV780T:00000008": An unhandled exception was thrown by the application.
2025-08-20T04:00:05.0229554Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:00:05.0236962Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:00:05.0237158Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:00:05.0240986Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:00:05.0247219Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:00:05.0247408Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:00:05.0319981Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:00:05.0320219Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:00:05.0320255Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:00:05.0320289Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:00:05.0320316Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:00:05.0320394Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:00:05.0320425Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:00:05.0320452Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:00:05.0320483Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:00:05.0320513Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:00:05.0320543Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:00:05.0320569Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:00:05.0321567Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:00:05.0321617Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:00:05.0321680Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:00:05.0321716Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:00:05.0321745Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:00:05.0493502Z 2025-08-20 04:00:05.049 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 236.0997ms
2025-08-20T04:00:08.1562841Z 2025-08-20 04:00:08.155 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:00:08.1772883Z 2025-08-20 04:00:08.163 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 7.7375ms
2025-08-20T04:00:08.1784311Z 2025-08-20 04:00:08.178 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:00:10.0828671Z 2025-08-20 04:00:10.082 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:00:10.0840589Z 2025-08-20 04:00:10.083 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:00:10.0852883Z 2025-08-20 04:00:10.085 +00:00 [INF] Starting configuration status health check
2025-08-20T04:00:10.0951105Z 2025-08-20 04:00:10.090 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1949ms with message 'Database connection failed'
2025-08-20T04:00:10.1045451Z 2025-08-20 04:00:10.103 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 13.1772ms with message 'Event Store connection failed'
2025-08-20T04:00:10.1046026Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:00:10.1046067Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:00:10.1046094Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:00:10.1046119Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:00:10.1046233Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:00:10.1046268Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:00:10.1046293Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:00:10.1046318Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:00:10.1046342Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:00:10.1046369Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:00:10.1046394Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:00:10.1046425Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:00:10.1046457Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:00:10.1046512Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:00:10.1046548Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:00:10.1118370Z 2025-08-20 04:00:10.109 +00:00 [INF] All configurations are valid
2025-08-20T04:00:10.1136183Z 2025-08-20 04:00:10.113 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:00:10.1209404Z 2025-08-20 04:00:10.114 +00:00 [ERR] Connection id "0HNEVJNDV780T", Request id "0HNEVJNDV780T:0000000A": An unhandled exception was thrown by the application.
2025-08-20T04:00:10.1209917Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:00:10.1209957Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:00:10.1209984Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:00:10.1210054Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:00:10.1210093Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:00:10.1210121Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:00:10.1210150Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:00:10.1210177Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:00:10.1210206Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:00:10.1210234Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:00:10.1210261Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:00:10.1210312Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:00:10.1210341Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:00:10.1210448Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:00:10.1210481Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:00:10.1210511Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:00:10.1210539Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:00:10.1210567Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:00:10.1210594Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:00:10.1210618Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:00:10.1210665Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:00:10.1210698Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:00:10.1210725Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:00:10.1298521Z 2025-08-20 04:00:10.129 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 47.154ms
2025-08-20T04:01:16.3414342Z    _____                               
2025-08-20T04:01:16.3485815Z   /  _  \ __________ _________   ____  
2025-08-20T04:01:16.3486135Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T04:01:16.3486173Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T04:01:16.3486209Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T04:01:16.3486276Z         \/      \/                  \/ 
2025-08-20T04:01:16.3486350Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T04:01:16.3486379Z 
2025-08-20T04:01:16.3486415Z Documentation: http://aka.ms/webapp-linux
2025-08-20T04:01:16.3486450Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T04:01:16.3486479Z ASP .NETCore Version: 8.0.18
2025-08-20T04:01:16.3486509Z Note: Any data outside '/home' is not persisted
2025-08-20T04:01:16.3486537Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T04:01:16.3486588Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T04:01:16.3486618Z Updating certificates in /etc/ssl/certs...
2025-08-20T04:01:23.6352765Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T04:01:23.6627538Z 4 added, 0 removed; done.
2025-08-20T04:01:23.6629808Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T04:01:23.6735791Z done.
2025-08-20T04:01:23.7042753Z CA certificates copied and updated successfully.
2025-08-20T04:01:24.0658520Z Starting periodic command scheduler: cron.
2025-08-20T04:01:24.0717156Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T04:01:24.1250270Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T04:01:24.1251058Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T04:01:24.1251189Z Build Operation ID: e5652d0f-57aa-4e04-89d7-1bbb8580abfb
2025-08-20T04:01:24.3850967Z 
2025-08-20T04:01:24.3851830Z Agent extension 
2025-08-20T04:01:24.3851895Z Before if loop >> DotNet Runtime 
2025-08-20T04:01:24.4209363Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T04:01:24.4479147Z Trying to find the startup DLL name...
2025-08-20T04:01:24.4480287Z Found the startup D name: Zeus.People.API.dll
2025-08-20T04:01:24.4490830Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T04:01:26.8888565Z 2025-08-20 04:01:26.808 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T04:01:27.2459790Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T04:01:28.0045195Z 2025-08-20 04:01:27.969 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:01:28.0045899Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:01:28.0048513Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:01:28.0048644Z    at System.Uri..ctor(String uriString)
2025-08-20T04:01:28.0049220Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:01:28.0049318Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:01:28.0049949Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:01:28.0298881Z 2025-08-20 04:01:28.029 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T04:01:28.0829956Z 2025-08-20 04:01:28.082 +00:00 [INF] Starting configuration validation...
2025-08-20T04:01:28.1112942Z 2025-08-20 04:01:28.110 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:01:28.1113823Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:01:28.1113952Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:01:28.1113987Z    at System.Uri..ctor(String uriString)
2025-08-20T04:01:28.1114024Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:01:28.1114065Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:01:28.1114107Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:01:28.1279838Z 2025-08-20 04:01:28.122 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T04:01:28.1290787Z 2025-08-20 04:01:28.128 +00:00 [INF] Key Vault connectivity verified
2025-08-20T04:01:28.1922620Z 2025-08-20 04:01:28.191 +00:00 [INF] Configuration validation completed successfully
2025-08-20T04:01:28.5614112Z 2025-08-20 04:01:28.560 +00:00 [INF] Starting Zeus.People API
2025-08-20T04:01:28.6039209Z 2025-08-20 04:01:28.603 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T04:01:28.9434816Z 2025-08-20 04:01:28.930 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T04:01:28.9435610Z 2025-08-20 04:01:28.930 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T04:01:28.9435662Z 2025-08-20 04:01:28.930 +00:00 [INF] Hosting environment: Staging
2025-08-20T04:01:28.9435694Z 2025-08-20 04:01:28.931 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T04:01:29.4348179Z 2025-08-20 04:01:29.426 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - null null
2025-08-20T04:01:29.5541766Z 2025-08-20 04:01:29.553 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T04:01:29.8495458Z 2025-08-20 04:01:29.840 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - 404 0 null 430.2989ms
2025-08-20T04:01:29.9038198Z 2025-08-20 04:01:29.902 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.2:8080/robots933456.txt, Response status code: 404
2025-08-20T04:01:42.3916941Z 2025-08-20 04:01:42.372 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T04:01:42.4088351Z 2025-08-20 04:01:42.399 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 28.119ms
2025-08-20T04:01:42.4088756Z 2025-08-20 04:01:42.400 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T04:01:42.9818495Z 2025-08-20 04:01:42.978 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:01:43.0842305Z 2025-08-20 04:01:43.075 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:01:43.0987323Z 2025-08-20 04:01:43.097 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:01:43.1162868Z 2025-08-20 04:01:43.104 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:01:43.1462827Z 2025-08-20 04:01:43.134 +00:00 [INF] Starting configuration status health check
2025-08-20T04:01:45.5775789Z 2025-08-20 04:01:45.577 +00:00 [INF] Starting configuration status health check
2025-08-20T04:01:45.9050194Z 2025-08-20 04:01:45.897 +00:00 [INF] All configurations are valid
2025-08-20T04:01:46.1027773Z 2025-08-20 04:01:46.099 +00:00 [INF] All configurations are valid
2025-08-20T04:01:50.3230743Z 2025-08-20 04:01:50.322 +00:00 [ERR] Health check database with status Unhealthy completed after 4987.7613ms with message 'Database connection failed'
2025-08-20T04:01:50.3330299Z 2025-08-20 04:01:50.332 +00:00 [ERR] Health check database with status Unhealthy completed after 4225.5585ms with message 'Database connection failed'
2025-08-20T04:01:50.3426804Z 2025-08-20 04:01:50.313 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 5323.8373ms with message 'Event Store connection failed'
2025-08-20T04:01:50.3427357Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:01:50.3438954Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:01:50.3439108Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:01:50.3439137Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:01:50.3439165Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:01:50.3439197Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:01:50.3439222Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:01:50.3439247Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:01:50.3439271Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:01:50.3439297Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:01:50.3439359Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:01:50.3439391Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:01:50.3439420Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:01:50.3439451Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:01:50.3439497Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:01:50.3611435Z 2025-08-20 04:01:50.314 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 4410.1446ms with message 'Event Store connection failed'
2025-08-20T04:01:50.3611845Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:01:50.3624117Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:01:50.3785796Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:01:50.3792779Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:01:50.3803331Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:01:50.3954604Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:01:50.3954807Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:01:50.3954838Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:01:50.3954866Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:01:50.3954895Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:01:50.3954954Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:01:50.3954986Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:01:50.3955016Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:01:50.3955050Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:01:50.3955089Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:01:53.5998057Z 2025-08-20 04:01:53.594 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:01:53.6004287Z 2025-08-20 04:01:53.597 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:01:53.6237666Z 2025-08-20 04:01:53.617 +00:00 [ERR] Connection id "0HNEVJOUUR4VJ", Request id "0HNEVJOUUR4VJ:00000001": An unhandled exception was thrown by the application.
2025-08-20T04:01:53.6239473Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:01:53.6240159Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:01:53.6240237Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:01:53.6240758Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:01:53.6241304Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:01:53.6241375Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T04:01:53.6242196Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:01:53.6242928Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:01:53.6243006Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:01:53.6243544Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:01:53.6243610Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:01:53.6244107Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:01:53.6244176Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:01:53.6244666Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:01:53.6244767Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:01:53.6245271Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:01:53.6245370Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:01:53.6245878Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:01:53.6246412Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:01:53.6246479Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:01:53.6247077Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:01:53.6247144Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:01:53.6247170Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:01:53.6247671Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:01:53.6248196Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:01:53.6303686Z 2025-08-20 04:01:53.616 +00:00 [ERR] Connection id "0HNEVJOUUR4VI", Request id "0HNEVJOUUR4VI:00000002": An unhandled exception was thrown by the application.
2025-08-20T04:01:53.6304674Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:01:53.6305328Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:01:53.6305403Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:01:53.6305933Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:01:53.6306493Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:01:53.6306563Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T04:01:53.6307066Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:01:53.6307688Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:01:53.6307795Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:01:53.6308311Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:01:53.6308377Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:01:53.6308881Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:01:53.6308948Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:01:53.6309440Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:01:53.6309508Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:01:53.6310036Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:01:53.6310105Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:01:53.6310606Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:01:53.6311147Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:01:53.6311214Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:01:53.6311724Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:01:53.6311789Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:01:53.6311816Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:01:53.6313798Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:01:53.6314463Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:01:53.6376222Z 2025-08-20 04:01:53.637 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 10659.4287ms
2025-08-20T04:01:53.6449525Z 2025-08-20 04:01:53.642 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 10566.4854ms
2025-08-20T04:02:16.8144828Z 2025-08-20 04:02:16.813 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:16.8164533Z 2025-08-20 04:02:16.815 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:16.8305934Z 2025-08-20 04:02:16.829 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:16.8413424Z 2025-08-20 04:02:16.841 +00:00 [INF] All configurations are valid
2025-08-20T04:02:17.0199278Z 2025-08-20 04:02:17.009 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 110.1257ms with message 'Event Store connection failed'
2025-08-20T04:02:17.0199969Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:17.0200013Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:17.0200040Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:17.0200146Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:17.0200176Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:17.0200207Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:17.0200233Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:17.0200257Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:17.0200282Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:17.0200308Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:17.0200333Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:17.0200362Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:17.0200413Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:17.0200445Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:17.0200479Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:17.0200509Z 2025-08-20 04:02:17.014 +00:00 [ERR] Health check database with status Unhealthy completed after 182.123ms with message 'Database connection failed'
2025-08-20T04:02:17.0369084Z 2025-08-20 04:02:17.032 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:02:17.0369359Z 2025-08-20 04:02:17.034 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:17.0453932Z 2025-08-20 04:02:17.040 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 8.0134ms
2025-08-20T04:02:17.0535742Z 2025-08-20 04:02:17.050 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:02:17.0723313Z 2025-08-20 04:02:17.069 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:17.0877564Z 2025-08-20 04:02:17.082 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.3857ms with message 'Event Store connection failed'
2025-08-20T04:02:17.0878141Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:17.0878187Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:17.0878214Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:17.0878238Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:17.0878266Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:17.0878298Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:17.0878412Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:17.0878439Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:17.0878463Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:17.0878491Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:17.0878516Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:17.0878545Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:17.0878574Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:17.0878605Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:17.0878639Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:17.1189676Z 2025-08-20 04:02:17.118 +00:00 [ERR] Health check database with status Unhealthy completed after 19.8154ms with message 'Database connection failed'
2025-08-20T04:02:17.1319704Z 2025-08-20 04:02:17.124 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:17.1581429Z 2025-08-20 04:02:17.148 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:02:17.1581965Z 2025-08-20 04:02:17.149 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 0.7805ms
2025-08-20T04:02:17.1582008Z 2025-08-20 04:02:17.149 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:02:17.1831343Z 2025-08-20 04:02:17.182 +00:00 [INF] All configurations are valid
2025-08-20T04:02:17.1903866Z 2025-08-20 04:02:17.190 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:17.1971004Z 2025-08-20 04:02:17.195 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000001": An unhandled exception was thrown by the application.
2025-08-20T04:02:17.1972239Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:17.1972863Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:17.1972935Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:17.1973478Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:17.1978570Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:17.1978805Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:17.1979371Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:17.1979417Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:17.1979452Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:17.1979591Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:17.1979620Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:02:17.1979651Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:02:17.1979678Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:02:17.1979706Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:17.1979735Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:17.1979995Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:17.1980031Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:17.1980083Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:17.1980115Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:17.1980141Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:17.1980168Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:17.1980230Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:17.1980258Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:17.1980289Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:17.1981538Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:17.2716859Z 2025-08-20 04:02:17.208 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 173.6397ms
2025-08-20T04:02:17.2717313Z 2025-08-20 04:02:17.216 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:17.2717350Z 2025-08-20 04:02:17.216 +00:00 [ERR] Connection id "0HNEVJOUUR4VI", Request id "0HNEVJOUUR4VI:00000003": An unhandled exception was thrown by the application.
2025-08-20T04:02:17.2718606Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:17.2718652Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:17.2718681Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:17.2718710Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:17.2718825Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:17.2718855Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:17.2718916Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:17.2718946Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:17.2718976Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:17.2719005Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:17.2719032Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:02:17.2719065Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:02:17.2719093Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:02:17.2719122Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:17.2719174Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:17.2719202Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:17.2719233Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:17.2719344Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:17.2719374Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:17.2719401Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:17.2719431Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:17.2719457Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:17.2719485Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:17.2719614Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:17.2719644Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:17.2719864Z 2025-08-20 04:02:17.233 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 419.9059ms
2025-08-20T04:02:22.2755694Z 2025-08-20 04:02:22.274 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:22.2756280Z 2025-08-20 04:02:22.275 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:22.2765355Z 2025-08-20 04:02:22.276 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:22.2907636Z 2025-08-20 04:02:22.282 +00:00 [INF] All configurations are valid
2025-08-20T04:02:22.3013355Z 2025-08-20 04:02:22.300 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 15.1459ms with message 'Event Store connection failed'
2025-08-20T04:02:22.3013942Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:22.3084763Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:22.3085231Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:22.3086397Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:22.3086500Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:22.3087105Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:22.3087185Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:22.3087869Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:22.3088023Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:22.3088179Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:22.3088751Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:22.3088830Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:22.3089495Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:22.3094875Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:22.3101444Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:22.3164782Z 2025-08-20 04:02:22.304 +00:00 [ERR] Health check database with status Unhealthy completed after 15.4538ms with message 'Database connection failed'
2025-08-20T04:02:22.3237929Z 2025-08-20 04:02:22.321 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:22.3238254Z 2025-08-20 04:02:22.322 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000002": An unhandled exception was thrown by the application.
2025-08-20T04:02:22.3238303Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:22.3238427Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:22.3238455Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:22.3238483Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:22.3238518Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:22.3238615Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:22.3238647Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:22.3238676Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:22.3238706Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:22.3238734Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:22.3238761Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:02:22.3238789Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:22.3238820Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:22.3238848Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:22.3238906Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:22.3238936Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:22.3238966Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:22.3238993Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:22.3239021Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:22.3239047Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:22.3239073Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:22.3239107Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:22.3239157Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:22.3449013Z 2025-08-20 04:02:22.344 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 70.1525ms
2025-08-20T04:02:27.3799985Z 2025-08-20 04:02:27.365 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:27.3800356Z 2025-08-20 04:02:27.366 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:27.3800405Z 2025-08-20 04:02:27.371 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1172ms with message 'Event Store connection failed'
2025-08-20T04:02:27.3800431Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:27.3800463Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:27.3800491Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:27.3800520Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:27.3800668Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:27.3800702Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:27.3800729Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:27.3800754Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:27.3800779Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:27.3800806Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:27.3800834Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:27.3800864Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:27.3800894Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:27.3800949Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:27.3800985Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:27.3801010Z 2025-08-20 04:02:27.378 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:27.3801035Z 2025-08-20 04:02:27.379 +00:00 [INF] All configurations are valid
2025-08-20T04:02:27.4089042Z 2025-08-20 04:02:27.393 +00:00 [ERR] Health check database with status Unhealthy completed after 13.3258ms with message 'Database connection failed'
2025-08-20T04:02:27.4104413Z 2025-08-20 04:02:27.410 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:27.4339385Z 2025-08-20 04:02:27.417 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000003": An unhandled exception was thrown by the application.
2025-08-20T04:02:27.4339717Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:27.4339800Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:27.4339835Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:27.4339867Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:27.4339908Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:27.4339941Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:27.4339982Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:27.4340015Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:27.4340049Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:27.4340107Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:27.4340141Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:02:27.4340174Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:27.4340208Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:27.4340240Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:27.4340278Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:27.4340313Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:27.4340347Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:27.4340379Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:27.4340433Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:27.4340467Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:27.4340498Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:27.4340536Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:27.4340571Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:27.4340606Z 2025-08-20 04:02:27.425 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 59.65ms
2025-08-20T04:02:29.9220604Z 2025-08-20 04:02:29.917 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:29.9320160Z 2025-08-20 04:02:29.922 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:29.9320511Z 2025-08-20 04:02:29.924 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:29.9320621Z 2025-08-20 04:02:29.924 +00:00 [INF] All configurations are valid
2025-08-20T04:02:29.9389704Z 2025-08-20 04:02:29.933 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0459ms with message 'Event Store connection failed'
2025-08-20T04:02:29.9390026Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:29.9390071Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:29.9390100Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:29.9390127Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:29.9390155Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:29.9390187Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:29.9390234Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:29.9390320Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:29.9390347Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:29.9390375Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:29.9390401Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:29.9390432Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:29.9390463Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:29.9390495Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:29.9390530Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:29.9856779Z 2025-08-20 04:02:29.985 +00:00 [ERR] Health check database with status Unhealthy completed after 1.1974ms with message 'Database connection failed'
2025-08-20T04:02:29.9976183Z 2025-08-20 04:02:29.997 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:30.0113527Z 2025-08-20 04:02:29.999 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000004": An unhandled exception was thrown by the application.
2025-08-20T04:02:30.0114063Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:30.0114106Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:30.0114138Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:30.0114165Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:30.0114206Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:30.0114296Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:30.0114328Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:30.0114360Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:30.0114389Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:30.0114416Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:30.0114444Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:02:30.0114471Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:30.0114500Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:30.0114528Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:30.0114581Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:30.0114612Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:30.0114641Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:30.0114668Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:30.0114696Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:30.0114721Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:30.0114747Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:30.0114779Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:30.0114830Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:30.0123880Z 2025-08-20 04:02:30.012 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 95.9442ms
2025-08-20T04:02:32.4621067Z 2025-08-20 04:02:32.461 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:32.4901256Z 2025-08-20 04:02:32.481 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:32.4901934Z 2025-08-20 04:02:32.482 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:32.5263673Z 2025-08-20 04:02:32.524 +00:00 [INF] All configurations are valid
2025-08-20T04:02:32.5285928Z 2025-08-20 04:02:32.528 +00:00 [ERR] Health check database with status Unhealthy completed after 27.4068ms with message 'Database connection failed'
2025-08-20T04:02:32.5355633Z 2025-08-20 04:02:32.534 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 16.9149ms with message 'Event Store connection failed'
2025-08-20T04:02:32.5356034Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:32.5356250Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:32.5356344Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:32.5356372Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:32.5356402Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:32.5356434Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:32.5356460Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:32.5356525Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:32.5356553Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:32.5356582Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:32.5359368Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:32.5359492Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:32.5359525Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:32.5359557Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:32.5359594Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:32.5501934Z 2025-08-20 04:02:32.545 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:32.5593291Z 2025-08-20 04:02:32.553 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000005": An unhandled exception was thrown by the application.
2025-08-20T04:02:32.5593695Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:32.5593814Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:32.5593844Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:32.5593873Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:32.5593908Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:32.5593939Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:32.5593969Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:32.5593998Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:32.5594028Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:32.5594056Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:32.5594106Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:02:32.5594137Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:32.5594166Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:32.5594194Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:32.5594225Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:32.5594254Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:32.5594284Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:32.5594312Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:32.5594366Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:32.5594395Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:32.5594422Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:32.5594455Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:32.5594484Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:32.5929668Z 2025-08-20 04:02:32.571 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 110.6879ms
2025-08-20T04:02:37.6230341Z 2025-08-20 04:02:37.609 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:37.6260508Z 2025-08-20 04:02:37.625 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:37.6827308Z 2025-08-20 04:02:37.682 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0849ms with message 'Event Store connection failed'
2025-08-20T04:02:37.6827894Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:37.6894886Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:37.6895193Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:37.7010774Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:37.7011135Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:37.7011176Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:37.7011209Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:37.7011237Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:37.7011344Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:37.7011373Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:37.7011398Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:37.7011429Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:37.7011459Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:37.7011492Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:37.7011527Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:37.7250543Z 2025-08-20 04:02:37.724 +00:00 [ERR] Health check database with status Unhealthy completed after 8.6596ms with message 'Database connection failed'
2025-08-20T04:02:37.7346942Z 2025-08-20 04:02:37.734 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:37.7509224Z 2025-08-20 04:02:37.750 +00:00 [INF] All configurations are valid
2025-08-20T04:02:37.7516888Z 2025-08-20 04:02:37.751 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:37.7658999Z 2025-08-20 04:02:37.757 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000006": An unhandled exception was thrown by the application.
2025-08-20T04:02:37.7660239Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:37.7660782Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:37.7660863Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:37.7661455Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:37.7662878Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:37.7662995Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:37.7663617Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:37.7663696Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:37.7668442Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:37.7668554Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:37.7668654Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:02:37.7668686Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:37.7668716Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:37.7668743Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:37.7668775Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:37.7668805Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:37.7668924Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:37.7668951Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:37.7668980Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:37.7669031Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:37.7669058Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:37.7669091Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:37.7669119Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:37.7684421Z 2025-08-20 04:02:37.768 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 159.3545ms
2025-08-20T04:02:42.8249743Z 2025-08-20 04:02:42.821 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:42.8268616Z 2025-08-20 04:02:42.821 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:42.8472234Z 2025-08-20 04:02:42.828 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:42.8472403Z 2025-08-20 04:02:42.829 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0547ms with message 'Event Store connection failed'
2025-08-20T04:02:42.8472433Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:42.8472464Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:42.8472491Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:42.8472518Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:42.8472555Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:42.8472612Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:42.8472639Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:42.8472665Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:42.8472693Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:42.8472777Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:42.8472802Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:42.8472833Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:42.8472864Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:42.8472896Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:42.8472954Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:42.8472983Z 2025-08-20 04:02:42.836 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0505ms with message 'Database connection failed'
2025-08-20T04:02:42.8495591Z 2025-08-20 04:02:42.842 +00:00 [INF] All configurations are valid
2025-08-20T04:02:42.8639081Z 2025-08-20 04:02:42.861 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:42.8656226Z 2025-08-20 04:02:42.864 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000007": An unhandled exception was thrown by the application.
2025-08-20T04:02:42.8660750Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:42.8661747Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:42.8661921Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:42.8662484Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:42.8663192Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:42.8663270Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:42.8663952Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:42.8664028Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:42.8664645Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:42.8665437Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:42.8665517Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:02:42.8666107Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:42.8666182Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:42.8711545Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:42.8711767Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:42.8711808Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:42.8711962Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:42.8712065Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:42.8712097Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:42.8712123Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:42.8712149Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:42.8712184Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:42.8712214Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:42.9157365Z 2025-08-20 04:02:42.907 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 86.9143ms
2025-08-20T04:02:47.9290864Z 2025-08-20 04:02:47.928 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:47.9311707Z 2025-08-20 04:02:47.930 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:47.9317583Z 2025-08-20 04:02:47.931 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:47.9475684Z 2025-08-20 04:02:47.941 +00:00 [INF] All configurations are valid
2025-08-20T04:02:47.9911204Z 2025-08-20 04:02:47.990 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 16.5997ms with message 'Event Store connection failed'
2025-08-20T04:02:47.9911809Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:47.9916414Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:47.9916524Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:47.9917201Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:47.9917360Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:47.9919153Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:47.9919264Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:47.9920012Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:47.9920088Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:47.9920118Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:47.9921220Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:47.9921309Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:47.9922761Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:47.9923636Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:47.9924372Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:47.9989855Z 2025-08-20 04:02:47.992 +00:00 [ERR] Health check database with status Unhealthy completed after 34.5311ms with message 'Database connection failed'
2025-08-20T04:02:48.0059157Z 2025-08-20 04:02:48.005 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:48.0130095Z 2025-08-20 04:02:48.006 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000008": An unhandled exception was thrown by the application.
2025-08-20T04:02:48.0130515Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:48.0130564Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:48.0130597Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:48.0130630Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:48.0130669Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:48.0130703Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:48.0130738Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:48.0130771Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:48.0130827Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:48.0130861Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:48.0130895Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:02:48.0130928Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:48.0130980Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:48.0131082Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:48.0131148Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:48.0131184Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:48.0131246Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:48.0131280Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:48.0131313Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:48.0131343Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:48.0131374Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:48.0131411Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:48.0131444Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:48.0217690Z 2025-08-20 04:02:48.015 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 86.2419ms
2025-08-20T04:02:53.0458905Z 2025-08-20 04:02:53.045 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:53.0488235Z 2025-08-20 04:02:53.048 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:53.0654014Z 2025-08-20 04:02:53.064 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1155ms with message 'Event Store connection failed'
2025-08-20T04:02:53.0654600Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:53.0661760Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:53.0661885Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:53.0661988Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:53.0662019Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:53.0662124Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:53.0662153Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:53.0662178Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:53.0662205Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:53.0662232Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:53.0662258Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:53.0662290Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:53.0662320Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:53.0662353Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:53.0662413Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:53.0797889Z 2025-08-20 04:02:53.079 +00:00 [ERR] Health check database with status Unhealthy completed after 7.8869ms with message 'Database connection failed'
2025-08-20T04:02:53.0804171Z 2025-08-20 04:02:53.080 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:53.0932310Z 2025-08-20 04:02:53.087 +00:00 [INF] All configurations are valid
2025-08-20T04:02:53.0940527Z 2025-08-20 04:02:53.093 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:53.1107064Z 2025-08-20 04:02:53.108 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000009": An unhandled exception was thrown by the application.
2025-08-20T04:02:53.1107359Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:53.1107551Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:53.1107581Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:53.1107609Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:53.1107645Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:53.1107675Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:53.1107706Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:53.1107736Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:53.1107766Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:53.1107795Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:53.1107858Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:02:53.1107887Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:53.1107917Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:53.1107945Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:53.1107975Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:53.1108004Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:53.1108033Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:53.1108061Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:53.1108111Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:53.1108137Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:53.1108164Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:53.1108196Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:53.1108225Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:53.1244846Z 2025-08-20 04:02:53.123 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 66.0174ms
2025-08-20T04:02:58.1550049Z 2025-08-20 04:02:58.148 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:02:58.1617308Z 2025-08-20 04:02:58.161 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:02:58.1879643Z 2025-08-20 04:02:58.187 +00:00 [ERR] Health check database with status Unhealthy completed after 8.9342ms with message 'Database connection failed'
2025-08-20T04:02:58.1886276Z 2025-08-20 04:02:58.171 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.3791ms with message 'Event Store connection failed'
2025-08-20T04:02:58.1886388Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:02:58.1887060Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:02:58.1887138Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:02:58.1887817Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:02:58.1887890Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:02:58.1888577Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:02:58.1888696Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:02:58.1889426Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:02:58.1889502Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:02:58.1889532Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:02:58.1890234Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:02:58.1890313Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:02:58.1891683Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:02:58.1891774Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:02:58.1891851Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:02:58.1962332Z 2025-08-20 04:02:58.178 +00:00 [INF] Starting configuration status health check
2025-08-20T04:02:58.1983996Z 2025-08-20 04:02:58.198 +00:00 [INF] All configurations are valid
2025-08-20T04:02:58.1990720Z 2025-08-20 04:02:58.198 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:02:58.2069106Z 2025-08-20 04:02:58.205 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:0000000A": An unhandled exception was thrown by the application.
2025-08-20T04:02:58.2070563Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:02:58.2071321Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:02:58.2071401Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:58.2072089Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:02:58.2072818Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:02:58.2072895Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:58.2073583Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:02:58.2073847Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:02:58.2074558Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:02:58.2075325Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:02:58.2075405Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:02:58.2076042Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:02:58.2076118Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:02:58.2076622Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:02:58.2076693Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:58.2077987Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:02:58.2078112Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:02:58.2078144Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:02:58.2078173Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:02:58.2078200Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:58.2078227Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:02:58.2078260Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:02:58.2078288Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:02:58.2228996Z 2025-08-20 04:02:58.222 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 74.0762ms
2025-08-20T04:03:03.2392793Z 2025-08-20 04:03:03.239 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:04.2428113Z 2025-08-20 04:03:03.246 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:04.2428395Z 2025-08-20 04:03:03.247 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:04.2428464Z 2025-08-20 04:03:03.254 +00:00 [INF] All configurations are valid
2025-08-20T04:03:04.2428495Z 2025-08-20 04:03:03.283 +00:00 [ERR] Health check database with status Unhealthy completed after 26.9293ms with message 'Database connection failed'
2025-08-20T04:03:04.2428526Z 2025-08-20 04:03:03.291 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 16.3985ms with message 'Event Store connection failed'
2025-08-20T04:03:04.2428551Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:04.2428582Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:04.2428609Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:04.2428635Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:04.2428664Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:04.2428696Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:04.2428739Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:04.2428767Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:04.2428791Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:04.2428818Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:04.2429012Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:04.2429047Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:04.2429077Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:04.2429109Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:04.2429144Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:04.2429191Z 2025-08-20 04:03:03.299 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:04.2429221Z 2025-08-20 04:03:03.308 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:0000000B": An unhandled exception was thrown by the application.
2025-08-20T04:03:04.2429255Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:04.2429288Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:04.2429315Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:04.2429343Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:04.2429378Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:04.2429406Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:04.2429458Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:04.2429685Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:04.2429723Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:04.2429751Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:04.2429780Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:03:04.2429809Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:04.2429838Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:04.2429865Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:04.2429896Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:04.2429948Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:04.2429977Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:04.2430004Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:04.2430033Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:04.2430059Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:04.2430085Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:04.2430117Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:04.2430146Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:04.2430175Z 2025-08-20 04:03:03.318 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 79.5946ms
2025-08-20T04:03:08.3393661Z 2025-08-20 04:03:08.339 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:08.3475275Z 2025-08-20 04:03:08.347 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:08.3550880Z 2025-08-20 04:03:08.352 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:08.3562392Z 2025-08-20 04:03:08.356 +00:00 [INF] All configurations are valid
2025-08-20T04:03:08.3652050Z 2025-08-20 04:03:08.358 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.2209ms with message 'Event Store connection failed'
2025-08-20T04:03:08.3652575Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:08.3683760Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:08.3684146Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:08.3725284Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:08.3725501Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:08.3731255Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:08.3731426Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:08.3731456Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:08.3731481Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:08.3731509Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:08.3731534Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:08.3731593Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:08.3731624Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:08.3731656Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:08.3731693Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:08.3749726Z 2025-08-20 04:03:08.374 +00:00 [ERR] Health check database with status Unhealthy completed after 21.5481ms with message 'Database connection failed'
2025-08-20T04:03:08.3819447Z 2025-08-20 04:03:08.381 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:08.3844664Z 2025-08-20 04:03:08.383 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:0000000C": An unhandled exception was thrown by the application.
2025-08-20T04:03:08.4004076Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:08.4004481Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:08.4004520Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:08.4004548Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:08.4004585Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:08.4004615Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:08.4004653Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:08.4004685Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:08.4004790Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:08.4004819Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:08.4004847Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:08.4004876Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:08.4004905Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:08.4004935Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:08.4004964Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:08.4004993Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:08.4005019Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:08.4005069Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:08.4005096Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:08.4005122Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:08.4005155Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:08.4005183Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:08.4005212Z 2025-08-20 04:03:08.391 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 52.0789ms
2025-08-20T04:03:13.4172228Z 2025-08-20 04:03:13.416 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:13.4179937Z 2025-08-20 04:03:13.417 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:13.4326334Z 2025-08-20 04:03:13.425 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9544ms with message 'Event Store connection failed'
2025-08-20T04:03:13.4326667Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:13.4326707Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:13.4326735Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:13.4326760Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:13.4326789Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:13.4326824Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:13.4326853Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:13.4326878Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:13.4326995Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:13.4327024Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:13.4327050Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:13.4327080Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:13.4327110Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:13.4327142Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:13.4327177Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:13.4359874Z 2025-08-20 04:03:13.435 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0764ms with message 'Database connection failed'
2025-08-20T04:03:13.4428812Z 2025-08-20 04:03:13.442 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:13.4497202Z 2025-08-20 04:03:13.448 +00:00 [INF] All configurations are valid
2025-08-20T04:03:13.4510924Z 2025-08-20 04:03:13.451 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:13.4591538Z 2025-08-20 04:03:13.451 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:0000000D": An unhandled exception was thrown by the application.
2025-08-20T04:03:13.4600613Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:13.4608009Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:13.4608261Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:13.4671343Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:13.4683147Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:13.4683427Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:13.4689813Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:13.4690060Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:13.4696798Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:13.4853295Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:13.4853771Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:13.4853816Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:13.4853850Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:13.4853885Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:13.4853921Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:13.4853954Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:13.4853985Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:13.4854018Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:13.4854049Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:13.4854100Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:13.4854140Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:13.4854172Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:13.4854208Z 2025-08-20 04:03:13.477 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 60.6163ms
2025-08-20T04:03:18.5164040Z 2025-08-20 04:03:18.509 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:18.5165322Z 2025-08-20 04:03:18.513 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:18.5218433Z 2025-08-20 04:03:18.521 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:18.5231012Z 2025-08-20 04:03:18.522 +00:00 [INF] All configurations are valid
2025-08-20T04:03:18.5336276Z 2025-08-20 04:03:18.527 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.0113ms with message 'Event Store connection failed'
2025-08-20T04:03:18.5336779Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:18.5336822Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:18.5336852Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:18.5336877Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:18.5336987Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:18.5337020Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:18.5337045Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:18.5337074Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:18.5337099Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:18.5337125Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:18.5337150Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:18.5337181Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:18.5337211Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:18.5337269Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:18.5337305Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:18.5377041Z 2025-08-20 04:03:18.537 +00:00 [ERR] Health check database with status Unhealthy completed after 13.6615ms with message 'Database connection failed'
2025-08-20T04:03:18.5396863Z 2025-08-20 04:03:18.539 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:18.5469619Z 2025-08-20 04:03:18.545 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:0000000E": An unhandled exception was thrown by the application.
2025-08-20T04:03:18.5471064Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:18.5471903Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:18.5471989Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:18.5478601Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:18.5479813Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:18.5479910Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:18.5485876Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:18.5486020Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:18.5545048Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:18.5555316Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:18.5555648Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:18.5564700Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:18.5564912Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:18.5612316Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:18.5612623Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:18.5620470Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:18.5620717Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:18.5674827Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:18.5675123Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:18.5686832Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:18.5693681Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:18.5693863Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:18.5880486Z 2025-08-20 04:03:18.580 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 70.6042ms
2025-08-20T04:03:23.6402473Z 2025-08-20 04:03:23.639 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:23.6479271Z 2025-08-20 04:03:23.645 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:23.6494980Z 2025-08-20 04:03:23.649 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:23.6506322Z 2025-08-20 04:03:23.650 +00:00 [INF] All configurations are valid
2025-08-20T04:03:23.6578904Z 2025-08-20 04:03:23.654 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.9845ms with message 'Event Store connection failed'
2025-08-20T04:03:23.6579167Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:23.6579208Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:23.6579235Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:23.6579328Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:23.6579357Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:23.6579389Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:23.6579415Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:23.6579440Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:23.6579464Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:23.6579491Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:23.6579517Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:23.6579548Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:23.6579601Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:23.6579632Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:23.6579668Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:23.6662369Z 2025-08-20 04:03:23.663 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0736ms with message 'Database connection failed'
2025-08-20T04:03:23.6900899Z 2025-08-20 04:03:23.689 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:23.6912373Z 2025-08-20 04:03:23.690 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:0000000F": An unhandled exception was thrown by the application.
2025-08-20T04:03:23.6913131Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:23.6913782Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:23.6913855Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:23.6914359Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:23.6914853Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:23.6914920Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:23.6919754Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:23.6919856Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:23.6919927Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:23.6919956Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:23.6919984Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:23.6920012Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:23.6920040Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:23.6920070Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:23.6920101Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:23.6920130Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:23.6920158Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:23.6920209Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:23.6920235Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:23.6920262Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:23.6920295Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:23.6920323Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:23.6933967Z 2025-08-20 04:03:23.693 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 55.1717ms
2025-08-20T04:03:28.7219159Z 2025-08-20 04:03:28.721 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:28.7229668Z 2025-08-20 04:03:28.722 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:28.7438132Z 2025-08-20 04:03:28.736 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 7.6319ms with message 'Event Store connection failed'
2025-08-20T04:03:28.7438606Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:28.7448163Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:28.7448409Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:28.7448443Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:28.7448471Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:28.7448505Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:28.7448531Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:28.7448649Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:28.7448707Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:28.7448735Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:28.7448761Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:28.7448793Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:28.7448824Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:28.7448857Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:28.7448894Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:28.7615919Z 2025-08-20 04:03:28.761 +00:00 [ERR] Health check database with status Unhealthy completed after 15.2143ms with message 'Database connection failed'
2025-08-20T04:03:28.7630614Z 2025-08-20 04:03:28.761 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:28.7711992Z 2025-08-20 04:03:28.769 +00:00 [INF] All configurations are valid
2025-08-20T04:03:28.7870609Z 2025-08-20 04:03:28.786 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:28.7884481Z 2025-08-20 04:03:28.787 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000010": An unhandled exception was thrown by the application.
2025-08-20T04:03:28.7885383Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:28.7886027Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:28.7886102Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:28.7886654Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:28.7887191Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:28.7887271Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:28.7888168Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:28.7888255Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:28.7888804Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:28.7889378Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:28.7889484Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:28.7889975Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:28.7890044Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:28.8005158Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:28.8005633Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:28.8005676Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:28.8005710Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:28.8005740Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:28.8005814Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:28.8005840Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:28.8005874Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:28.8005902Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:28.8102155Z 2025-08-20 04:03:28.809 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 88.4261ms
2025-08-20T04:03:29.9157298Z 2025-08-20 04:03:29.910 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:29.9164530Z 2025-08-20 04:03:29.916 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:29.9170176Z 2025-08-20 04:03:29.916 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:29.9176258Z 2025-08-20 04:03:29.917 +00:00 [INF] All configurations are valid
2025-08-20T04:03:29.9246056Z 2025-08-20 04:03:29.918 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2046ms with message 'Database connection failed'
2025-08-20T04:03:29.9342980Z 2025-08-20 04:03:29.933 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14.4891ms with message 'Event Store connection failed'
2025-08-20T04:03:29.9343282Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:29.9343323Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:29.9343350Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:29.9343375Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:29.9343404Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:29.9343513Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:29.9343540Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:29.9343565Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:29.9343589Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:29.9343620Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:29.9343645Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:29.9343676Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:29.9343707Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:29.9343740Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:29.9343798Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:29.9351266Z 2025-08-20 04:03:29.934 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:29.9454170Z 2025-08-20 04:03:29.944 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000011": An unhandled exception was thrown by the application.
2025-08-20T04:03:29.9455151Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:29.9455668Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:29.9455739Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:29.9456230Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:29.9456828Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:29.9456900Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:29.9457367Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:29.9457437Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:29.9457896Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:29.9463001Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:29.9463107Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:29.9463227Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:29.9463258Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:29.9463288Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:29.9463318Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:29.9463347Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:29.9463375Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:29.9463403Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:29.9463430Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:29.9463456Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:29.9463515Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:29.9463544Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:29.9508938Z 2025-08-20 04:03:29.946 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 36.4876ms
2025-08-20T04:03:33.8402989Z 2025-08-20 04:03:33.832 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:33.8403629Z 2025-08-20 04:03:33.834 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:33.8403665Z 2025-08-20 04:03:33.835 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:33.8477556Z 2025-08-20 04:03:33.841 +00:00 [INF] All configurations are valid
2025-08-20T04:03:33.8478198Z 2025-08-20 04:03:33.847 +00:00 [ERR] Health check database with status Unhealthy completed after 7.4341ms with message 'Database connection failed'
2025-08-20T04:03:33.8552252Z 2025-08-20 04:03:33.854 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 15.4334ms with message 'Event Store connection failed'
2025-08-20T04:03:33.8552560Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:33.8554521Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:33.8554651Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:33.8554838Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:33.8554876Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:33.8555260Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:33.8555303Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:33.8555434Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:33.8555462Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:33.8555489Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:33.8555770Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:33.8555815Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:33.8556205Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:33.8556522Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:33.8556990Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:33.8568109Z 2025-08-20 04:03:33.856 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:33.8632921Z 2025-08-20 04:03:33.857 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000012": An unhandled exception was thrown by the application.
2025-08-20T04:03:33.8633107Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:33.8633145Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:33.8633174Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:33.8633201Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:33.8633289Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:33.8633322Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:33.8633352Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:33.8633381Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:33.8633411Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:33.8633438Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:33.8633467Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:33.8633496Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:33.8633523Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:33.8633705Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:33.8633736Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:33.8633764Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:33.8633791Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:33.8633820Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:33.8633846Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:33.8633872Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:33.8633904Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:33.8633932Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:33.8732240Z 2025-08-20 04:03:33.865 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 33.377ms
2025-08-20T04:03:38.8997199Z 2025-08-20 04:03:38.892 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:38.8997572Z 2025-08-20 04:03:38.898 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:38.8997608Z 2025-08-20 04:03:38.899 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:38.9455024Z 2025-08-20 04:03:38.942 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3826ms with message 'Database connection failed'
2025-08-20T04:03:38.9551001Z 2025-08-20 04:03:38.950 +00:00 [INF] All configurations are valid
2025-08-20T04:03:38.9905103Z 2025-08-20 04:03:38.987 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 73.423ms with message 'Event Store connection failed'
2025-08-20T04:03:38.9905474Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:38.9905605Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:38.9905633Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:38.9905659Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:38.9905689Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:38.9905720Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:38.9905746Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:38.9905771Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:38.9905797Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:38.9905823Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:38.9905875Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:38.9905906Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:38.9905937Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:38.9905970Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:38.9906005Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:39.0297546Z 2025-08-20 04:03:38.993 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:39.0297893Z 2025-08-20 04:03:38.999 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000013": An unhandled exception was thrown by the application.
2025-08-20T04:03:39.0297937Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:39.0298034Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:39.0298063Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:39.0298091Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:39.0298127Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:39.0298155Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:39.0298185Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:39.0298214Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:39.0298243Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:39.0298270Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:39.0298320Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:39.0298350Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:39.0298404Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:39.0298437Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:39.0298466Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:39.0298495Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:39.0298525Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:39.0298553Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:39.0298599Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:39.0298626Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:39.0298659Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:39.0298688Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:39.0686262Z 2025-08-20 04:03:39.011 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 119.9698ms
2025-08-20T04:03:44.0466787Z 2025-08-20 04:03:44.045 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:44.0623131Z 2025-08-20 04:03:44.052 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:44.0625173Z 2025-08-20 04:03:44.062 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:44.0729921Z 2025-08-20 04:03:44.071 +00:00 [INF] All configurations are valid
2025-08-20T04:03:44.0794004Z 2025-08-20 04:03:44.073 +00:00 [ERR] Health check database with status Unhealthy completed after 4.7268ms with message 'Database connection failed'
2025-08-20T04:03:44.0889239Z 2025-08-20 04:03:44.088 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 6.2507ms with message 'Event Store connection failed'
2025-08-20T04:03:44.0889973Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:44.0891154Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:44.0891244Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:44.0892030Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:44.0892115Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:44.0892785Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:44.0892861Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:44.0893429Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:44.0893503Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:44.0893577Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:44.0894231Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:44.0894314Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:44.0894928Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:44.0895766Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:44.0896440Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:44.1174916Z 2025-08-20 04:03:44.117 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:44.1240147Z 2025-08-20 04:03:44.123 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000014": An unhandled exception was thrown by the application.
2025-08-20T04:03:44.1241693Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:44.1242689Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:44.1242785Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:44.1246323Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:44.1246588Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:44.1246640Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:44.1246908Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:44.1246957Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:44.1247245Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:44.1247484Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:44.1247527Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:44.1247759Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:44.1684039Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:44.1684773Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:44.1684824Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:44.1684951Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:44.1684982Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:44.1685011Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:44.1685038Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:44.1685064Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:44.1685097Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:44.1685125Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:44.1685155Z 2025-08-20 04:03:44.148 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 103.353ms
2025-08-20T04:03:49.2081880Z 2025-08-20 04:03:49.193 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:49.2082712Z 2025-08-20 04:03:49.194 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:49.2083183Z 2025-08-20 04:03:49.201 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:49.2083231Z 2025-08-20 04:03:49.207 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0436ms with message 'Database connection failed'
2025-08-20T04:03:49.2083261Z 2025-08-20 04:03:49.207 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.8206ms with message 'Event Store connection failed'
2025-08-20T04:03:49.2083287Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:49.2083319Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:49.2083346Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:49.2083371Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:49.2083429Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:49.2083462Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:49.2083488Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:49.2083513Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:49.2083538Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:49.2083565Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:49.2083591Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:49.2083621Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:49.2083652Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:49.2083684Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:49.2083743Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:49.2145115Z 2025-08-20 04:03:49.214 +00:00 [INF] All configurations are valid
2025-08-20T04:03:49.2214765Z 2025-08-20 04:03:49.221 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:49.2232538Z 2025-08-20 04:03:49.222 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000015": An unhandled exception was thrown by the application.
2025-08-20T04:03:49.2237115Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:49.2307807Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:49.2308353Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:49.2312584Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:49.2315309Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:49.2315497Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:49.2318608Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:49.2318804Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:49.2321424Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:49.2361388Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:49.2361716Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:49.2367794Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:49.2367995Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:49.2376105Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:49.2376321Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:49.2379246Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:49.2379431Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:49.2382341Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:49.2382521Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:49.2452451Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:49.2452993Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:49.2453052Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:49.2604395Z 2025-08-20 04:03:49.257 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 64.2309ms
2025-08-20T04:03:53.5508299Z    _____                               
2025-08-20T04:03:53.5511581Z   /  _  \ __________ _________   ____  
2025-08-20T04:03:53.5511687Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T04:03:53.5511750Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T04:03:53.5511779Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T04:03:53.5511822Z         \/      \/                  \/ 
2025-08-20T04:03:53.5511852Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T04:03:53.5511878Z 
2025-08-20T04:03:53.5511916Z Documentation: http://aka.ms/webapp-linux
2025-08-20T04:03:53.5511975Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T04:03:53.5512006Z ASP .NETCore Version: 8.0.18
2025-08-20T04:03:53.5512036Z Note: Any data outside '/home' is not persisted
2025-08-20T04:03:54.3014638Z 2025-08-20 04:03:54.301 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:54.3022408Z 2025-08-20 04:03:54.302 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:54.3104817Z 2025-08-20 04:03:54.310 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.9284ms with message 'Event Store connection failed'
2025-08-20T04:03:54.3105237Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:54.3170222Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:54.3170741Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:54.3171682Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:54.3171782Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:54.3172588Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:54.3172688Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:54.3173339Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:54.3173420Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:54.3173448Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:54.3174019Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:54.3174105Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:54.3174718Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:54.3175419Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:54.3176151Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:54.3194999Z 2025-08-20 04:03:54.319 +00:00 [ERR] Health check database with status Unhealthy completed after 0.9021ms with message 'Database connection failed'
2025-08-20T04:03:54.3198256Z 2025-08-20 04:03:54.319 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:54.3272516Z 2025-08-20 04:03:54.327 +00:00 [INF] All configurations are valid
2025-08-20T04:03:54.3340824Z 2025-08-20 04:03:54.333 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:54.3353608Z 2025-08-20 04:03:54.334 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000016": An unhandled exception was thrown by the application.
2025-08-20T04:03:54.3354968Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:54.3356079Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:54.3356173Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:54.3356810Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:54.3357539Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:54.3357637Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:54.3358289Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:54.3358369Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:54.3359037Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:54.3359662Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:54.3359739Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:54.3360464Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:54.3360554Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:54.3361311Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:54.3361393Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:54.3362580Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:54.3362678Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:54.3363327Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:54.3363416Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:54.3364113Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:54.3364750Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:54.3364863Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:54.3432853Z 2025-08-20 04:03:54.343 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 42.1409ms
2025-08-20T04:03:55.2465236Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T04:03:55.2619771Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T04:03:55.3057467Z Updating certificates in /etc/ssl/certs...
2025-08-20T04:03:59.4012084Z 2025-08-20 04:03:59.400 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:03:59.4148409Z 2025-08-20 04:03:59.406 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:03:59.4148703Z 2025-08-20 04:03:59.407 +00:00 [INF] Starting configuration status health check
2025-08-20T04:03:59.4219721Z 2025-08-20 04:03:59.421 +00:00 [INF] All configurations are valid
2025-08-20T04:03:59.4444845Z 2025-08-20 04:03:59.438 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 15.3693ms with message 'Event Store connection failed'
2025-08-20T04:03:59.4445310Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:03:59.4445348Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:03:59.4445376Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:03:59.4445401Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:03:59.4445429Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:03:59.4445461Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:03:59.4445487Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:03:59.4445513Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:03:59.4445538Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:03:59.4445565Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:03:59.4445616Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:03:59.4445647Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:03:59.4445678Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:03:59.4445710Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:03:59.4445745Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:03:59.4512587Z 2025-08-20 04:03:59.445 +00:00 [ERR] Health check database with status Unhealthy completed after 23.5443ms with message 'Database connection failed'
2025-08-20T04:03:59.4552259Z 2025-08-20 04:03:59.455 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:03:59.6436693Z 2025-08-20 04:03:59.459 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000017": An unhandled exception was thrown by the application.
2025-08-20T04:03:59.6436978Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:03:59.6437016Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:03:59.6437044Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:59.6437072Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:03:59.6437108Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:03:59.6437138Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:59.6437168Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:03:59.6437225Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:03:59.6437255Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:03:59.6437283Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:03:59.6437310Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:03:59.6437340Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:03:59.6437367Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:03:59.6437397Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:59.6437427Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:03:59.6437456Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:03:59.6437504Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:03:59.6437533Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:03:59.6437559Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:59.6437587Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:03:59.6437619Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:03:59.6437647Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:03:59.6437678Z 2025-08-20 04:03:59.474 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 73.646ms
2025-08-20T04:04:04.5150966Z 2025-08-20 04:04:04.504 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:04:04.5163167Z 2025-08-20 04:04:04.516 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:04:04.5430368Z 2025-08-20 04:04:04.542 +00:00 [INF] Starting configuration status health check
2025-08-20T04:04:04.5582207Z 2025-08-20 04:04:04.548 +00:00 [INF] All configurations are valid
2025-08-20T04:04:04.6321282Z 2025-08-20 04:04:04.569 +00:00 [ERR] Health check database with status Unhealthy completed after 2.3653ms with message 'Database connection failed'
2025-08-20T04:04:04.6606867Z 2025-08-20 04:04:04.642 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 72.2734ms with message 'Event Store connection failed'
2025-08-20T04:04:04.6607174Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:04:04.6607215Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:04:04.6607249Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:04:04.6607277Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:04:04.6607305Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:04:04.6607336Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:04:04.6607364Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:04:04.6607468Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:04:04.6607493Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:04:04.6607520Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:04:04.6607546Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:04:04.6607577Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:04:04.6607607Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:04:04.6607638Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:04:04.6607674Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:04:04.6607698Z 2025-08-20 04:04:04.651 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:04:04.6607753Z 2025-08-20 04:04:04.651 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000018": An unhandled exception was thrown by the application.
2025-08-20T04:04:04.6607789Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:04:04.6607820Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:04:04.6607848Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:04.6607875Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:04.6607909Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:04:04.6607938Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:04:04.6607967Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:04:04.6608018Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:04:04.6608048Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:04:04.6608075Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:04:04.6608468Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:04:04.6608506Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:04:04.6608533Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:04:04.6608563Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:04.6608592Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:04.6608650Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:04:04.6608677Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:04:04.6608705Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:04:04.6608731Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:04.6608756Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:04.6608789Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:04:04.6608817Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:04:04.6608846Z 2025-08-20 04:04:04.653 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 148.9923ms
2025-08-20T04:04:05.6096384Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T04:04:05.6381259Z 4 added, 0 removed; done.
2025-08-20T04:04:05.6385264Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T04:04:05.6444721Z done.
2025-08-20T04:04:05.6573500Z CA certificates copied and updated successfully.
2025-08-20T04:04:05.9330373Z Starting periodic command scheduler: cron.
2025-08-20T04:04:05.9496153Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T04:04:05.9834408Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T04:04:05.9835409Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T04:04:05.9836782Z Build Operation ID: b80a8c62-66ea-442b-a2ce-58a7d4e74059
2025-08-20T04:04:06.1986665Z 
2025-08-20T04:04:06.1994047Z Agent extension 
2025-08-20T04:04:06.1994431Z Before if loop >> DotNet Runtime 
2025-08-20T04:04:06.3347535Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T04:04:06.3698267Z Trying to find the startup DLL name...
2025-08-20T04:04:06.3699027Z Found the startup D name: Zeus.People.API.dll
2025-08-20T04:04:06.3699075Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T04:04:09.0055203Z 2025-08-20 04:04:08.695 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T04:04:09.4511866Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T04:04:09.7827696Z 2025-08-20 04:04:09.782 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:04:09.7911203Z 2025-08-20 04:04:09.790 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:04:09.7924861Z 2025-08-20 04:04:09.792 +00:00 [INF] Starting configuration status health check
2025-08-20T04:04:09.8542461Z 2025-08-20 04:04:09.845 +00:00 [INF] All configurations are valid
2025-08-20T04:04:09.8542911Z 2025-08-20 04:04:09.846 +00:00 [ERR] Health check database with status Unhealthy completed after 54.0832ms with message 'Database connection failed'
2025-08-20T04:04:09.8764224Z 2025-08-20 04:04:09.847 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 0.7887ms with message 'Event Store connection failed'
2025-08-20T04:04:09.8764574Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:04:09.8764612Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:04:09.8764639Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:04:09.8764762Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:04:09.8764791Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:04:09.8764823Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:04:09.8764848Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:04:09.8764873Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:04:09.8764898Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:04:09.8764925Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:04:09.8764950Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:04:09.8764981Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:04:09.8765041Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:04:09.8765074Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:04:09.8765108Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:04:09.8875022Z 2025-08-20 04:04:09.887 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:04:09.8891771Z 2025-08-20 04:04:09.888 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:00000019": An unhandled exception was thrown by the application.
2025-08-20T04:04:09.8893107Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:04:09.8893858Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:04:09.8894019Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:09.8894737Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:09.8942215Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:04:09.8942424Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:04:09.8942465Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:04:09.8942496Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:04:09.8942525Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:04:09.8942552Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:04:09.8942660Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:04:09.8942690Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:04:09.8942718Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:04:09.8942747Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:09.8942776Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:09.8942805Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:04:09.8942832Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:04:09.8942859Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:04:09.8942886Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:09.8942943Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:09.8942977Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:04:09.8943005Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:04:09.8967368Z 2025-08-20 04:04:09.896 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 114.1324ms
2025-08-20T04:04:10.3269536Z 2025-08-20 04:04:10.199 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:04:10.3270063Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:04:10.3270110Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:04:10.3270148Z    at System.Uri..ctor(String uriString)
2025-08-20T04:04:10.3270280Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:04:10.3270320Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:04:10.3270362Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:04:10.4091066Z 2025-08-20 04:04:10.408 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T04:04:10.5224527Z 2025-08-20 04:04:10.522 +00:00 [INF] Starting configuration validation...
2025-08-20T04:04:10.6169295Z 2025-08-20 04:04:10.609 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:04:10.6169981Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:04:10.6170036Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:04:10.6170072Z    at System.Uri..ctor(String uriString)
2025-08-20T04:04:10.6170112Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:04:10.6170241Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:04:10.6170284Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:04:10.6395694Z 2025-08-20 04:04:10.634 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T04:04:10.6708138Z 2025-08-20 04:04:10.659 +00:00 [INF] Key Vault connectivity verified
2025-08-20T04:04:10.9318132Z 2025-08-20 04:04:10.924 +00:00 [INF] Configuration validation completed successfully
2025-08-20T04:04:11.6245327Z 2025-08-20 04:04:11.622 +00:00 [INF] Starting Zeus.People API
2025-08-20T04:04:11.7026579Z 2025-08-20 04:04:11.702 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T04:04:12.2494316Z 2025-08-20 04:04:12.241 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T04:04:12.2504560Z 2025-08-20 04:04:12.249 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T04:04:12.2531001Z 2025-08-20 04:04:12.251 +00:00 [INF] Hosting environment: Staging
2025-08-20T04:04:12.2538404Z 2025-08-20 04:04:12.253 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T04:04:13.0038196Z 2025-08-20 04:04:12.995 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.6:8080/robots933456.txt - null null
2025-08-20T04:04:13.1145972Z 2025-08-20 04:04:13.112 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T04:04:13.2680883Z 2025-08-20 04:04:13.249 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.6:8080/robots933456.txt - 404 0 null 265.6123ms
2025-08-20T04:04:13.3030080Z 2025-08-20 04:04:13.302 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.6:8080/robots933456.txt, Response status code: 404
2025-08-20T04:04:14.9188847Z 2025-08-20 04:04:14.916 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:04:14.9205550Z 2025-08-20 04:04:14.920 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:04:14.9500544Z 2025-08-20 04:04:14.936 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.8242ms with message 'Event Store connection failed'
2025-08-20T04:04:14.9500877Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:04:14.9501133Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:04:14.9501164Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:04:14.9501189Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:04:14.9501217Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:04:14.9501249Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:04:14.9501276Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:04:14.9501302Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:04:14.9501326Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:04:14.9501352Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:04:14.9501425Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:04:14.9501456Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:04:14.9501486Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:04:14.9501519Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:04:14.9501554Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:04:14.9531340Z 2025-08-20 04:04:14.952 +00:00 [ERR] Health check database with status Unhealthy completed after 1.2221ms with message 'Database connection failed'
2025-08-20T04:04:14.9569277Z 2025-08-20 04:04:14.954 +00:00 [INF] Starting configuration status health check
2025-08-20T04:04:14.9589650Z 2025-08-20 04:04:14.958 +00:00 [INF] All configurations are valid
2025-08-20T04:04:14.9640309Z 2025-08-20 04:04:14.959 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:04:14.9662652Z 2025-08-20 04:04:14.965 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:0000001A": An unhandled exception was thrown by the application.
2025-08-20T04:04:14.9662846Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:04:14.9662886Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:04:14.9662921Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:14.9662947Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:14.9662983Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:04:14.9663093Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:04:14.9663125Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:04:14.9663153Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:04:14.9663182Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:04:14.9663211Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:04:14.9663239Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:04:14.9663268Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:04:14.9663296Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:04:14.9663327Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:14.9663386Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:14.9663416Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:04:14.9663443Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:04:14.9663472Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:04:14.9663498Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:14.9663524Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:14.9663557Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:04:14.9663585Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:04:14.9713369Z 2025-08-20 04:04:14.967 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 51.3923ms
2025-08-20T04:04:15.6050784Z 2025-08-20 04:04:15.599 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:04:15.6209063Z 2025-08-20 04:04:15.613 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:04:15.6447936Z 2025-08-20 04:04:15.636 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.1788ms with message 'Event Store connection failed'
2025-08-20T04:04:15.6448212Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:04:15.6448254Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:04:15.6448284Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:04:15.6448310Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:04:15.6448339Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:04:15.6448424Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:04:15.6448454Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:04:15.6448480Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:04:15.6448505Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:04:15.6448532Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:04:15.6448559Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:04:15.6448589Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:04:15.6448621Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:04:15.6448653Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:04:15.6448719Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:04:15.6705230Z 2025-08-20 04:04:15.669 +00:00 [ERR] Health check database with status Unhealthy completed after 7.8581ms with message 'Database connection failed'
2025-08-20T04:04:15.6874044Z 2025-08-20 04:04:15.686 +00:00 [INF] Starting configuration status health check
2025-08-20T04:04:15.7279894Z 2025-08-20 04:04:15.698 +00:00 [INF] All configurations are valid
2025-08-20T04:04:15.7933396Z 2025-08-20 04:04:15.780 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:04:15.8243316Z 2025-08-20 04:04:15.803 +00:00 [ERR] Connection id "0HNEVJOUUR4VK", Request id "0HNEVJOUUR4VK:0000001B": An unhandled exception was thrown by the application.
2025-08-20T04:04:15.8243794Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:04:15.8243918Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:04:15.8243951Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:15.8243981Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:15.8244016Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:04:15.8244045Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:04:15.8244074Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:04:15.8244103Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:04:15.8244132Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:04:15.8244159Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:04:15.8244217Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:04:15.8244248Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:04:15.8244275Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:04:15.8244305Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:15.8244335Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:15.8244364Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:04:15.8244391Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:04:15.8244419Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:04:15.8244445Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:15.8244506Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:15.8244563Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:04:15.8244592Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:04:15.8244621Z 2025-08-20 04:04:15.812 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 213.0427ms
2025-08-20T04:04:23.1832636Z 2025-08-20 04:04:23.181 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T04:04:24.6918310Z 2025-08-20 04:04:23.197 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 16.0944ms
2025-08-20T04:04:24.6918593Z 2025-08-20 04:04:23.211 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T04:04:29.9296640Z 2025-08-20 04:04:29.929 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:04:29.9474330Z 2025-08-20 04:04:29.947 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:04:29.9782900Z 2025-08-20 04:04:29.975 +00:00 [INF] Starting configuration status health check
2025-08-20T04:04:30.9902485Z 2025-08-20 04:04:30.989 +00:00 [INF] All configurations are valid
2025-08-20T04:04:35.0916694Z 2025-08-20 04:04:35.091 +00:00 [ERR] Health check database with status Unhealthy completed after 4554.1868ms with message 'Database connection failed'
2025-08-20T04:04:35.1154975Z 2025-08-20 04:04:35.098 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 4050.9673ms with message 'Event Store connection failed'
2025-08-20T04:04:35.1155555Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:04:35.1243951Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:04:35.1244646Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:04:35.1244684Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:04:35.1244718Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:04:35.1244749Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:04:35.1244774Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:04:35.1245337Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:04:35.1245387Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:04:35.1245421Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:04:35.1245521Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:04:35.1245554Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:04:35.1245583Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:04:35.1245614Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:04:35.1245670Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:04:39.5675499Z 2025-08-20 04:04:39.566 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:04:39.5849764Z 2025-08-20 04:04:39.577 +00:00 [ERR] Connection id "0HNEVJQFMP0GV", Request id "0HNEVJQFMP0GV:00000002": An unhandled exception was thrown by the application.
2025-08-20T04:04:39.5850093Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:04:39.5850135Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:04:39.5850165Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:39.5850191Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:04:39.5850226Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:04:39.5850258Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T04:04:39.5850376Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:04:39.5850406Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:04:39.5850435Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:04:39.5850462Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:04:39.5850487Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:04:39.5850516Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:04:39.5850543Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:04:39.5850569Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:04:39.5850597Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:04:39.5850686Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:04:39.5850717Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:39.5850745Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:04:39.5850774Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:04:39.5850800Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:04:39.5850827Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:04:39.5850852Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:39.5850876Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:04:39.5850930Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:04:39.5850957Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:04:39.5947021Z 2025-08-20 04:04:39.590 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 9661.6444ms
2025-08-20T04:05:08.5271362Z 2025-08-20 04:05:08.498 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:05:08.5534563Z 2025-08-20 04:05:08.548 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 50.3448ms
2025-08-20T04:05:08.5603127Z 2025-08-20 04:05:08.555 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:05:08.5603491Z 2025-08-20 04:05:08.555 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:05:08.5720651Z 2025-08-20 04:05:08.564 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:05:08.5782898Z 2025-08-20 04:05:08.577 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 22.3875ms
2025-08-20T04:05:08.5863769Z 2025-08-20 04:05:08.586 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:05:08.5872369Z 2025-08-20 04:05:08.587 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:05:08.5954863Z 2025-08-20 04:05:08.595 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:05:08.6502772Z 2025-08-20 04:05:08.632 +00:00 [INF] Starting configuration status health check
2025-08-20T04:05:08.6503121Z 2025-08-20 04:05:08.633 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 37.996ms
2025-08-20T04:05:08.6575705Z 2025-08-20 04:05:08.650 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:05:08.6680270Z 2025-08-20 04:05:08.667 +00:00 [INF] All configurations are valid
2025-08-20T04:05:09.6481762Z 2025-08-20 04:05:09.640 +00:00 [ERR] Health check database with status Unhealthy completed after 997.1831ms with message 'Database connection failed'
2025-08-20T04:05:09.6491158Z 2025-08-20 04:05:09.640 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 980.7059ms with message 'Event Store connection failed'
2025-08-20T04:05:09.6491464Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:05:09.6491504Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:05:09.6491531Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:05:09.6491556Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:05:09.6491584Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:05:09.6491616Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:05:09.6491641Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:05:09.6491705Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:05:09.6491731Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:05:09.6491757Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:05:09.6491782Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:05:09.6491812Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:05:09.6491843Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:05:09.6491875Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:05:09.6491910Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:05:09.6623494Z 2025-08-20 04:05:09.662 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:05:09.6703441Z 2025-08-20 04:05:09.665 +00:00 [ERR] Connection id "0HNEVJQFMP0H1", Request id "0HNEVJQFMP0H1:00000001": An unhandled exception was thrown by the application.
2025-08-20T04:05:09.6704663Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:05:09.6705531Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:05:09.6705611Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:09.6706393Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:09.6707057Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:05:09.6707174Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:09.6707212Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:05:09.6707241Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:09.6708485Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:05:09.6708565Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:05:09.6708591Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:05:09.6708625Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:05:09.6708651Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:05:09.6708678Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:05:09.6708744Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:05:09.6708771Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:05:09.6708800Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:09.6708845Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:09.6708874Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:05:09.6708901Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:05:09.6708929Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:05:09.6708954Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:09.6709003Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:09.6709035Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:05:09.6709062Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:05:09.6784574Z 2025-08-20 04:05:09.678 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 1123.2642ms
2025-08-20T04:05:11.7206325Z    _____                               
2025-08-20T04:05:11.7208512Z   /  _  \ __________ _________   ____  
2025-08-20T04:05:11.7208588Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T04:05:11.7208625Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T04:05:11.7208718Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T04:05:11.7208762Z         \/      \/                  \/ 
2025-08-20T04:05:11.7208791Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T04:05:11.7208817Z 
2025-08-20T04:05:11.7208855Z Documentation: http://aka.ms/webapp-linux
2025-08-20T04:05:11.7208888Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T04:05:11.7208918Z ASP .NETCore Version: 8.0.18
2025-08-20T04:05:11.7208970Z Note: Any data outside '/home' is not persisted
2025-08-20T04:05:13.4417233Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T04:05:13.4570954Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T04:05:13.4853778Z Updating certificates in /etc/ssl/certs...
2025-08-20T04:05:14.7727194Z 2025-08-20 04:05:14.754 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:05:14.7727814Z 2025-08-20 04:05:14.763 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:05:14.7824875Z 2025-08-20 04:05:14.781 +00:00 [INF] Starting configuration status health check
2025-08-20T04:05:14.7974028Z 2025-08-20 04:05:14.793 +00:00 [INF] All configurations are valid
2025-08-20T04:05:14.8071093Z 2025-08-20 04:05:14.806 +00:00 [ERR] Health check database with status Unhealthy completed after 6.6135ms with message 'Database connection failed'
2025-08-20T04:05:14.8186096Z 2025-08-20 04:05:14.803 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 1.2241ms with message 'Event Store connection failed'
2025-08-20T04:05:14.8186413Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:05:14.8191880Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:05:14.8192071Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:05:14.8192103Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:05:14.8192132Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:05:14.8192164Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:05:14.8192190Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:05:14.8192214Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:05:14.8192238Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:05:14.8192264Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:05:14.8192289Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:05:14.8192342Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:05:14.8192499Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:05:14.8192531Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:05:14.8192568Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:05:15.0000218Z 2025-08-20 04:05:14.999 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:05:15.0076658Z 2025-08-20 04:05:15.006 +00:00 [ERR] Connection id "0HNEVJQFMP0H1", Request id "0HNEVJQFMP0H1:00000002": An unhandled exception was thrown by the application.
2025-08-20T04:05:15.0078055Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:05:15.0078805Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:05:15.0078881Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:15.0079499Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:15.0080185Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:05:15.0080258Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:15.0080965Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:05:15.0081042Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:15.0081672Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:05:15.0084320Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:05:15.0084443Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:05:15.0085190Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:05:15.0085270Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:05:15.0085957Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:05:15.0086035Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:15.0086648Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:15.0086761Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:05:15.0092062Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:05:15.0092166Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:05:15.0092820Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:15.0092890Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:15.0093583Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:05:15.0093657Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:05:15.0339347Z 2025-08-20 04:05:15.029 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 276.0781ms
2025-08-20T04:05:15.9568920Z 2025-08-20 04:05:15.943 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:05:15.9893236Z 2025-08-20 04:05:15.976 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:05:15.9893700Z 2025-08-20 04:05:15.982 +00:00 [INF] Starting configuration status health check
2025-08-20T04:05:15.9903029Z 2025-08-20 04:05:15.990 +00:00 [INF] All configurations are valid
2025-08-20T04:05:16.0142316Z 2025-08-20 04:05:16.013 +00:00 [ERR] Health check database with status Unhealthy completed after 19.2722ms with message 'Database connection failed'
2025-08-20T04:05:16.0331458Z 2025-08-20 04:05:16.026 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 35.121ms with message 'Event Store connection failed'
2025-08-20T04:05:16.0331889Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:05:16.0331926Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:05:16.0331953Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:05:16.0331978Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:05:16.0332005Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:05:16.0332036Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:05:16.0332060Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:05:16.0332086Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:05:16.0332110Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:05:16.0332163Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:05:16.0332189Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:05:16.0332220Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:05:16.0332286Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:05:16.0332317Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:05:16.0332372Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:05:16.0510530Z 2025-08-20 04:05:16.046 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:05:16.0903941Z 2025-08-20 04:05:16.053 +00:00 [ERR] Connection id "0HNEVJQFMP0H1", Request id "0HNEVJQFMP0H1:00000003": An unhandled exception was thrown by the application.
2025-08-20T04:05:16.0904262Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:05:16.0904305Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:05:16.0904332Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:16.0904360Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:16.0904394Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:05:16.0904507Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:16.0904542Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:05:16.0904570Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:16.0904600Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:05:16.0904627Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:05:16.0904653Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:05:16.0904681Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:05:16.0904709Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:05:16.0904736Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:05:16.0904791Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:16.0904820Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:16.0904850Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:05:16.0904877Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:05:16.0904904Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:05:16.0904930Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:16.0904955Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:16.0904987Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:05:16.0905016Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:05:16.1195972Z 2025-08-20 04:05:16.119 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 176.0119ms
2025-08-20T04:05:18.4452628Z 2025-08-20 04:05:18.439 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:05:18.4467452Z 2025-08-20 04:05:18.445 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 6.0083ms
2025-08-20T04:05:18.4545189Z 2025-08-20 04:05:18.453 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:05:20.0923088Z 2025-08-20 04:05:20.091 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:05:20.1052878Z 2025-08-20 04:05:20.104 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:05:20.1299933Z 2025-08-20 04:05:20.128 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 10.8811ms with message 'Event Store connection failed'
2025-08-20T04:05:20.1300403Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:05:20.1300528Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:05:20.1300560Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:05:20.1353689Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:05:20.1354078Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:05:20.1354119Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:05:20.1354144Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:05:20.1354169Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:05:20.1354203Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:05:20.1354229Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:05:20.1354329Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:05:20.1354360Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:05:20.1354390Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:05:20.1354422Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:05:20.1354456Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:05:20.1894456Z 2025-08-20 04:05:20.189 +00:00 [ERR] Health check database with status Unhealthy completed after 30.4756ms with message 'Database connection failed'
2025-08-20T04:05:20.2314298Z 2025-08-20 04:05:20.214 +00:00 [INF] Starting configuration status health check
2025-08-20T04:05:20.2563136Z 2025-08-20 04:05:20.249 +00:00 [INF] All configurations are valid
2025-08-20T04:05:20.2922965Z 2025-08-20 04:05:20.288 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:05:20.3098337Z 2025-08-20 04:05:20.305 +00:00 [ERR] Connection id "0HNEVJQFMP0H1", Request id "0HNEVJQFMP0H1:00000005": An unhandled exception was thrown by the application.
2025-08-20T04:05:20.3098676Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:05:20.3098713Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:05:20.3098740Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:20.3098767Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:20.3098808Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:05:20.3098837Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:20.3098952Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:05:20.3098981Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:20.3099010Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:05:20.3099037Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:05:20.3099064Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:05:20.3099091Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:05:20.3099119Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:05:20.3099146Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:05:20.3099197Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:20.3099227Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:20.3099255Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:05:20.3099282Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:05:20.3099309Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:05:20.3099334Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:20.3099359Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:20.3099391Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:05:20.3099419Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:05:20.3279106Z 2025-08-20 04:05:20.322 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 230.4582ms
2025-08-20T04:05:25.3642641Z 2025-08-20 04:05:25.362 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:05:25.3642978Z 2025-08-20 04:05:25.363 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:05:25.3745354Z 2025-08-20 04:05:25.374 +00:00 [INF] Starting configuration status health check
2025-08-20T04:05:25.3794524Z 2025-08-20 04:05:25.379 +00:00 [ERR] Health check database with status Unhealthy completed after 10.2052ms with message 'Database connection failed'
2025-08-20T04:05:25.3876574Z 2025-08-20 04:05:25.380 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 10.924ms with message 'Event Store connection failed'
2025-08-20T04:05:25.3876862Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:05:25.3878283Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:05:25.3878370Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:05:25.3878487Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:05:25.3878517Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:05:25.3878549Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:05:25.3878575Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:05:25.3878600Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:05:25.3878625Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:05:25.3878651Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:05:25.3878675Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:05:25.3878706Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:05:25.3878760Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:05:25.3878793Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:05:25.3878828Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:05:25.3879873Z 2025-08-20 04:05:25.381 +00:00 [INF] All configurations are valid
2025-08-20T04:05:25.4047956Z 2025-08-20 04:05:25.404 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:05:25.4136448Z 2025-08-20 04:05:25.412 +00:00 [ERR] Connection id "0HNEVJQFMP0H1", Request id "0HNEVJQFMP0H1:00000006": An unhandled exception was thrown by the application.
2025-08-20T04:05:25.4206636Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:05:25.4207924Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:05:25.4208146Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:25.4208852Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:05:25.4209537Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:05:25.4209612Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:25.4210323Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:05:25.4210396Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:05:25.4214384Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:05:25.4223527Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:05:25.4223636Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:05:25.4223668Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:05:25.4223697Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:05:25.4223864Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:05:25.4223905Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:25.4223934Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:05:25.4223963Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:05:25.4224029Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:05:25.4224058Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:05:25.4224085Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:25.4224111Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:05:25.4224143Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:05:25.4224171Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:05:25.4386879Z 2025-08-20 04:05:25.438 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 75.6691ms
2025-08-20T04:05:28.4820599Z 2025-08-20 04:05:28.481 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:05:28.5398533Z 2025-08-20 04:05:28.526 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 44.8331ms
2025-08-20T04:05:28.5491670Z 2025-08-20 04:05:28.547 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:06:31.6317472Z    _____                               
2025-08-20T04:06:31.6319227Z   /  _  \ __________ _________   ____  
2025-08-20T04:06:31.6319301Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T04:06:31.6319335Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T04:06:31.6319364Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T04:06:31.6319443Z         \/      \/                  \/ 
2025-08-20T04:06:31.6320699Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T04:06:31.6320783Z 
2025-08-20T04:06:31.6320827Z Documentation: http://aka.ms/webapp-linux
2025-08-20T04:06:31.6320864Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T04:06:31.6320893Z ASP .NETCore Version: 8.0.18
2025-08-20T04:06:31.6320954Z Note: Any data outside '/home' is not persisted
2025-08-20T04:06:36.7621723Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T04:06:36.7714804Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T04:06:36.8181465Z Updating certificates in /etc/ssl/certs...
2025-08-20T04:06:46.3461082Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T04:06:46.3748755Z 4 added, 0 removed; done.
2025-08-20T04:06:46.3750184Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T04:06:46.3833719Z done.
2025-08-20T04:06:46.4014101Z CA certificates copied and updated successfully.
2025-08-20T04:06:46.6248882Z Starting periodic command scheduler: cron.
2025-08-20T04:06:46.6583858Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T04:06:46.8126905Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T04:06:46.8127404Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T04:06:46.8127444Z Build Operation ID: 27889b10-0213-4a8f-92bb-e258e668d9f5
2025-08-20T04:06:47.0529092Z 
2025-08-20T04:06:47.0538706Z Agent extension 
2025-08-20T04:06:47.0542570Z Before if loop >> DotNet Runtime 
2025-08-20T04:06:47.1658577Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T04:06:47.2110392Z Trying to find the startup DLL name...
2025-08-20T04:06:47.2111399Z Found the startup D name: Zeus.People.API.dll
2025-08-20T04:06:47.2111494Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T04:06:49.7236913Z 2025-08-20 04:06:49.454 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T04:06:50.1592242Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T04:06:50.5848449Z 2025-08-20 04:06:50.545 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:06:50.5849933Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:06:50.5850003Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:06:50.5850039Z    at System.Uri..ctor(String uriString)
2025-08-20T04:06:50.5850078Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:06:50.5850194Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:06:50.5850237Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:06:50.6074334Z 2025-08-20 04:06:50.603 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T04:06:50.6502762Z 2025-08-20 04:06:50.649 +00:00 [INF] Starting configuration validation...
2025-08-20T04:06:50.6834267Z 2025-08-20 04:06:50.683 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:06:50.6834835Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:06:50.6834892Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:06:50.6834929Z    at System.Uri..ctor(String uriString)
2025-08-20T04:06:50.6834967Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:06:50.6835009Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:06:50.6835168Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:06:50.6919467Z 2025-08-20 04:06:50.691 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T04:06:50.6922831Z 2025-08-20 04:06:50.692 +00:00 [INF] Key Vault connectivity verified
2025-08-20T04:06:50.7589488Z 2025-08-20 04:06:50.754 +00:00 [INF] Configuration validation completed successfully
2025-08-20T04:06:51.0743207Z 2025-08-20 04:06:51.074 +00:00 [INF] Starting Zeus.People API
2025-08-20T04:06:51.1144660Z 2025-08-20 04:06:51.114 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T04:06:51.4439524Z 2025-08-20 04:06:51.440 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T04:06:51.4445169Z 2025-08-20 04:06:51.444 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T04:06:51.4448933Z 2025-08-20 04:06:51.444 +00:00 [INF] Hosting environment: Staging
2025-08-20T04:06:51.4452323Z 2025-08-20 04:06:51.445 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T04:06:52.4596882Z 2025-08-20 04:06:52.451 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - null null
2025-08-20T04:06:52.5879147Z 2025-08-20 04:06:52.582 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T04:06:52.9974946Z 2025-08-20 04:06:52.887 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - 404 0 null 452.5724ms
2025-08-20T04:06:53.0825979Z 2025-08-20 04:06:53.073 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.2:8080/robots933456.txt, Response status code: 404
2025-08-20T04:07:01.0730167Z 2025-08-20 04:07:01.072 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T04:07:01.0798307Z 2025-08-20 04:07:01.079 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 7.3445ms
2025-08-20T04:07:01.0934400Z 2025-08-20 04:07:01.093 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T04:07:01.9766493Z 2025-08-20 04:07:01.969 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:07:01.9766973Z 2025-08-20 04:07:01.971 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:07:02.0238477Z 2025-08-20 04:07:02.021 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:07:02.0870192Z 2025-08-20 04:07:02.063 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:07:03.1888119Z 2025-08-20 04:07:03.175 +00:00 [INF] Starting configuration status health check
2025-08-20T04:07:03.6756121Z 2025-08-20 04:07:03.665 +00:00 [INF] All configurations are valid
2025-08-20T04:07:05.1432987Z 2025-08-20 04:07:05.143 +00:00 [INF] Starting configuration status health check
2025-08-20T04:07:05.1440970Z 2025-08-20 04:07:05.143 +00:00 [INF] All configurations are valid
2025-08-20T04:07:11.0029950Z 2025-08-20 04:07:11.002 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:07:11.0280152Z 2025-08-20 04:07:11.027 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:07:11.9868811Z 2025-08-20 04:07:11.986 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:07:11.9911179Z 2025-08-20 04:07:11.990 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 4.5635ms
2025-08-20T04:07:11.9916920Z 2025-08-20 04:07:11.991 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:07:12.0211164Z 2025-08-20 04:07:12.020 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:07:12.0219267Z 2025-08-20 04:07:12.021 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:07:13.7845247Z 2025-08-20 04:07:13.730 +00:00 [INF] Starting configuration status health check
2025-08-20T04:07:13.7867470Z 2025-08-20 04:07:13.785 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:07:13.7937742Z 2025-08-20 04:07:13.791 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 6.7872ms
2025-08-20T04:07:13.7940189Z 2025-08-20 04:07:13.793 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:07:13.8209131Z 2025-08-20 04:07:13.794 +00:00 [INF] All configurations are valid
2025-08-20T04:07:14.0218357Z 2025-08-20 04:07:14.021 +00:00 [INF] Starting configuration status health check
2025-08-20T04:07:14.0291460Z 2025-08-20 04:07:14.028 +00:00 [INF] All configurations are valid
2025-08-20T04:07:29.3952743Z 2025-08-20 04:07:29.377 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:07:29.4865260Z 2025-08-20 04:07:29.486 +00:00 [ERR] Health check database with status Unhealthy completed after 15537.7266ms with message 'Database connection failed'
2025-08-20T04:07:29.5038208Z 2025-08-20 04:07:29.470 +00:00 [ERR] Health check database with status Unhealthy completed after 15440.6961ms with message 'Database connection failed'
2025-08-20T04:07:29.5129329Z 2025-08-20 04:07:29.478 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:07:29.5142024Z 2025-08-20 04:07:29.478 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:07:29.5914957Z 2025-08-20 04:07:29.479 +00:00 [ERR] Health check database with status Unhealthy completed after 24329.4357ms with message 'Database connection failed'
2025-08-20T04:07:29.6327587Z 2025-08-20 04:07:29.415 +00:00 [ERR] Health check database with status Unhealthy completed after 24950.7332ms with message 'Database connection failed'
2025-08-20T04:07:29.7539159Z 2025-08-20 04:07:29.743 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:07:30.0180872Z 2025-08-20 04:07:29.661 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 25079.3968ms with message 'Event Store connection failed'
2025-08-20T04:07:30.0181511Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:07:30.0181554Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:07:30.0181579Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:07:30.0181603Z --- End of stack trace from previous location ---
2025-08-20T04:07:30.0181632Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:30.0181751Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:30.0181779Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:07:30.0181809Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:07:30.0181840Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:07:30.0181874Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:07:30.0181899Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:07:30.0469385Z 2025-08-20 04:07:29.597 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 24260.4414ms with message 'Event Store connection failed'
2025-08-20T04:07:30.0469799Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:07:30.0469839Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:07:30.0469866Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:07:30.0469892Z --- End of stack trace from previous location ---
2025-08-20T04:07:30.0469920Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:30.0469947Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:30.0469976Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:07:30.0470005Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:07:30.0470058Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:07:30.0470093Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:07:30.0470116Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:07:30.1211013Z 2025-08-20 04:07:30.103 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:07:30.1211356Z 2025-08-20 04:07:30.103 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:07:30.1384199Z 2025-08-20 04:07:29.643 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 17620.3928ms with message 'Event Store connection failed'
2025-08-20T04:07:30.1384604Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:07:30.1384650Z    at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
2025-08-20T04:07:30.1384761Z    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-08-20T04:07:30.1384796Z    at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
2025-08-20T04:07:30.1384831Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-08-20T04:07:30.1384866Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-08-20T04:07:30.1384900Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-08-20T04:07:30.1384943Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-08-20T04:07:30.1384976Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-08-20T04:07:30.1385187Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-08-20T04:07:30.1385225Z    at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:07:30.1385254Z    at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:07:30.1385313Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:07:30.1385337Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:07:30.1385361Z --- End of stack trace from previous location ---
2025-08-20T04:07:30.1385389Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:30.1385417Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:30.1385472Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:07:30.1385504Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:07:30.1387485Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:07:30.1387581Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:07:30.1387608Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:07:30.1558269Z 2025-08-20 04:07:29.963 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 18921.8223ms with message 'Event Store connection failed'
2025-08-20T04:07:30.1558626Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:07:30.1558714Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:07:30.1558746Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:07:30.1558771Z --- End of stack trace from previous location ---
2025-08-20T04:07:30.1558800Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:30.1558827Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:30.1558855Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:07:30.1558885Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:07:30.1558916Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:07:30.1558950Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:07:30.1558997Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:07:30.2076061Z 2025-08-20 04:07:30.194 +00:00 [ERR] Connection id "0HNEVJRV7E7NE", Request id "0HNEVJRV7E7NE:00000001": An unhandled exception was thrown by the application.
2025-08-20T04:07:30.2078045Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:07:30.2078721Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:07:30.2078798Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:30.2079486Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:30.2080396Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:07:30.2080486Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T04:07:30.2081162Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:07:30.2082255Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:30.2082358Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:07:30.2083128Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:07:30.2083212Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:07:30.2084039Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:07:30.2084154Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:07:30.2084819Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:07:30.2084903Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:07:30.2085650Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:07:30.2085735Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:30.2086363Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:30.2087332Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:07:30.2087413Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:07:30.2088050Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:07:30.2088128Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:30.2088156Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:30.2089444Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:07:30.2090174Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:07:30.2185781Z 2025-08-20 04:07:30.218 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:07:30.2203531Z 2025-08-20 04:07:30.219 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:07:30.2220507Z 2025-08-20 04:07:30.221 +00:00 [ERR] Connection id "0HNEVJRV7E7NH", Request id "0HNEVJRV7E7NH:00000001": An unhandled exception was thrown by the application.
2025-08-20T04:07:30.2268841Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:07:30.2269856Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:07:30.2270083Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:30.2271664Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:30.2272570Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:07:30.2272658Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T04:07:30.2273458Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:07:30.2274244Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:30.2274327Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:07:30.2275091Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:07:30.2275175Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:07:30.2275943Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:07:30.2276022Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:07:30.2276778Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:07:30.2276862Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:07:30.2277506Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:07:30.2277587Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:30.2278316Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:30.2279057Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:07:30.2279136Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:07:30.2279853Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:07:30.2279933Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:30.2280004Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:30.2280689Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:07:30.2281461Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:07:30.2283549Z 2025-08-20 04:07:30.226 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 28255.3173ms
2025-08-20T04:07:30.2548760Z 2025-08-20 04:07:30.246 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 18225.8974ms
2025-08-20T04:07:30.2725002Z 2025-08-20 04:07:30.200 +00:00 [ERR] Connection id "0HNEVJRV7E7ND", Request id "0HNEVJRV7E7ND:00000002": An unhandled exception was thrown by the application.
2025-08-20T04:07:30.2737446Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:07:30.2737751Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:07:30.2737794Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:30.2737823Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:30.2737925Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:07:30.2737958Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T04:07:30.2737987Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:07:30.2738016Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:30.2738076Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:07:30.2738104Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:07:30.2738156Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:07:30.2738188Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:07:30.2738214Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:07:30.2738241Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:07:30.2738269Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:07:30.2738296Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:07:30.2738325Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:30.2738353Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:30.2738381Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:07:30.2738428Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:07:30.2738461Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:07:30.2738486Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:30.2738511Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:30.2738542Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:07:30.2738569Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:07:30.2742099Z 2025-08-20 04:07:30.227 +00:00 [ERR] Connection id "0HNEVJRV7E7NG", Request id "0HNEVJRV7E7NG:00000001": An unhandled exception was thrown by the application.
2025-08-20T04:07:30.2742955Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:07:30.2743703Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:07:30.2743823Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:30.2744586Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:30.2745380Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:07:30.2745465Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T04:07:30.2746146Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:07:30.2746974Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:30.2747108Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:07:30.2747787Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:07:30.2747863Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:07:30.2748594Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:07:30.2748674Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:07:30.2749321Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:07:30.2749433Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:07:30.2750194Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:07:30.2750277Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:30.2750923Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:30.2751764Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:07:30.2751843Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:07:30.2752607Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:07:30.2752825Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:30.2752859Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:30.2753583Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:07:30.2754272Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:07:30.4629176Z 2025-08-20 04:07:30.303 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 28333.9131ms
2025-08-20T04:07:30.4629868Z 2025-08-20 04:07:30.357 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 19354.9028ms
2025-08-20T04:07:35.4732888Z 2025-08-20 04:07:35.455 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:07:35.4733639Z 2025-08-20 04:07:35.465 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:07:35.5136210Z 2025-08-20 04:07:35.506 +00:00 [INF] Starting configuration status health check
2025-08-20T04:07:35.5827588Z 2025-08-20 04:07:35.582 +00:00 [INF] All configurations are valid
2025-08-20T04:07:49.8167948Z 2025-08-20 04:07:49.815 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:07:49.8306565Z 2025-08-20 04:07:49.823 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14282.8608ms with message 'Event Store connection failed'
2025-08-20T04:07:49.8306930Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:07:49.8306971Z    at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
2025-08-20T04:07:49.8307001Z    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-08-20T04:07:49.8307034Z    at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
2025-08-20T04:07:49.8307066Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-08-20T04:07:49.8307190Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-08-20T04:07:49.8307225Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-08-20T04:07:49.8307268Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-08-20T04:07:49.8307302Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-08-20T04:07:49.8307334Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-08-20T04:07:49.8307363Z    at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:07:49.8307393Z    at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:07:49.8307450Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:07:49.8307475Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:07:49.8307498Z --- End of stack trace from previous location ---
2025-08-20T04:07:49.8307527Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:49.8307555Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:49.8307582Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:07:49.8307611Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:07:49.8307859Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:07:49.8307901Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:07:49.8307946Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:07:50.3914319Z 2025-08-20 04:07:50.370 +00:00 [ERR] Health check database with status Unhealthy completed after 14861.1947ms with message 'Database connection failed'
2025-08-20T04:07:50.4133570Z 2025-08-20 04:07:50.371 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:07:50.4134103Z 2025-08-20 04:07:50.383 +00:00 [ERR] Connection id "0HNEVJRV7E7NG", Request id "0HNEVJRV7E7NG:00000002": An unhandled exception was thrown by the application.
2025-08-20T04:07:50.4528566Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:07:50.4528969Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:07:50.4529011Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:50.4529122Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:50.4529161Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:07:50.4529191Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:50.4529221Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:07:50.4529249Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:50.4529277Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:07:50.4529304Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:07:50.4529331Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:07:50.4529360Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:07:50.4529417Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:07:50.4529445Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:07:50.4529473Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:07:50.4529500Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:07:50.4529529Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:50.4529558Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:50.4529587Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:07:50.4529613Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:07:50.4529641Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:07:50.4529689Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:50.4529714Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:50.4529746Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:07:50.4529773Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:07:50.4529803Z 2025-08-20 04:07:50.415 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 15081.5273ms
2025-08-20T04:07:51.9929383Z    _____                               
2025-08-20T04:07:51.9931965Z   /  _  \ __________ _________   ____  
2025-08-20T04:07:51.9932180Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T04:07:51.9932213Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T04:07:51.9932243Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T04:07:51.9932286Z         \/      \/                  \/ 
2025-08-20T04:07:51.9932350Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T04:07:51.9932377Z 
2025-08-20T04:07:51.9932413Z Documentation: http://aka.ms/webapp-linux
2025-08-20T04:07:51.9932446Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T04:07:51.9932475Z ASP .NETCore Version: 8.0.18
2025-08-20T04:07:51.9932505Z Note: Any data outside '/home' is not persisted
2025-08-20T04:07:53.2558239Z 2025-08-20 04:07:53.255 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:07:53.2605120Z 2025-08-20 04:07:53.259 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:07:53.2665817Z 2025-08-20 04:07:53.263 +00:00 [INF] Starting configuration status health check
2025-08-20T04:07:53.2995450Z 2025-08-20 04:07:53.271 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:07:53.4512527Z 2025-08-20 04:07:53.301 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 36.6532ms with message 'Event Store connection failed'
2025-08-20T04:07:53.4512982Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:07:53.4513024Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:07:53.4513135Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:07:53.4513170Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:07:53.4513202Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:07:53.4513235Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:07:53.4513262Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:07:53.4513287Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:07:53.4513310Z --- End of stack trace from previous location ---
2025-08-20T04:07:53.4513337Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:53.4513366Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:53.4513419Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:07:53.4513449Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:07:53.4513481Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:07:53.4513515Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:07:53.4514098Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:07:53.5270204Z 2025-08-20 04:07:53.526 +00:00 [ERR] Health check database with status Unhealthy completed after 97.2377ms with message 'Database connection failed'
2025-08-20T04:07:53.5749187Z 2025-08-20 04:07:53.574 +00:00 [INF] All configurations are valid
2025-08-20T04:07:53.5813781Z 2025-08-20 04:07:53.581 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:07:53.6087930Z 2025-08-20 04:07:53.600 +00:00 [ERR] Connection id "0HNEVJRV7E7NG", Request id "0HNEVJRV7E7NG:00000003": An unhandled exception was thrown by the application.
2025-08-20T04:07:53.6098498Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:07:53.6425861Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:07:53.6426494Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:53.6452942Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:53.6453261Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:07:53.6453459Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:53.6453500Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:07:53.6453531Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:53.6453560Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:07:53.6453587Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:07:53.6453614Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:07:53.6453641Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:07:53.6453669Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:07:53.6453696Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:07:53.6453756Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:53.6771127Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:53.6778962Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:07:53.6797266Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:07:53.7310681Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:07:53.7310938Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:53.7310970Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:53.7311003Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:07:53.7311039Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:07:53.7311598Z 2025-08-20 04:07:53.651 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 396.1689ms
2025-08-20T04:07:54.2017168Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T04:07:54.2211056Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T04:07:54.2628444Z Updating certificates in /etc/ssl/certs...
2025-08-20T04:07:55.4574846Z 2025-08-20 04:07:55.457 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:07:55.4649592Z 2025-08-20 04:07:55.464 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:07:55.4889449Z 2025-08-20 04:07:55.488 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:07:55.5180855Z 2025-08-20 04:07:55.489 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2.1357ms with message 'Event Store connection failed'
2025-08-20T04:07:55.5182919Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:07:55.5183854Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:07:55.5184487Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:07:55.5184657Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:07:55.5185307Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:07:55.5185959Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:07:55.5186712Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:07:55.5186791Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:07:55.5186818Z --- End of stack trace from previous location ---
2025-08-20T04:07:55.5187405Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:55.5187481Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:07:55.5188205Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:07:55.5188291Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:07:55.5188869Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:07:55.5189747Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:07:55.5189825Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:07:55.5673543Z 2025-08-20 04:07:55.567 +00:00 [INF] Starting configuration status health check
2025-08-20T04:07:55.5692938Z 2025-08-20 04:07:55.569 +00:00 [INF] All configurations are valid
2025-08-20T04:07:55.6080732Z 2025-08-20 04:07:55.603 +00:00 [ERR] Health check database with status Unhealthy completed after 45.0184ms with message 'Database connection failed'
2025-08-20T04:07:55.6151321Z 2025-08-20 04:07:55.610 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:07:55.6171155Z 2025-08-20 04:07:55.615 +00:00 [ERR] Connection id "0HNEVJRV7E7NG", Request id "0HNEVJRV7E7NG:00000004": An unhandled exception was thrown by the application.
2025-08-20T04:07:55.6450357Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:07:55.6500599Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:07:55.6500865Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:55.6502044Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:07:55.6502844Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:07:55.6502925Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:55.6503539Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:07:55.6503619Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:07:55.6504282Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:07:55.6504920Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:07:55.6504993Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:07:55.6505713Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:07:55.6505796Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:07:55.6506375Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:07:55.6553280Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:55.6554342Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:07:55.6554433Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:07:55.6555183Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:07:55.6555305Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:07:55.6555813Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:55.6555882Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:07:55.6556504Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:07:55.6556584Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:07:55.6871668Z 2025-08-20 04:07:55.686 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 229.7816ms
2025-08-20T04:08:00.7658322Z 2025-08-20 04:08:00.760 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:08:00.8403278Z 2025-08-20 04:08:00.838 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:08:00.8515847Z 2025-08-20 04:08:00.851 +00:00 [INF] Starting configuration status health check
2025-08-20T04:08:00.8677174Z 2025-08-20 04:08:00.867 +00:00 [INF] All configurations are valid
2025-08-20T04:08:08.0058217Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T04:08:08.0398475Z 4 added, 0 removed; done.
2025-08-20T04:08:08.0436982Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T04:08:08.0546502Z done.
2025-08-20T04:08:08.0764076Z CA certificates copied and updated successfully.
2025-08-20T04:08:08.3574287Z Starting periodic command scheduler: cron.
2025-08-20T04:08:08.3656477Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T04:08:08.6282433Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T04:08:08.6283032Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T04:08:08.6283074Z Build Operation ID: 443d92bc-65b5-48c3-a03d-0fbc2516cff8
2025-08-20T04:08:09.1201048Z 
2025-08-20T04:08:09.1201476Z Agent extension 
2025-08-20T04:08:09.1201521Z Before if loop >> DotNet Runtime 
2025-08-20T04:08:09.2303122Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T04:08:09.3245482Z Trying to find the startup DLL name...
2025-08-20T04:08:09.3247323Z Found the startup D name: Zeus.People.API.dll
2025-08-20T04:08:09.3248387Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T04:08:12.3554242Z 2025-08-20 04:08:12.255 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T04:08:12.8726620Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T04:08:13.7420446Z 2025-08-20 04:08:13.692 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:08:13.7420971Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:08:13.7421103Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:08:13.7421137Z    at System.Uri..ctor(String uriString)
2025-08-20T04:08:13.7421178Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:08:13.7421215Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:08:13.7421258Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:08:13.7757049Z 2025-08-20 04:08:13.775 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T04:08:13.8248648Z 2025-08-20 04:08:13.824 +00:00 [INF] Starting configuration validation...
2025-08-20T04:08:13.8508958Z 2025-08-20 04:08:13.848 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:08:13.8509684Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:08:13.8509829Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:08:13.8509862Z    at System.Uri..ctor(String uriString)
2025-08-20T04:08:13.8509901Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:08:13.8509939Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:08:13.8509981Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:08:13.8625188Z 2025-08-20 04:08:13.857 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T04:08:13.8625641Z 2025-08-20 04:08:13.858 +00:00 [INF] Key Vault connectivity verified
2025-08-20T04:08:13.9152016Z 2025-08-20 04:08:13.912 +00:00 [INF] Configuration validation completed successfully
2025-08-20T04:08:14.2324498Z 2025-08-20 04:08:14.231 +00:00 [INF] Starting Zeus.People API
2025-08-20T04:08:14.2924200Z 2025-08-20 04:08:14.289 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T04:08:14.5883652Z 2025-08-20 04:08:14.588 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T04:08:14.5957695Z 2025-08-20 04:08:14.595 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T04:08:14.5970184Z 2025-08-20 04:08:14.596 +00:00 [INF] Hosting environment: Staging
2025-08-20T04:08:14.5982981Z 2025-08-20 04:08:14.598 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T04:08:15.5190681Z 2025-08-20 04:08:15.518 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:08:15.5330902Z 2025-08-20 04:08:15.528 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14644.4339ms with message 'Event Store connection failed'
2025-08-20T04:08:15.5331246Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:08:15.5331279Z    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-08-20T04:08:15.5331393Z    at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
2025-08-20T04:08:15.5331429Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-08-20T04:08:15.5331466Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-08-20T04:08:15.5331500Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-08-20T04:08:15.5331544Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-08-20T04:08:15.5331580Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-08-20T04:08:15.5331614Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-08-20T04:08:15.5331665Z    at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:08:15.5331696Z    at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:08:15.5331730Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:15.5331754Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:08:15.5331777Z --- End of stack trace from previous location ---
2025-08-20T04:08:15.5331805Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:15.5331833Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:15.5331862Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:08:15.5331892Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:08:15.5331949Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:08:15.5332306Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:08:15.5332338Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:08:15.5672302Z 2025-08-20 04:08:15.565 +00:00 [ERR] Health check database with status Unhealthy completed after 14715.1148ms with message 'Database connection failed'
2025-08-20T04:08:15.5744767Z 2025-08-20 04:08:15.572 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:08:15.5908089Z 2025-08-20 04:08:15.580 +00:00 [ERR] Connection id "0HNEVJRV7E7NG", Request id "0HNEVJRV7E7NG:00000005": An unhandled exception was thrown by the application.
2025-08-20T04:08:15.5961402Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:08:15.5961787Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:08:15.5961819Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:15.5961846Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:15.5961881Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:08:15.5962518Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:15.5962579Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:08:15.5962608Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:15.5962640Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:08:15.5962695Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:08:15.5962727Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:08:15.5962754Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:08:15.5962783Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:08:15.5962809Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:08:15.5962838Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:15.5962867Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:15.5962897Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:08:15.5962923Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:08:15.5962974Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:08:15.5962999Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:15.5963024Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:15.5963055Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:08:15.5963082Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:08:15.6196627Z 2025-08-20 04:08:15.618 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 14858.3128ms
2025-08-20T04:08:17.2721108Z 2025-08-20 04:08:17.257 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:08:17.2894426Z 2025-08-20 04:08:17.280 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:08:17.3492004Z 2025-08-20 04:08:17.348 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:08:17.3781069Z 2025-08-20 04:08:17.350 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 32.5792ms with message 'Event Store connection failed'
2025-08-20T04:08:17.3781459Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:08:17.3781503Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:17.3781537Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:17.3781573Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:08:17.3781613Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:08:17.3781717Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:08:17.3781747Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:08:17.3781773Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:08:17.3781797Z --- End of stack trace from previous location ---
2025-08-20T04:08:17.3781826Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:17.3781855Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:17.3781884Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:08:17.3781915Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:08:17.3781946Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:08:17.3782009Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:08:17.3782033Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:08:17.4016647Z 2025-08-20 04:08:17.395 +00:00 [ERR] Health check database with status Unhealthy completed after 1.9647ms with message 'Database connection failed'
2025-08-20T04:08:17.4305360Z 2025-08-20 04:08:17.426 +00:00 [INF] Starting configuration status health check
2025-08-20T04:08:17.4905221Z 2025-08-20 04:08:17.450 +00:00 [INF] All configurations are valid
2025-08-20T04:08:17.4919697Z 2025-08-20 04:08:17.457 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:08:17.4919789Z 2025-08-20 04:08:17.481 +00:00 [ERR] Connection id "0HNEVJRV7E7NG", Request id "0HNEVJRV7E7NG:00000006": An unhandled exception was thrown by the application.
2025-08-20T04:08:17.4919825Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:08:17.4919857Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:08:17.4919885Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:17.4919911Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:17.4919945Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:08:17.4919999Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:17.4920030Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:08:17.4920059Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:17.4920087Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:08:17.4920114Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:08:17.4920142Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:08:17.4920168Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:08:17.4920196Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:08:17.4920222Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:08:17.4920275Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:17.4920306Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:17.4920334Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:08:17.4920361Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:08:17.4920388Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:08:17.4920413Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:17.4920437Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:17.4920469Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:08:17.4920496Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:08:17.5407098Z 2025-08-20 04:08:17.534 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 277.1939ms
2025-08-20T04:08:20.6405892Z 2025-08-20 04:08:20.640 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:08:20.6433205Z 2025-08-20 04:08:20.643 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:08:20.6646716Z 2025-08-20 04:08:20.659 +00:00 [INF] Starting configuration status health check
2025-08-20T04:08:20.6937758Z 2025-08-20 04:08:20.693 +00:00 [INF] All configurations are valid
2025-08-20T04:08:20.6964708Z 2025-08-20 04:08:20.696 +00:00 [ERR] Health check database with status Unhealthy completed after 1.519ms with message 'Database connection failed'
2025-08-20T04:08:20.7189871Z 2025-08-20 04:08:20.713 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:08:20.7280236Z 2025-08-20 04:08:20.723 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 21.5449ms with message 'Event Store connection failed'
2025-08-20T04:08:20.7280753Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:08:20.7280798Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:20.7280840Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:20.7280873Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:08:20.7280904Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:08:20.7280937Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:08:20.7281031Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:08:20.7281057Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:08:20.7281081Z --- End of stack trace from previous location ---
2025-08-20T04:08:20.7281109Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:20.7281137Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:20.7281165Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:08:20.7281194Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:08:20.7281224Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:08:20.7281282Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:08:20.7281307Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:08:20.7552696Z 2025-08-20 04:08:20.747 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:08:20.7553727Z 2025-08-20 04:08:20.748 +00:00 [ERR] Connection id "0HNEVJRV7E7NG", Request id "0HNEVJRV7E7NG:00000007": An unhandled exception was thrown by the application.
2025-08-20T04:08:20.7772111Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:08:20.7772482Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:08:20.7772526Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:20.7772553Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:20.7772636Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:08:20.7772670Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:20.7772700Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:08:20.7772728Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:20.7772757Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:08:20.7772783Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:08:20.7772812Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:08:20.7772840Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:08:20.7772868Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:08:20.7772923Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:08:20.7772954Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:20.7772982Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:20.7773011Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:08:20.7773038Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:08:20.7773065Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:08:20.7773091Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:20.7773116Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:20.7773169Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:08:20.7773200Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:08:20.8386603Z 2025-08-20 04:08:20.806 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 166.6144ms
2025-08-20T04:08:22.3474054Z 2025-08-20 04:08:22.341 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:08:22.3554933Z 2025-08-20 04:08:22.355 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:08:22.3808393Z 2025-08-20 04:08:22.380 +00:00 [INF] Starting configuration status health check
2025-08-20T04:08:22.3886450Z 2025-08-20 04:08:22.382 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3967ms with message 'Database connection failed'
2025-08-20T04:08:22.3995807Z 2025-08-20 04:08:22.390 +00:00 [INF] All configurations are valid
2025-08-20T04:08:22.4055631Z 2025-08-20 04:08:22.403 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:08:22.4658770Z 2025-08-20 04:08:22.447 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 77.1418ms with message 'Event Store connection failed'
2025-08-20T04:08:22.4659485Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:08:22.4659533Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:22.4659565Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:22.4659598Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:08:22.4659629Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:08:22.4659660Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:08:22.4659701Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:08:22.4659727Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:08:22.4659776Z --- End of stack trace from previous location ---
2025-08-20T04:08:22.4659806Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:22.4659833Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:22.4659860Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:08:22.4659890Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:08:22.4659920Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:08:22.4659955Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:08:22.4659978Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:08:22.4660002Z 2025-08-20 04:08:22.465 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:08:22.4809955Z 2025-08-20 04:08:22.474 +00:00 [ERR] Connection id "0HNEVJRV7E7NG", Request id "0HNEVJRV7E7NG:00000008": An unhandled exception was thrown by the application.
2025-08-20T04:08:22.4810353Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:08:22.4810392Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:08:22.4810419Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:22.4810446Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:22.4810485Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:08:22.4810516Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:22.4810631Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:08:22.4810663Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:22.4810691Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:08:22.4810718Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:08:22.4810746Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:08:22.4810773Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:08:22.4810804Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:08:22.4810832Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:08:22.4810861Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:22.4810914Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:22.4810942Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:08:22.4810968Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:08:22.4810996Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:08:22.4811022Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:22.4811048Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:22.4811080Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:08:22.4811107Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:08:22.5067167Z 2025-08-20 04:08:22.500 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 159.0754ms
2025-08-20T04:08:22.7872037Z 2025-08-20 04:08:22.771 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:08:22.7907395Z 2025-08-20 04:08:22.790 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 18.4559ms
2025-08-20T04:08:22.8241518Z 2025-08-20 04:08:22.823 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:08:22.9900593Z 2025-08-20 04:08:22.989 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger - null 0
2025-08-20T04:08:23.0153927Z 2025-08-20 04:08:23.015 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger - 404 0 null 26.1834ms
2025-08-20T04:08:23.0247556Z 2025-08-20 04:08:23.024 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/swagger, Response status code: 404
2025-08-20T04:08:23.3473914Z 2025-08-20 04:08:23.237 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T04:08:23.3474436Z 2025-08-20 04:08:23.247 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 10.9974ms
2025-08-20T04:08:23.3474486Z 2025-08-20 04:08:23.248 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T04:08:23.6880012Z 2025-08-20 04:08:23.524 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count - null 0
2025-08-20T04:08:23.6880956Z 2025-08-20 04:08:23.534 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count - 404 0 null 15.8553ms
2025-08-20T04:08:23.6881011Z 2025-08-20 04:08:23.535 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/count, Response status code: 404
2025-08-20T04:08:23.8666931Z 2025-08-20 04:08:23.858 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search?q= - null 0
2025-08-20T04:08:23.9037146Z 2025-08-20 04:08:23.895 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search?q= - 404 0 null 37.0196ms
2025-08-20T04:08:23.9132142Z 2025-08-20 04:08:23.904 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people/search, Response status code: 404
2025-08-20T04:08:24.7653664Z 2025-08-20 04:08:24.654 +00:00 [INF] Request starting HTTP/1.1 POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - application/json 126
2025-08-20T04:08:24.7654037Z 2025-08-20 04:08:24.686 +00:00 [INF] Request finished HTTP/1.1 POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 32.5711ms
2025-08-20T04:08:24.7654081Z 2025-08-20 04:08:24.718 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T04:08:25.0151875Z 2025-08-20 04:08:24.997 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info - null 0
2025-08-20T04:08:25.0379258Z 2025-08-20 04:08:25.037 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info - 404 0 null 40.0004ms
2025-08-20T04:08:25.0647470Z 2025-08-20 04:08:25.056 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/info, Response status code: 404
2025-08-20T04:08:25.2684272Z 2025-08-20 04:08:25.243 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config - null 0
2025-08-20T04:08:25.2684648Z 2025-08-20 04:08:25.261 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config - 404 0 null 17.7407ms
2025-08-20T04:08:25.3116582Z 2025-08-20 04:08:25.276 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/config, Response status code: 404
2025-08-20T04:08:25.5452676Z 2025-08-20 04:08:25.545 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database - null 0
2025-08-20T04:08:25.5909520Z 2025-08-20 04:08:25.589 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database - 404 0 null 44.8621ms
2025-08-20T04:08:25.5910353Z 2025-08-20 04:08:25.590 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health/database, Response status code: 404
2025-08-20T04:08:25.8326007Z 2025-08-20 04:08:25.832 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:08:25.8415917Z 2025-08-20 04:08:25.841 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:08:25.8577265Z 2025-08-20 04:08:25.848 +00:00 [INF] Starting configuration status health check
2025-08-20T04:08:25.8577977Z 2025-08-20 04:08:25.851 +00:00 [ERR] Health check database with status Unhealthy completed after 1.4754ms with message 'Database connection failed'
2025-08-20T04:08:25.8593201Z 2025-08-20 04:08:25.859 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:08:25.8654947Z 2025-08-20 04:08:25.860 +00:00 [INF] All configurations are valid
2025-08-20T04:08:25.8947247Z 2025-08-20 04:08:25.893 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 35.5846ms with message 'Event Store connection failed'
2025-08-20T04:08:25.8948125Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:08:25.8948178Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:25.8948210Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:25.8948249Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:08:25.8948281Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:08:25.8948392Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:08:25.8948421Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:08:25.8948447Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:08:25.8948470Z --- End of stack trace from previous location ---
2025-08-20T04:08:25.8948498Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:25.8948526Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:25.8948556Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:08:25.8948587Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:08:25.8948622Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:08:25.8948686Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:08:25.8948711Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:08:25.9028335Z 2025-08-20 04:08:25.901 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:08:25.9118420Z 2025-08-20 04:08:25.911 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 9.6782ms
2025-08-20T04:08:25.9450037Z 2025-08-20 04:08:25.936 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:08:25.9820828Z 2025-08-20 04:08:25.981 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:08:25.9894944Z 2025-08-20 04:08:25.988 +00:00 [ERR] Connection id "0HNEVJRV7E7NG", Request id "0HNEVJRV7E7NG:00000012": An unhandled exception was thrown by the application.
2025-08-20T04:08:25.9997716Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:08:25.9999544Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:08:25.9999643Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:26.0000379Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:26.0003108Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:08:26.0003202Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:26.0003921Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:08:26.0004063Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:26.0004776Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:08:26.0005450Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:08:26.0005523Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:08:26.0006198Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:08:26.0006272Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:08:26.0053646Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:08:26.0054066Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:26.0060511Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:26.0060643Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:08:26.0060672Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:08:26.0060701Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:08:26.0060727Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:26.0060751Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:26.0060784Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:08:26.0060814Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:08:26.0404641Z 2025-08-20 04:08:26.040 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 208.1743ms
2025-08-20T04:08:26.1892784Z 2025-08-20 04:08:26.183 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T04:08:26.1974201Z 2025-08-20 04:08:26.197 +00:00 [INF] CORS policy execution successful.
2025-08-20T04:08:26.2175955Z 2025-08-20 04:08:26.217 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 34.2665ms
2025-08-20T04:08:26.2286155Z 2025-08-20 04:08:26.228 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T04:08:26.4002753Z 2025-08-20 04:08:26.399 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T04:08:26.4012723Z 2025-08-20 04:08:26.401 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 1.5293ms
2025-08-20T04:08:26.4252764Z 2025-08-20 04:08:26.425 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T04:08:26.5976075Z 2025-08-20 04:08:26.597 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T04:08:26.6040767Z 2025-08-20 04:08:26.603 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 6.7374ms
2025-08-20T04:08:26.6257270Z 2025-08-20 04:08:26.625 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T04:08:26.8694170Z 2025-08-20 04:08:26.861 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T04:08:26.8785272Z 2025-08-20 04:08:26.870 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 9.7141ms
2025-08-20T04:08:26.8785576Z 2025-08-20 04:08:26.872 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T04:08:27.0640256Z 2025-08-20 04:08:27.063 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T04:08:27.0653704Z 2025-08-20 04:08:27.065 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 1.5962ms
2025-08-20T04:08:27.0728235Z 2025-08-20 04:08:27.072 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T04:08:27.2677758Z 2025-08-20 04:08:27.263 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T04:08:27.2849849Z 2025-08-20 04:08:27.281 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 17.41ms
2025-08-20T04:08:27.3205317Z 2025-08-20 04:08:27.309 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T04:08:27.5079106Z 2025-08-20 04:08:27.504 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent - null 0
2025-08-20T04:08:27.5107642Z 2025-08-20 04:08:27.510 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent - 404 0 null 6.1706ms
2025-08-20T04:08:27.5168051Z 2025-08-20 04:08:27.515 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/nonexistent, Response status code: 404
2025-08-20T04:08:27.6754829Z 2025-08-20 04:08:27.675 +00:00 [INF] Request starting HTTP/1.1 PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - null 0
2025-08-20T04:08:27.6822333Z 2025-08-20 04:08:27.678 +00:00 [INF] Request finished HTTP/1.1 PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people - 404 0 null 3.2961ms
2025-08-20T04:08:27.6823024Z 2025-08-20 04:08:27.679 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PATCH http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/api/people, Response status code: 404
2025-08-20T04:08:27.9108776Z 2025-08-20 04:08:27.904 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T04:08:27.9349261Z 2025-08-20 04:08:27.916 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 19.366ms
2025-08-20T04:08:27.9692616Z 2025-08-20 04:08:27.965 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T04:08:31.1248308Z 2025-08-20 04:08:31.124 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:08:31.1395183Z 2025-08-20 04:08:31.139 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:08:31.1871429Z 2025-08-20 04:08:31.182 +00:00 [INF] Starting configuration status health check
2025-08-20T04:08:32.1641431Z 2025-08-20 04:08:32.163 +00:00 [INF] All configurations are valid
2025-08-20T04:08:37.3939653Z 2025-08-20 04:08:37.390 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:08:37.3951453Z 2025-08-20 04:08:37.394 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 4.1749ms
2025-08-20T04:08:37.4030060Z 2025-08-20 04:08:37.399 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:08:37.5676053Z 2025-08-20 04:08:37.567 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:08:37.5888013Z 2025-08-20 04:08:37.574 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:08:37.5888653Z 2025-08-20 04:08:37.580 +00:00 [INF] Starting configuration status health check
2025-08-20T04:08:37.5924027Z 2025-08-20 04:08:37.589 +00:00 [INF] All configurations are valid
2025-08-20T04:08:51.4013518Z 2025-08-20 04:08:51.400 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:08:51.4014101Z 2025-08-20 04:08:51.401 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:08:51.4370034Z 2025-08-20 04:08:51.427 +00:00 [ERR] Health check database with status Unhealthy completed after 19730.7486ms with message 'Database connection failed'
2025-08-20T04:08:51.4446300Z 2025-08-20 04:08:51.442 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 19218.2466ms with message 'Event Store connection failed'
2025-08-20T04:08:51.4451257Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:08:51.4451390Z    at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
2025-08-20T04:08:51.4452129Z    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-08-20T04:08:51.4452808Z    at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
2025-08-20T04:08:51.4453575Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-08-20T04:08:51.4454248Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-08-20T04:08:51.4454982Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-08-20T04:08:51.4455637Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-08-20T04:08:51.4456402Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-08-20T04:08:51.4457042Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-08-20T04:08:51.4457783Z    at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:08:51.4457861Z    at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:08:51.4458879Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:51.4458957Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:08:51.4458982Z --- End of stack trace from previous location ---
2025-08-20T04:08:51.4459053Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:51.4459083Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:51.4459111Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:08:51.4459140Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:08:51.4459171Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:08:51.4459205Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:08:51.4459228Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:08:51.4519183Z 2025-08-20 04:08:51.423 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 13832.7109ms with message 'Event Store connection failed'
2025-08-20T04:08:51.4519498Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:08:51.4519540Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:08:51.4519564Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:08:51.4519588Z --- End of stack trace from previous location ---
2025-08-20T04:08:51.4519616Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:51.4519644Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:08:51.4519671Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:08:51.4519702Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:08:51.4519763Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:08:51.4519798Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:08:51.4519844Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:08:51.4563001Z 2025-08-20 04:08:51.446 +00:00 [ERR] Health check database with status Unhealthy completed after 13835.3178ms with message 'Database connection failed'
2025-08-20T04:08:51.5079696Z 2025-08-20 04:08:51.507 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:08:51.5110045Z 2025-08-20 04:08:51.510 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:08:51.5315391Z 2025-08-20 04:08:51.523 +00:00 [ERR] Connection id "0HNEVJSO2R0JV", Request id "0HNEVJSO2R0JV:00000002": An unhandled exception was thrown by the application.
2025-08-20T04:08:51.5315932Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:08:51.5315971Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:08:51.5316003Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:51.5316038Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:51.5316072Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:08:51.5320119Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:51.5320172Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:08:51.5320243Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:51.5320274Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:08:51.5321116Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:08:51.5321154Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:08:51.5321186Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:08:51.5321212Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:08:51.5321241Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:08:51.5321269Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:08:51.5321336Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:08:51.5321368Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:51.5321396Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:51.5321424Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:08:51.5321450Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:08:51.5321478Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:08:51.5321502Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:51.5321527Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:51.5321559Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:08:51.5321618Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:08:51.5330857Z 2025-08-20 04:08:51.532 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 13965.7352ms
2025-08-20T04:08:51.5349306Z 2025-08-20 04:08:51.523 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000002": An unhandled exception was thrown by the application.
2025-08-20T04:08:51.5409472Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:08:51.5409707Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:08:51.5409745Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:51.5409848Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:08:51.5409884Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:08:51.5409913Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
2025-08-20T04:08:51.5409941Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:08:51.5409969Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:08:51.5409998Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:08:51.5410025Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:08:51.5410050Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:08:51.5410079Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:08:51.5410140Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:08:51.5410169Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:08:51.5410198Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:08:51.5410225Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:08:51.5410255Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:51.5410311Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:08:51.5410340Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:08:51.5410397Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:08:51.5410425Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:08:51.5410451Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:51.5410476Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:08:51.5410508Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:08:51.5410535Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:08:51.5595950Z 2025-08-20 04:08:51.559 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 20434.9772ms
2025-08-20T04:08:56.5885686Z 2025-08-20 04:08:56.577 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:08:56.5886085Z 2025-08-20 04:08:56.584 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:08:56.5895376Z 2025-08-20 04:08:56.589 +00:00 [INF] Starting configuration status health check
2025-08-20T04:08:56.6904680Z 2025-08-20 04:08:56.688 +00:00 [INF] All configurations are valid
2025-08-20T04:09:11.3194996Z 2025-08-20 04:09:11.319 +00:00 [ERR] Health check database with status Unhealthy completed after 14703.713ms with message 'Database connection failed'
2025-08-20T04:09:11.4788704Z 2025-08-20 04:09:11.478 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:09:11.4885157Z 2025-08-20 04:09:11.480 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14857.0457ms with message 'Event Store connection failed'
2025-08-20T04:09:11.4951701Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:09:11.4952165Z    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-08-20T04:09:11.4952213Z    at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
2025-08-20T04:09:11.4952246Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-08-20T04:09:11.4952283Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-08-20T04:09:11.4952320Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-08-20T04:09:11.4952364Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-08-20T04:09:11.4952453Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-08-20T04:09:11.4952487Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-08-20T04:09:11.4952516Z    at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:09:11.4952547Z    at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:09:11.4952580Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:11.4952604Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:09:11.4952629Z --- End of stack trace from previous location ---
2025-08-20T04:09:11.4952657Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:11.4952706Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:11.4952734Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:09:11.4952764Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:09:11.4952795Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:09:11.4952830Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:09:11.4952854Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:09:11.4998353Z 2025-08-20 04:09:11.499 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:09:11.5051122Z 2025-08-20 04:09:11.504 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000003": An unhandled exception was thrown by the application.
2025-08-20T04:09:11.5051606Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:09:11.5051648Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:09:11.5051676Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:11.5051706Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:11.5051741Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:09:11.5051770Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:11.5051800Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:09:11.5051828Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:11.5051878Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:09:11.5051905Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:09:11.5051931Z    at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
2025-08-20T04:09:11.5051962Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
2025-08-20T04:09:11.5051988Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:09:11.5052016Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:09:11.5052044Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:09:11.5052071Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:09:11.5052100Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:11.5052151Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:11.5052180Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:09:11.5052206Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:09:11.5052234Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:09:11.5052258Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:11.5052283Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:11.5052314Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:09:11.5052342Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:09:11.5145039Z 2025-08-20 04:09:11.514 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 14936.5729ms
2025-08-20T04:09:17.2373201Z 2025-08-20 04:09:17.236 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:09:17.2460839Z 2025-08-20 04:09:17.245 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:09:17.2569522Z 2025-08-20 04:09:17.256 +00:00 [INF] Starting configuration status health check
2025-08-20T04:09:17.2762922Z 2025-08-20 04:09:17.274 +00:00 [INF] All configurations are valid
2025-08-20T04:09:17.2763665Z 2025-08-20 04:09:17.275 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:09:17.2870573Z 2025-08-20 04:09:17.286 +00:00 [ERR] Health check database with status Unhealthy completed after 2.8346ms with message 'Database connection failed'
2025-08-20T04:09:17.3045789Z 2025-08-20 04:09:17.295 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 29.0627ms with message 'Event Store connection failed'
2025-08-20T04:09:17.3049962Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:09:17.3050649Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:17.3051269Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:17.3051346Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:09:17.3051768Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:09:17.3061720Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:09:17.3123259Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:09:17.3123455Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:09:17.3123484Z --- End of stack trace from previous location ---
2025-08-20T04:09:17.3123512Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:17.3123540Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:17.3123568Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:09:17.3123600Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:09:17.3123634Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:09:17.3123737Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:09:17.3123761Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:09:17.3177013Z 2025-08-20 04:09:17.317 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:09:17.3221657Z 2025-08-20 04:09:17.318 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000004": An unhandled exception was thrown by the application.
2025-08-20T04:09:17.3221946Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:09:17.3222061Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:09:17.3222094Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:17.3222121Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:17.3222239Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:09:17.3222268Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:17.3222298Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:09:17.3222325Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:17.3222356Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:09:17.3222382Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:09:17.3222409Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:09:17.3222437Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:09:17.3222465Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:09:17.3222519Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:09:17.3222579Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:17.3222608Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:17.3222637Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:09:17.3222662Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:09:17.3222689Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:09:17.3222715Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:17.3222739Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:17.3222789Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:09:17.3222817Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:09:17.3324015Z 2025-08-20 04:09:17.330 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 93.6612ms
2025-08-20T04:09:25.1482835Z 2025-08-20 04:09:25.147 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:09:25.1571257Z 2025-08-20 04:09:25.156 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 9.2049ms
2025-08-20T04:09:25.1622090Z 2025-08-20 04:09:25.162 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:09:25.2067547Z 2025-08-20 04:09:25.200 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:09:25.2089548Z 2025-08-20 04:09:25.208 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:09:25.2142699Z 2025-08-20 04:09:25.214 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:09:25.2215344Z 2025-08-20 04:09:25.221 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 6.5841ms
2025-08-20T04:09:25.2228417Z 2025-08-20 04:09:25.222 +00:00 [INF] Starting configuration status health check
2025-08-20T04:09:25.2294974Z 2025-08-20 04:09:25.229 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:09:25.2433693Z 2025-08-20 04:09:25.240 +00:00 [INF] All configurations are valid
2025-08-20T04:09:25.4093172Z 2025-08-20 04:09:25.409 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:09:25.4107217Z 2025-08-20 04:09:25.410 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 1.5659ms
2025-08-20T04:09:25.4255040Z 2025-08-20 04:09:25.418 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:09:39.7915247Z 2025-08-20 04:09:39.790 +00:00 [ERR] Health check database with status Unhealthy completed after 14566.6557ms with message 'Database connection failed'
2025-08-20T04:09:39.7991707Z 2025-08-20 04:09:39.798 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:09:39.8037108Z 2025-08-20 04:09:39.800 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14560.5955ms with message 'Event Store connection failed'
2025-08-20T04:09:39.8037443Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:09:39.8037477Z    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-08-20T04:09:39.8037511Z    at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
2025-08-20T04:09:39.8037548Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-08-20T04:09:39.8037667Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-08-20T04:09:39.8037703Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-08-20T04:09:39.8037748Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-08-20T04:09:39.8037782Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-08-20T04:09:39.8037816Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-08-20T04:09:39.8037844Z    at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:09:39.8037874Z    at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:09:39.8037931Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:39.8037956Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:09:39.8037979Z --- End of stack trace from previous location ---
2025-08-20T04:09:39.8038009Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:39.8038036Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:39.8038064Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:09:39.8038093Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:09:39.8038124Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:09:39.8038497Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:09:39.8038553Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:09:39.8064820Z 2025-08-20 04:09:39.806 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:09:39.8124095Z 2025-08-20 04:09:39.807 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000006": An unhandled exception was thrown by the application.
2025-08-20T04:09:39.8125317Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:09:39.8125845Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:09:39.8125911Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:39.8126469Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:39.8129464Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:09:39.8129556Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:39.8129590Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:09:39.8129618Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:39.8129646Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:09:39.8129677Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:09:39.8129703Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:09:39.8129730Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:09:39.8129795Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:09:39.8129823Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:09:39.8129852Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:39.8129882Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:39.8129910Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:09:39.8129937Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:09:39.8129964Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:09:39.8129988Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:39.8130016Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:39.8130069Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:09:39.8130097Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:09:39.8172424Z 2025-08-20 04:09:39.817 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 14616.4809ms
2025-08-20T04:09:44.8419284Z 2025-08-20 04:09:44.841 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:09:44.8508280Z 2025-08-20 04:09:44.850 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:09:44.8524895Z 2025-08-20 04:09:44.852 +00:00 [INF] Starting configuration status health check
2025-08-20T04:09:44.8582920Z 2025-08-20 04:09:44.857 +00:00 [ERR] Health check database with status Unhealthy completed after 1.8666ms with message 'Database connection failed'
2025-08-20T04:09:44.8814143Z 2025-08-20 04:09:44.868 +00:00 [INF] All configurations are valid
2025-08-20T04:09:44.8814543Z 2025-08-20 04:09:44.878 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:09:44.8899442Z 2025-08-20 04:09:44.888 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 17.728ms with message 'Event Store connection failed'
2025-08-20T04:09:44.8899878Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:09:44.8899921Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:44.8899957Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:44.8899996Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:09:44.8900081Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:09:44.8900115Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:09:44.8900141Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:09:44.8900167Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:09:44.8900192Z --- End of stack trace from previous location ---
2025-08-20T04:09:44.8900220Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:44.8900247Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:44.8900275Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:09:44.8900304Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:09:44.8900358Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:09:44.8900393Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:09:44.8900416Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:09:44.9004380Z 2025-08-20 04:09:44.900 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:09:44.9090795Z 2025-08-20 04:09:44.901 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000007": An unhandled exception was thrown by the application.
2025-08-20T04:09:44.9091239Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:09:44.9091278Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:09:44.9091305Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:44.9091410Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:44.9091445Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:09:44.9091473Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:44.9091503Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:09:44.9091530Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:44.9091559Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:09:44.9091586Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:09:44.9091612Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:09:44.9091663Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:09:44.9091691Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:09:44.9091718Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:09:44.9091749Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:44.9091777Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:44.9091806Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:09:44.9091832Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:09:44.9091859Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:09:44.9091885Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:44.9091931Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:44.9091963Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:09:44.9091992Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:09:44.9115958Z 2025-08-20 04:09:44.911 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 69.9071ms
2025-08-20T04:09:49.9491511Z 2025-08-20 04:09:49.948 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:09:49.9560426Z 2025-08-20 04:09:49.955 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:09:49.9843846Z 2025-08-20 04:09:49.984 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:09:49.9912030Z 2025-08-20 04:09:49.989 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 11.223ms with message 'Event Store connection failed'
2025-08-20T04:09:49.9923468Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:09:49.9923619Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:49.9923656Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:49.9923690Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:09:49.9923723Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:09:49.9923754Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:09:49.9923780Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:09:49.9923841Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:09:49.9923865Z --- End of stack trace from previous location ---
2025-08-20T04:09:49.9923893Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:49.9923921Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:49.9923948Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:09:49.9923979Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:09:49.9924009Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:09:49.9924044Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:09:49.9924090Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:09:50.0091551Z 2025-08-20 04:09:50.008 +00:00 [ERR] Health check database with status Unhealthy completed after 7.9966ms with message 'Database connection failed'
2025-08-20T04:09:50.0162392Z 2025-08-20 04:09:50.015 +00:00 [INF] Starting configuration status health check
2025-08-20T04:09:50.0242604Z 2025-08-20 04:09:50.024 +00:00 [INF] All configurations are valid
2025-08-20T04:09:50.0255557Z 2025-08-20 04:09:50.025 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:09:50.0317876Z 2025-08-20 04:09:50.030 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000008": An unhandled exception was thrown by the application.
2025-08-20T04:09:50.0320705Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:09:50.0321775Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:09:50.0322174Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:50.0323304Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:50.0324212Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:09:50.0324454Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:50.0325226Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:09:50.0325321Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:50.0326118Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:09:50.0327071Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:09:50.0327165Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
2025-08-20T04:09:50.0327902Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:09:50.0327995Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:09:50.0328870Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:09:50.0328966Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:50.0329704Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:50.0330104Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:09:50.0330870Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:09:50.0330963Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:09:50.0331699Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:50.0331788Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:50.0332662Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:09:50.0332757Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:09:50.0449197Z 2025-08-20 04:09:50.044 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 96.1161ms
2025-08-20T04:09:55.0725505Z 2025-08-20 04:09:55.067 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:09:55.0756020Z 2025-08-20 04:09:55.075 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:09:55.0830571Z 2025-08-20 04:09:55.082 +00:00 [INF] Starting configuration status health check
2025-08-20T04:09:55.6643177Z 2025-08-20 04:09:55.090 +00:00 [INF] All configurations are valid
2025-08-20T04:09:55.6643456Z 2025-08-20 04:09:55.094 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:09:55.6643492Z 2025-08-20 04:09:55.102 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3716ms with message 'Database connection failed'
2025-08-20T04:09:55.6643522Z 2025-08-20 04:09:55.105 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 20.7627ms with message 'Event Store connection failed'
2025-08-20T04:09:55.6643598Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:09:55.6643634Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:55.6643665Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:09:55.6643699Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:09:55.6643730Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:09:55.6643761Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:09:55.6643789Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:09:55.6643814Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:09:55.6643864Z --- End of stack trace from previous location ---
2025-08-20T04:09:55.6643892Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:55.6643921Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:09:55.6643949Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:09:55.6643978Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:09:55.6644009Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:09:55.6644044Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:09:55.6644067Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:09:55.6644092Z 2025-08-20 04:09:55.117 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:09:55.6644143Z 2025-08-20 04:09:55.119 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000009": An unhandled exception was thrown by the application.
2025-08-20T04:09:55.6644177Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:09:55.6644208Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:09:55.6644424Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:55.6644456Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:09:55.6644491Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:09:55.6644519Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:55.6644549Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:09:55.6644596Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:09:55.6644625Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:09:55.6644653Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:09:55.6644681Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:09:55.6644707Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:09:55.6644736Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:09:55.6644762Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:09:55.6644792Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:55.6644844Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:09:55.6644872Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:09:55.6644899Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:09:55.6644926Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:09:55.6644951Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:55.6644977Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:09:55.6645008Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:09:55.6645036Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:09:55.6645065Z 2025-08-20 04:09:55.128 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 59.0497ms
2025-08-20T04:10:00.1462442Z 2025-08-20 04:10:00.145 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:00.1564461Z 2025-08-20 04:10:00.154 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:00.1663438Z 2025-08-20 04:10:00.165 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:00.1850993Z 2025-08-20 04:10:00.173 +00:00 [INF] All configurations are valid
2025-08-20T04:10:14.7251394Z 2025-08-20 04:10:14.724 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:10:14.7302423Z 2025-08-20 04:10:14.726 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14540.4428ms with message 'Event Store connection failed'
2025-08-20T04:10:14.7304293Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:10:14.7304346Z    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-08-20T04:10:14.7304379Z    at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
2025-08-20T04:10:14.7304411Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-08-20T04:10:14.7304451Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-08-20T04:10:14.7304566Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-08-20T04:10:14.7304612Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-08-20T04:10:14.7304645Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-08-20T04:10:14.7304678Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-08-20T04:10:14.7304707Z    at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:10:14.7304736Z    at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:10:14.7304770Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:14.7304794Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:10:14.7304842Z --- End of stack trace from previous location ---
2025-08-20T04:10:14.7304871Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:14.7304898Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:14.7304926Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:10:14.7304956Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:10:14.7304987Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:10:14.7305294Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:10:14.7305324Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:10:14.7393265Z 2025-08-20 04:10:14.738 +00:00 [ERR] Health check database with status Unhealthy completed after 14566.6076ms with message 'Database connection failed'
2025-08-20T04:10:14.7469073Z 2025-08-20 04:10:14.741 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:10:14.7498784Z 2025-08-20 04:10:14.748 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:0000000A": An unhandled exception was thrown by the application.
2025-08-20T04:10:14.7499021Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:10:14.7499059Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:10:14.7499086Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:14.7499120Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:14.7499156Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:10:14.7499275Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:14.7499305Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:10:14.7499333Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:14.7499365Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:10:14.7499392Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:10:14.7499421Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:10:14.7499448Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:10:14.7499476Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:10:14.7499531Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:10:14.7499561Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:14.7499589Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:14.7499618Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:10:14.7499644Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:10:14.7499671Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:10:14.7499696Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:14.7499721Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:14.7499755Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:10:14.7499806Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:10:14.7562573Z 2025-08-20 04:10:14.755 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 14610.2266ms
2025-08-20T04:10:17.0937540Z 2025-08-20 04:10:17.089 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:17.1120852Z 2025-08-20 04:10:17.108 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:17.1154520Z 2025-08-20 04:10:17.115 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:17.1523590Z 2025-08-20 04:10:17.124 +00:00 [ERR] Health check database with status Unhealthy completed after 7.6561ms with message 'Database connection failed'
2025-08-20T04:10:17.1523905Z 2025-08-20 04:10:17.133 +00:00 [INF] All configurations are valid
2025-08-20T04:10:17.1703130Z 2025-08-20 04:10:17.169 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:10:17.1803978Z 2025-08-20 04:10:17.177 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 44.083ms with message 'Event Store connection failed'
2025-08-20T04:10:17.1804475Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:10:17.1804522Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:17.1804554Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:17.1804588Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:10:17.1804624Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:17.1804736Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:17.1804767Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:10:17.1804792Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:10:17.1804816Z --- End of stack trace from previous location ---
2025-08-20T04:10:17.1804845Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:17.1804872Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:17.1804900Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:10:17.1804929Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:10:17.1804980Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:10:17.1805016Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:10:17.1805040Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:10:17.2059485Z 2025-08-20 04:10:17.205 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:10:17.2126680Z 2025-08-20 04:10:17.211 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:0000000B": An unhandled exception was thrown by the application.
2025-08-20T04:10:17.2127189Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:10:17.2127234Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:10:17.2127264Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:17.2127374Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:17.2127414Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:10:17.2127442Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:17.2127472Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:10:17.2127500Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:17.2127529Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:10:17.2127556Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:10:17.2127584Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:10:17.2127611Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:10:17.2127665Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:10:17.2127694Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:10:17.2127723Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:17.2127753Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:17.2127781Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:10:17.2127807Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:10:17.2127835Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:10:17.2127860Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:17.2127887Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:17.2127939Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:10:17.2127968Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:10:17.2296604Z 2025-08-20 04:10:17.218 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 129.3486ms
2025-08-20T04:10:19.7670650Z 2025-08-20 04:10:19.766 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:19.7757255Z 2025-08-20 04:10:19.773 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:19.7823907Z 2025-08-20 04:10:19.782 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:19.8010874Z 2025-08-20 04:10:19.786 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3398ms with message 'Database connection failed'
2025-08-20T04:10:19.8011588Z 2025-08-20 04:10:19.793 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:10:19.8011622Z 2025-08-20 04:10:19.798 +00:00 [INF] All configurations are valid
2025-08-20T04:10:19.8114558Z 2025-08-20 04:10:19.805 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 20.6039ms with message 'Event Store connection failed'
2025-08-20T04:10:19.8119295Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:10:19.8119481Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:19.8119562Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:19.8119687Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:10:19.8120023Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:19.8120340Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:19.8120750Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:10:19.8120794Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:10:19.8120819Z --- End of stack trace from previous location ---
2025-08-20T04:10:19.8121291Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:19.8121365Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:19.8126500Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:10:19.8126622Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:10:19.8126914Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:10:19.8127312Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:10:19.8127351Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:10:19.8213230Z 2025-08-20 04:10:19.815 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:10:19.8290992Z 2025-08-20 04:10:19.823 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:0000000C": An unhandled exception was thrown by the application.
2025-08-20T04:10:19.8299966Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:10:19.8305030Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:10:19.8305233Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:19.8310463Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:19.8377057Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:10:19.8377365Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:19.8377472Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:10:19.8377503Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:19.8377533Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:10:19.8377560Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:10:19.8377588Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:10:19.8377616Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:10:19.8377644Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:10:19.8377671Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:10:19.8377701Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:19.8377757Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:19.8377786Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:10:19.8377812Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:10:19.8377839Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:10:19.8377867Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:19.8377892Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:19.8377923Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:10:19.8377951Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:10:19.8399667Z 2025-08-20 04:10:19.839 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 72.7862ms
2025-08-20T04:10:24.8759248Z 2025-08-20 04:10:24.875 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:24.8926251Z 2025-08-20 04:10:24.892 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:24.9017811Z 2025-08-20 04:10:24.901 +00:00 [ERR] Health check database with status Unhealthy completed after 1.4648ms with message 'Database connection failed'
2025-08-20T04:10:24.9036885Z 2025-08-20 04:10:24.903 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:24.9114164Z 2025-08-20 04:10:24.907 +00:00 [INF] All configurations are valid
2025-08-20T04:10:24.9209609Z 2025-08-20 04:10:24.920 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:10:24.9293595Z 2025-08-20 04:10:24.923 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 17.7161ms with message 'Event Store connection failed'
2025-08-20T04:10:24.9295830Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:10:24.9296560Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:24.9297283Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:24.9297365Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:10:24.9297953Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:24.9298717Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:24.9299338Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:10:24.9299411Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:10:24.9299435Z --- End of stack trace from previous location ---
2025-08-20T04:10:24.9300092Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:24.9300167Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:24.9300737Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:10:24.9300810Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:10:24.9301511Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:10:24.9302127Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:10:24.9302194Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:10:24.9378648Z 2025-08-20 04:10:24.937 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:10:24.9402699Z 2025-08-20 04:10:24.939 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:0000000D": An unhandled exception was thrown by the application.
2025-08-20T04:10:24.9465585Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:10:24.9465852Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:10:24.9465886Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:24.9465912Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:24.9474202Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:10:24.9474294Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:24.9474326Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:10:24.9474355Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:24.9474384Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:10:24.9474410Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:10:24.9474467Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:10:24.9474494Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:10:24.9474522Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:10:24.9474549Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:10:24.9474578Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:24.9474607Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:24.9474635Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:10:24.9474661Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:10:24.9474709Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:10:24.9474736Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:24.9474760Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:24.9474793Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:10:24.9474820Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:10:24.9559924Z 2025-08-20 04:10:24.955 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 92.3205ms
2025-08-20T04:10:28.8123977Z 2025-08-20 04:10:28.812 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:10:28.8367789Z 2025-08-20 04:10:28.835 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 32.2524ms
2025-08-20T04:10:28.8459389Z 2025-08-20 04:10:28.845 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:10:29.9665493Z 2025-08-20 04:10:29.966 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:29.9697651Z 2025-08-20 04:10:29.969 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:30.0030563Z 2025-08-20 04:10:29.986 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:10:30.0031112Z 2025-08-20 04:10:29.995 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 10.3967ms with message 'Event Store connection failed'
2025-08-20T04:10:30.0031170Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:10:30.0031207Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:30.0031317Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:30.0031353Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:10:30.0031385Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:30.0031417Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:30.0031444Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:10:30.0031470Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:10:30.0031494Z --- End of stack trace from previous location ---
2025-08-20T04:10:30.0031523Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:30.0031576Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:30.0031612Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:10:30.0031642Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:10:30.0031672Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:10:30.0031708Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:10:30.0031731Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:10:30.0099164Z 2025-08-20 04:10:30.009 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:30.0187233Z 2025-08-20 04:10:30.018 +00:00 [ERR] Health check database with status Unhealthy completed after 7.168ms with message 'Database connection failed'
2025-08-20T04:10:30.0385479Z 2025-08-20 04:10:30.038 +00:00 [INF] All configurations are valid
2025-08-20T04:10:30.0454808Z 2025-08-20 04:10:30.045 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:10:30.0562920Z 2025-08-20 04:10:30.052 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:0000000F": An unhandled exception was thrown by the application.
2025-08-20T04:10:30.0574749Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:10:30.0574887Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:10:30.0574926Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:30.0574953Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:30.0574987Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:10:30.0575015Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:30.0575052Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:10:30.0575121Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:30.0575151Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:10:30.0575178Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:10:30.0575206Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorInfoEx.GetService(IServiceProvider serviceProvider, Int32 parameterIndex)
2025-08-20T04:10:30.0575233Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:10:30.0575260Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:10:30.0575287Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:10:30.0575317Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:30.0575345Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:30.0575395Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:10:30.0575422Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:10:30.0575449Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:10:30.0575476Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:30.0575500Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:30.0575531Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:10:30.0575560Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:10:30.0701334Z 2025-08-20 04:10:30.069 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 103.7997ms
2025-08-20T04:10:35.1052496Z 2025-08-20 04:10:35.100 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:35.1147895Z 2025-08-20 04:10:35.113 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:35.1254163Z 2025-08-20 04:10:35.124 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:10:35.1262781Z 2025-08-20 04:10:35.125 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:35.1346982Z 2025-08-20 04:10:35.134 +00:00 [INF] All configurations are valid
2025-08-20T04:10:35.1423495Z 2025-08-20 04:10:35.132 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 9.3614ms with message 'Event Store connection failed'
2025-08-20T04:10:35.1430548Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:10:35.1434651Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:35.1434765Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:35.1434801Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:10:35.1434834Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:35.1434865Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:35.1434892Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:10:35.1434955Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:10:35.1434982Z --- End of stack trace from previous location ---
2025-08-20T04:10:35.1435010Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:35.1435037Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:35.1435066Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:10:35.1435095Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:10:35.1435126Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:10:35.1435160Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:10:35.1435184Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:10:35.1510670Z 2025-08-20 04:10:35.146 +00:00 [ERR] Health check database with status Unhealthy completed after 30.2061ms with message 'Database connection failed'
2025-08-20T04:10:35.1620997Z 2025-08-20 04:10:35.161 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:10:35.1690872Z 2025-08-20 04:10:35.163 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000010": An unhandled exception was thrown by the application.
2025-08-20T04:10:35.1691282Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:10:35.1691324Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:10:35.1691352Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:35.1691378Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:35.1691477Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:10:35.1691512Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:35.1691541Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:10:35.1691568Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:35.1691597Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:10:35.1691624Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:10:35.1691651Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:10:35.1691679Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:10:35.1691705Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:10:35.1691759Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:35.1691789Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:35.1691817Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:10:35.1691844Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:10:35.1691871Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:10:35.1691897Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:35.1691922Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:35.1691953Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:10:35.1691983Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:10:35.1864202Z 2025-08-20 04:10:35.186 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 76.291ms
2025-08-20T04:10:40.2490317Z 2025-08-20 04:10:40.247 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:40.2495086Z 2025-08-20 04:10:40.249 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:40.2836148Z 2025-08-20 04:10:40.282 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:40.3011390Z 2025-08-20 04:10:40.291 +00:00 [INF] All configurations are valid
2025-08-20T04:10:40.3146207Z 2025-08-20 04:10:40.307 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:10:40.3399475Z 2025-08-20 04:10:40.324 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 17.4665ms with message 'Event Store connection failed'
2025-08-20T04:10:40.3399806Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:10:40.3399926Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:40.3399960Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:40.3399995Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:10:40.3400030Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:40.3400060Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:40.3400087Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:10:40.3400113Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:10:40.3400138Z --- End of stack trace from previous location ---
2025-08-20T04:10:40.3400190Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:40.3400218Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:40.3400246Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:10:40.3400275Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:10:40.3400306Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:10:40.3400340Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:10:40.3400363Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:10:40.3758729Z 2025-08-20 04:10:40.375 +00:00 [ERR] Health check database with status Unhealthy completed after 91.5779ms with message 'Database connection failed'
2025-08-20T04:10:40.3914952Z 2025-08-20 04:10:40.383 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:10:40.4051226Z 2025-08-20 04:10:40.399 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000011": An unhandled exception was thrown by the application.
2025-08-20T04:10:40.4051549Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:10:40.4051587Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:10:40.4051614Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:40.4051640Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:40.4051680Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:10:40.4051708Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:40.4051833Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:10:40.4051861Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:40.4051891Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:10:40.4051918Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:10:40.4051945Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:10:40.4051973Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:10:40.4052000Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:10:40.4052032Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:40.4052060Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:40.4052116Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:10:40.4052144Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:10:40.4052171Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:10:40.4052196Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:40.4052221Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:40.4052253Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:10:40.4052284Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:10:40.4246945Z 2025-08-20 04:10:40.415 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 168.4482ms
2025-08-20T04:10:45.4387954Z 2025-08-20 04:10:45.437 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:45.4534729Z 2025-08-20 04:10:45.449 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:45.4707262Z 2025-08-20 04:10:45.470 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:10:45.4786579Z 2025-08-20 04:10:45.477 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 8.0422ms with message 'Event Store connection failed'
2025-08-20T04:10:45.4909233Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:10:45.4909567Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:45.4909607Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:45.4909722Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:10:45.4909756Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:45.4909789Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:45.4909816Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:10:45.4909841Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:10:45.4909865Z --- End of stack trace from previous location ---
2025-08-20T04:10:45.4909893Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:45.4909921Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:45.4909974Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:10:45.4910004Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:10:45.4910037Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:10:45.4910071Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:10:45.4910094Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:10:45.5001565Z 2025-08-20 04:10:45.498 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:45.5054537Z 2025-08-20 04:10:45.500 +00:00 [ERR] Health check database with status Unhealthy completed after 35.3533ms with message 'Database connection failed'
2025-08-20T04:10:45.5134446Z 2025-08-20 04:10:45.513 +00:00 [INF] All configurations are valid
2025-08-20T04:10:45.5201868Z 2025-08-20 04:10:45.520 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:10:46.2349864Z 2025-08-20 04:10:45.521 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000012": An unhandled exception was thrown by the application.
2025-08-20T04:10:46.2350153Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:10:46.2350189Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:10:46.2350216Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:46.2350242Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:46.2350277Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:10:46.2350307Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:46.2350336Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:10:46.2350390Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:46.2350419Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:10:46.2350445Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:10:46.2350473Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:10:46.2350501Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:10:46.2350527Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:10:46.2350558Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:46.2350587Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:46.2350615Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:10:46.2350664Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:10:46.2350692Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:10:46.2350717Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:46.2350742Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:46.2350773Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:10:46.2350801Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:10:46.2350830Z 2025-08-20 04:10:45.528 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 90.8414ms
2025-08-20T04:10:50.5494000Z 2025-08-20 04:10:50.549 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:50.5552797Z 2025-08-20 04:10:50.555 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:50.5577058Z 2025-08-20 04:10:50.557 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:50.5600941Z 2025-08-20 04:10:50.559 +00:00 [INF] All configurations are valid
2025-08-20T04:10:50.5743271Z 2025-08-20 04:10:50.574 +00:00 [ERR] Health check database with status Unhealthy completed after 5.9878ms with message 'Database connection failed'
2025-08-20T04:10:50.5797959Z 2025-08-20 04:10:50.579 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:10:50.5872577Z 2025-08-20 04:10:50.584 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 27.9554ms with message 'Event Store connection failed'
2025-08-20T04:10:50.5873013Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:10:50.5873139Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:50.5873172Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:10:50.5873206Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:10:50.5873238Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:50.5873269Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:10:50.5873295Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:10:50.5873323Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:10:50.5873346Z --- End of stack trace from previous location ---
2025-08-20T04:10:50.5873400Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:50.5873429Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:10:50.5873456Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:10:50.5873486Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:10:50.5873516Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:10:50.5873551Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:10:50.5873575Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:10:50.5886366Z 2025-08-20 04:10:50.588 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:10:50.5910701Z 2025-08-20 04:10:50.589 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000013": An unhandled exception was thrown by the application.
2025-08-20T04:10:50.5910883Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:10:50.5910918Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:10:50.5910945Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:50.5910972Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:10:50.5911006Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:10:50.5911035Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:50.5911066Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:10:50.5911094Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:10:50.5911145Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:10:50.5911172Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:10:50.5911199Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:10:50.5911227Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:10:50.5911253Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:10:50.5911284Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:50.5911313Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:10:50.5911341Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:10:50.5911388Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:10:50.5911483Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:10:50.5911511Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:50.5911536Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:10:50.5911568Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:10:50.5911597Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:10:50.6045989Z 2025-08-20 04:10:50.597 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 48.35ms
2025-08-20T04:10:55.2800861Z    _____                               
2025-08-20T04:10:55.2803733Z   /  _  \ __________ _________   ____  
2025-08-20T04:10:55.2803862Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T04:10:55.2803894Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T04:10:55.2803930Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T04:10:55.2803973Z         \/      \/                  \/ 
2025-08-20T04:10:55.2804064Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T04:10:55.2804091Z 
2025-08-20T04:10:55.2804127Z Documentation: http://aka.ms/webapp-linux
2025-08-20T04:10:55.2804160Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T04:10:55.2804190Z ASP .NETCore Version: 8.0.18
2025-08-20T04:10:55.2804219Z Note: Any data outside '/home' is not persisted
2025-08-20T04:10:55.6284152Z 2025-08-20 04:10:55.616 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:10:55.6451431Z 2025-08-20 04:10:55.636 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:10:55.6451816Z 2025-08-20 04:10:55.640 +00:00 [INF] Starting configuration status health check
2025-08-20T04:10:55.6609224Z 2025-08-20 04:10:55.646 +00:00 [INF] All configurations are valid
2025-08-20T04:10:57.0234927Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T04:10:57.0352473Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T04:10:57.0634779Z Updating certificates in /etc/ssl/certs...
2025-08-20T04:11:04.7570073Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T04:11:04.7879840Z 4 added, 0 removed; done.
2025-08-20T04:11:04.7885812Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T04:11:04.7977338Z done.
2025-08-20T04:11:04.8157099Z CA certificates copied and updated successfully.
2025-08-20T04:11:05.0093042Z Starting periodic command scheduler: cron.
2025-08-20T04:11:05.0104184Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T04:11:05.0613005Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T04:11:05.0690942Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T04:11:05.0924113Z Build Operation ID: afec3724-6729-467c-b4e9-369148fd8a7c
2025-08-20T04:11:05.2811678Z 
2025-08-20T04:11:05.2812449Z Agent extension 
2025-08-20T04:11:05.2812499Z Before if loop >> DotNet Runtime 
2025-08-20T04:11:05.3298431Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T04:11:05.3674297Z Trying to find the startup DLL name...
2025-08-20T04:11:05.3675227Z Found the startup D name: Zeus.People.API.dll
2025-08-20T04:11:05.3675283Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T04:11:07.8689441Z 2025-08-20 04:11:07.785 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T04:11:08.2074461Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T04:11:08.9193433Z 2025-08-20 04:11:08.872 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:11:08.9194186Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:11:08.9194554Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:11:08.9194601Z    at System.Uri..ctor(String uriString)
2025-08-20T04:11:08.9194641Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:11:08.9194756Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:11:08.9194802Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:11:08.9833198Z 2025-08-20 04:11:08.983 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T04:11:09.0355669Z 2025-08-20 04:11:09.035 +00:00 [INF] Starting configuration validation...
2025-08-20T04:11:09.0734247Z 2025-08-20 04:11:09.064 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:11:09.0735170Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:11:09.0735223Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:11:09.0735255Z    at System.Uri..ctor(String uriString)
2025-08-20T04:11:09.0735294Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:11:09.0735331Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:11:09.0735402Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:11:09.0859325Z 2025-08-20 04:11:09.085 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T04:11:09.0907044Z 2025-08-20 04:11:09.086 +00:00 [INF] Key Vault connectivity verified
2025-08-20T04:11:09.2149844Z 2025-08-20 04:11:09.203 +00:00 [INF] Configuration validation completed successfully
2025-08-20T04:11:09.5602706Z 2025-08-20 04:11:09.551 +00:00 [INF] Starting Zeus.People API
2025-08-20T04:11:09.6159507Z 2025-08-20 04:11:09.611 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T04:11:09.9882795Z 2025-08-20 04:11:09.986 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T04:11:09.9883919Z 2025-08-20 04:11:09.988 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T04:11:09.9955265Z 2025-08-20 04:11:09.989 +00:00 [INF] Hosting environment: Staging
2025-08-20T04:11:09.9960993Z 2025-08-20 04:11:09.995 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T04:11:10.9250678Z 2025-08-20 04:11:10.917 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - null null
 'localhost'.
2025-08-20T04:11:10.2433478Z 2025-08-20 04:11:10.226 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14573.3239ms with message 'Event Store connection failed'
2025-08-20T04:11:10.2434085Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:11:10.2434206Z    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-08-20T04:11:10.2434244Z    at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
2025-08-20T04:11:10.2434277Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-08-20T04:11:10.2434313Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-08-20T04:11:10.2434346Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-08-20T04:11:10.2434390Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-08-20T04:11:10.2434423Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-08-20T04:11:10.2434479Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-08-20T04:11:10.2434508Z    at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:11:10.2434537Z    at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:11:10.2434573Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:10.2434597Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:11:10.2434620Z --- End of stack trace from previous location ---
2025-08-20T04:11:10.2434649Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:10.2434676Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:10.2434705Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:11:10.2434758Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:11:10.2434789Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:11:10.2435141Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:11:10.2435177Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:11:10.2837420Z 2025-08-20 04:11:10.274 +00:00 [ERR] Health check database with status Unhealthy completed after 14634.2603ms with message 'Database connection failed'
2025-08-20T04:11:10.2852542Z 2025-08-20 04:11:10.285 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:11:10.3012165Z 2025-08-20 04:11:10.294 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000014": An unhandled exception was thrown by the application.
2025-08-20T04:11:10.3012972Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:11:10.3013020Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:11:10.3024470Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:10.3024658Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:10.3024750Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:11:10.3024779Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:10.3024809Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:11:10.3024837Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:10.3024896Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:11:10.3024923Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:11:10.3024950Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:11:10.3024979Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:11:10.3025005Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:11:10.3025034Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:10.3025063Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:10.3025091Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:11:10.3025119Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:11:10.3025168Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:11:10.3025194Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:10.3025220Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:10.3025251Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:11:10.3025279Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:11:10.3594587Z 2025-08-20 04:11:10.342 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 14725.993ms
2025-08-20T04:11:11.0271260Z 2025-08-20 04:11:11.026 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T04:11:11.3050293Z 2025-08-20 04:11:11.190 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - 404 0 null 291.368ms
2025-08-20T04:11:11.4865178Z 2025-08-20 04:11:11.486 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path2025-08-20T04:11:11.5123633Z 2025-08-20 04:11:11.485 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:11:11.5447725Z 2025-08-20 04:11:11.521 +00:00 [INF] Starting configuration status health check
2025-08-20T04:11:11.5448022Z 2025-08-20 04:11:11.521 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:11:11.5448062Z 2025-08-20 04:11:11.523 +00:00 [ERR] Health check database with status Unhealthy completed after 1.0082ms with message 'Database connection failed'
2025-08-20T04:11:11.5600125Z 2025-08-20 04:11:11.559 +00:00 [INF] All configurations are valid
2025-08-20T04:11:11.5680838Z 2025-08-20 04:11:11.566 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 46.3076ms with message 'Event Store connection failed'
2025-08-20T04:11:11.5853306Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:11:11.5853587Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:11.5853656Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:11.5853693Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:11:11.5853726Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:11.5853757Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:11.5853783Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:11:11.5853808Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:11:11.5853831Z --- End of stack trace from previous location ---
2025-08-20T04:11:11.5853859Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:11.5853916Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:11.5853945Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:11:11.5853974Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:11:11.5854005Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:11:11.5854039Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:11:11.5854062Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:11:11.6234890Z 2025-08-20 04:11:11.623 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:11:11.6822002Z 2025-08-20 04:11:11.650 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000015": An unhandled exception was thrown by the application.
2025-08-20T04:11:11.6990325Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:11:11.6990985Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:11:11.6991022Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:11.6991051Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:11.6991107Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:11:11.6991138Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:11.6991258Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:11:11.6991288Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:11.6991319Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:11:11.6991346Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:11:11.6991373Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:11:11.6991403Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:11:11.6991430Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:11:11.6991459Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:11.6991488Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:11.6991542Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:11:11.6991571Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:11:11.6991598Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:11:11.6991623Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:11.6991649Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:11.6991681Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:11:11.6991708Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:11:11.7187820Z 2025-08-20 04:11:11.716 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 318.8976ms
2025-08-20T04:11:15.4011336Z 2025-08-20 04:11:15.394 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:11:15.4029582Z 2025-08-20 04:11:15.402 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:11:15.4048339Z 2025-08-20 04:11:15.404 +00:00 [INF] Starting configuration status health check
2025-08-20T04:11:15.4212558Z 2025-08-20 04:11:15.414 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:11:15.4302148Z 2025-08-20 04:11:15.421 +00:00 [INF] All configurations are valid
2025-08-20T04:11:15.4404733Z 2025-08-20 04:11:15.440 +00:00 [ERR] Health check database with status Unhealthy completed after 5.037ms with message 'Database connection failed'
2025-08-20T04:11:15.4495146Z 2025-08-20 04:11:15.439 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 26.8515ms with message 'Event Store connection failed'
2025-08-20T04:11:15.4497354Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:11:15.4497917Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:15.4498558Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:15.4498630Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:11:15.4499114Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:15.4500281Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:15.4501109Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:11:15.4501188Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:11:15.4501214Z --- End of stack trace from previous location ---
2025-08-20T04:11:15.4515076Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:15.4515370Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:15.4515411Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:11:15.4515446Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:11:15.4515484Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:11:15.4515608Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:11:15.4515632Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:11:15.4589683Z 2025-08-20 04:11:15.458 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:11:15.4702057Z 2025-08-20 04:11:15.461 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000016": An unhandled exception was thrown by the application.
2025-08-20T04:11:15.4702700Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:11:15.4702747Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:11:15.4702793Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:15.4702820Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:15.4702974Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:11:15.4703003Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:15.4703032Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:11:15.4703059Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:15.4703090Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:11:15.4703116Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:11:15.4703143Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:11:15.4703170Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:11:15.4703222Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:11:15.4703252Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:15.4703280Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:15.4703308Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:11:15.4703335Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:11:15.4703362Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:11:15.4703387Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:15.4703414Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:15.4703445Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:11:15.4703498Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:11:15.4792363Z 2025-08-20 04:11:15.478 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 84.852ms
2025-08-20T04:11:17.1481236Z 2025-08-20 04:11:17.147 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:11:17.1565206Z 2025-08-20 04:11:17.156 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:11:17.1679817Z 2025-08-20 04:11:17.166 +00:00 [INF] Starting configuration status health check
2025-08-20T04:11:17.1840665Z 2025-08-20 04:11:17.183 +00:00 [ERR] Health check database with status Unhealthy completed after 17.1199ms with message 'Database connection failed'
2025-08-20T04:11:17.1841099Z 2025-08-20 04:11:17.178 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:11:17.2323816Z 2025-08-20 04:11:17.210 +00:00 [INF] All configurations are valid
2025-08-20T04:11:17.2324182Z 2025-08-20 04:11:17.211 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 43.4918ms with message 'Event Store connection failed'
2025-08-20T04:11:17.2324238Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:11:17.2325150Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:17.2325190Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:17.2325224Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:11:17.2325260Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:17.2325363Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:17.2325393Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:11:17.2325418Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:11:17.2325441Z --- End of stack trace from previous location ---
2025-08-20T04:11:17.2325469Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:17.2325498Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:17.2325525Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:11:17.2325555Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:11:17.2325587Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:11:17.2327511Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:11:17.2327607Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:11:17.2327634Z 2025-08-20 04:11:17.229 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:11:17.2382468Z 2025-08-20 04:11:17.237 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000017": An unhandled exception was thrown by the application.
2025-08-20T04:11:17.2382681Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:11:17.2382717Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:11:17.2382750Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:17.2382777Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:17.2382850Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:11:17.2382882Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:17.2382911Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:11:17.2382938Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:17.2382968Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:11:17.2382995Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:11:17.2383021Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:11:17.2383050Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:11:17.2383076Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:11:17.2383132Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:17.2383161Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:17.2383190Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:11:17.2383218Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:11:17.2383245Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:11:17.2383271Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:17.2383295Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:17.2383327Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:11:17.2383355Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:11:17.2802713Z 2025-08-20 04:11:17.270 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 122.9064ms
2025-08-20T04:11:18.8756439Z 2025-08-20 04:11:18.871 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:11:18.8833221Z 2025-08-20 04:11:18.882 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 11.838ms
2025-08-20T04:11:18.9079675Z 2025-08-20 04:11:18.907 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:11:20.4950023Z 2025-08-20 04:11:20.494 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:11:20.5104701Z 2025-08-20 04:11:20.510 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:11:20.5264558Z 2025-08-20 04:11:20.517 +00:00 [INF] Starting configuration status health check
2025-08-20T04:11:20.5265112Z 2025-08-20 04:11:20.518 +00:00 [INF] All configurations are valid
2025-08-20T04:11:20.5350760Z 2025-08-20 04:11:20.528 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:11:20.5362936Z 2025-08-20 04:11:20.535 +00:00 [ERR] Health check database with status Unhealthy completed after 15.4513ms with message 'Database connection failed'
2025-08-20T04:11:20.5455672Z 2025-08-20 04:11:20.544 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 18.0049ms with message 'Event Store connection failed'
2025-08-20T04:11:20.5614013Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:11:20.5614560Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:20.5614604Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:20.5614638Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:11:20.5614756Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:20.5614788Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:20.5614814Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:11:20.5614845Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:11:20.5614869Z --- End of stack trace from previous location ---
2025-08-20T04:11:20.5614898Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:20.5614926Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:20.5614954Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:11:20.5614983Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:11:20.5615036Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:11:20.5615070Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:11:20.5615095Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:11:20.5703886Z 2025-08-20 04:11:20.570 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:11:20.5798457Z 2025-08-20 04:11:20.578 +00:00 [ERR] Connection id "0HNEVJSO2R0JU", Request id "0HNEVJSO2R0JU:00000019": An unhandled exception was thrown by the application.
2025-08-20T04:11:20.5799945Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:11:20.5800660Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:11:20.5800824Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:20.5801369Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:20.5801874Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:11:20.5802198Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:20.5812415Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:11:20.5812716Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:20.5814159Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:11:20.5815173Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:11:20.5815321Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:11:20.5869414Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:11:20.5869725Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:11:20.5869771Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:20.5869801Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:20.5869829Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:11:20.5869856Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:11:20.5869884Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:11:20.5869956Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:20.5869984Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:20.5870016Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:11:20.5870045Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:11:20.5971966Z 2025-08-20 04:11:20.596 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 102.3278ms
2025-08-20T04:11:21.7577941Z 2025-08-20 04:11:21.757 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T04:11:21.7820458Z 2025-08-20 04:11:21.781 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 46.056ms
2025-08-20T04:11:21.7835584Z 2025-08-20 04:11:21.783 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T04:11:28.9038202Z 2025-08-20 04:11:28.844 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:11:28.9039031Z 2025-08-20 04:11:28.848 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 3.9175ms
2025-08-20T04:11:28.9039079Z 2025-08-20 04:11:28.854 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:11:28.9039114Z 2025-08-20 04:11:28.855 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:11:28.9039143Z 2025-08-20 04:11:28.863 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 8.5643ms
2025-08-20T04:11:28.9039176Z 2025-08-20 04:11:28.865 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:11:28.9039206Z 2025-08-20 04:11:28.875 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:11:28.9039231Z 2025-08-20 04:11:28.877 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:11:28.9039285Z 2025-08-20 04:11:28.881 +00:00 [INF] Starting configuration status health check
2025-08-20T04:11:28.9039314Z 2025-08-20 04:11:28.885 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - null 0
2025-08-20T04:11:28.9039342Z 2025-08-20 04:11:28.887 +00:00 [ERR] Health check database with status Unhealthy completed after 1.3349ms with message 'Database connection failed'
2025-08-20T04:11:28.9039367Z 2025-08-20 04:11:28.889 +00:00 [INF] All configurations are valid
2025-08-20T04:11:28.9039395Z 2025-08-20 04:11:28.890 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/ - 404 0 null 5.033ms
2025-08-20T04:11:28.9039424Z 2025-08-20 04:11:28.895 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:11:28.9039459Z 2025-08-20 04:11:28.902 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/, Response status code: 404
2025-08-20T04:11:28.9095309Z 2025-08-20 04:11:28.907 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 21.6287ms with message 'Event Store connection failed'
2025-08-20T04:11:28.9095886Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:11:28.9095932Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:28.9095964Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:28.9095997Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:11:28.9096029Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:28.9096060Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:28.9096089Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:11:28.9096115Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:11:28.9096163Z --- End of stack trace from previous location ---
2025-08-20T04:11:28.9096193Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:28.9096221Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:28.9096248Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:11:28.9096278Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:11:28.9096309Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:11:28.9096345Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:11:28.9096368Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:11:28.9261533Z 2025-08-20 04:11:28.925 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:11:28.9302011Z 2025-08-20 04:11:28.928 +00:00 [ERR] Connection id "0HNEVJSO2R0K0", Request id "0HNEVJSO2R0K0:00000002": An unhandled exception was thrown by the application.
2025-08-20T04:11:28.9302292Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:11:28.9302331Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:11:28.9302364Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:28.9302391Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:28.9302428Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:11:28.9302456Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:28.9302535Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:11:28.9302565Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:28.9302594Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:11:28.9302620Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:11:28.9302647Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:11:28.9302675Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:11:28.9302703Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:11:28.9302732Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:28.9302760Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:28.9302814Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:11:28.9302840Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:11:28.9302868Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:11:28.9302893Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:28.9302918Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:28.9302950Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:11:28.9302978Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:11:28.9390601Z 2025-08-20 04:11:28.938 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 63.2328ms
2025-08-20T04:11:34.0512094Z 2025-08-20 04:11:34.028 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:11:34.0575531Z 2025-08-20 04:11:34.057 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:11:34.0748722Z 2025-08-20 04:11:34.067 +00:00 [INF] Starting configuration status health check
2025-08-20T04:11:34.0920189Z 2025-08-20 04:11:34.083 +00:00 [INF] All configurations are valid
2025-08-20T04:11:34.0920562Z 2025-08-20 04:11:34.084 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:11:34.0920604Z 2025-08-20 04:11:34.086 +00:00 [ERR] Health check database with status Unhealthy completed after 18.6247ms with message 'Database connection failed'
2025-08-20T04:11:34.1046583Z 2025-08-20 04:11:34.093 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 26.7303ms with message 'Event Store connection failed'
2025-08-20T04:11:34.1046940Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:11:34.1046986Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:34.1047018Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:11:34.1047053Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
2025-08-20T04:11:34.1047084Z    at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:34.1047115Z    at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
2025-08-20T04:11:34.1047144Z    at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
2025-08-20T04:11:34.1047170Z    at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
2025-08-20T04:11:34.1047218Z --- End of stack trace from previous location ---
2025-08-20T04:11:34.1047247Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:34.1047274Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:11:34.1047302Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:11:34.1047332Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:11:34.1047363Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:11:34.1047399Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:11:34.1049215Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:11:34.1199412Z 2025-08-20 04:11:34.112 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:11:34.1363400Z 2025-08-20 04:11:34.121 +00:00 [ERR] Connection id "0HNEVJSO2R0K0", Request id "0HNEVJSO2R0K0:00000003": An unhandled exception was thrown by the application.
2025-08-20T04:11:34.1363913Z System.ArgumentException: The connection string used for an Service Bus client must specify the Service Bus namespace host and either a Shared Access Key (both the name and value) OR a Shared Access Signature to be valid. (Parameter 'connectionString')
2025-08-20T04:11:34.1363957Z    at Azure.Messaging.ServiceBus.ServiceBusConnection.ValidateConnectionStringProperties(ServiceBusConnectionStringProperties connectionStringProperties, String connectionStringArgumentName)
2025-08-20T04:11:34.1363990Z    at Azure.Messaging.ServiceBus.ServiceBusConnection..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:34.1364017Z    at Azure.Messaging.ServiceBus.ServiceBusClient..ctor(String connectionString, ServiceBusClientOptions options)
2025-08-20T04:11:34.1364055Z    at Zeus.People.Infrastructure.Configuration.DependencyInjection.<>c__DisplayClass0_0.<AddInfrastructure>b__3(IServiceProvider serviceProvider) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/Configuration/DependencyInjection.cs:line 104
2025-08-20T04:11:34.1364137Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:34.1364236Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
2025-08-20T04:11:34.1364269Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
2025-08-20T04:11:34.1364297Z    at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
2025-08-20T04:11:34.1364324Z    at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
2025-08-20T04:11:34.1364351Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
2025-08-20T04:11:34.1364379Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
2025-08-20T04:11:34.1364407Z    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance[T](IServiceProvider provider)
2025-08-20T04:11:34.1364437Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:34.1364466Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2025-08-20T04:11:34.1364522Z    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
2025-08-20T04:11:34.1364549Z    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)
2025-08-20T04:11:34.1364577Z    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
2025-08-20T04:11:34.1364603Z    at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:34.1364627Z    at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
2025-08-20T04:11:34.1364661Z    at Zeus.People.API.Middleware.ContentTypeValidationMiddleware.InvokeAsync(HttpContext context) in /home/runner/work/Zeus.People/Zeus.People/src/API/Middleware/ContentTypeValidationMiddleware.cs:line 48
2025-08-20T04:11:34.1364688Z    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-08-20T04:11:34.2065217Z 2025-08-20 04:11:34.176 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 500 0 null 127.073ms
2025-08-20T04:12:42.6226123Z    _____                               
2025-08-20T04:12:42.6241401Z   /  _  \ __________ _________   ____  
2025-08-20T04:12:42.6241590Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T04:12:42.6241623Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T04:12:42.6241652Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T04:12:42.6241694Z         \/      \/                  \/ 
2025-08-20T04:12:42.6241723Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T04:12:42.6241750Z 
2025-08-20T04:12:42.6241786Z Documentation: http://aka.ms/webapp-linux
2025-08-20T04:12:42.6241841Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T04:12:42.6241870Z ASP .NETCore Version: 8.0.18
2025-08-20T04:12:42.6242147Z Note: Any data outside '/home' is not persisted
2025-08-20T04:12:45.3672725Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T04:12:45.3785076Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T04:12:45.4183568Z Updating certificates in /etc/ssl/certs...
2025-08-20T04:12:52.5123191Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T04:12:52.5367548Z 4 added, 0 removed; done.
2025-08-20T04:12:52.5368228Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T04:12:52.5440268Z done.
2025-08-20T04:12:52.5713725Z CA certificates copied and updated successfully.
2025-08-20T04:12:52.8531028Z Starting periodic command scheduler: cron.
2025-08-20T04:12:52.8542039Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T04:12:52.8977282Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T04:12:52.8991129Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T04:12:52.9000962Z Build Operation ID: 8ffb7cc3-2bfe-4e7b-a419-9717b51c9798
2025-08-20T04:12:53.0886503Z 
2025-08-20T04:12:53.0887065Z Agent extension 
2025-08-20T04:12:53.0887106Z Before if loop >> DotNet Runtime 
2025-08-20T04:12:53.2184847Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T04:12:53.2374582Z Trying to find the startup DLL name...
2025-08-20T04:12:53.2432543Z Found the startup D name: Zeus.People.API.dll
2025-08-20T04:12:53.2439913Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T04:12:55.2040105Z 2025-08-20 04:12:55.128 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T04:12:55.6385516Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T04:12:56.8315411Z 2025-08-20 04:12:56.754 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:12:56.8483382Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:12:56.8488010Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:12:56.8488061Z    at System.Uri..ctor(String uriString)
2025-08-20T04:12:56.8488103Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:12:56.8488148Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:12:56.8488194Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:12:56.9109719Z 2025-08-20 04:12:56.910 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T04:12:57.0870079Z 2025-08-20 04:12:57.082 +00:00 [INF] Starting configuration validation...
2025-08-20T04:12:57.1291645Z 2025-08-20 04:12:57.125 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:12:57.1292368Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:12:57.1292424Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:12:57.1292541Z    at System.Uri..ctor(String uriString)
2025-08-20T04:12:57.1292581Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:12:57.1292622Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:12:57.1292665Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:12:57.1471843Z 2025-08-20 04:12:57.146 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T04:12:57.1540179Z 2025-08-20 04:12:57.153 +00:00 [INF] Key Vault connectivity verified
2025-08-20T04:12:57.2093760Z 2025-08-20 04:12:57.207 +00:00 [INF] Configuration validation completed successfully
2025-08-20T04:12:57.5227564Z 2025-08-20 04:12:57.520 +00:00 [INF] Starting Zeus.People API
2025-08-20T04:12:57.5558845Z 2025-08-20 04:12:57.555 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T04:12:58.0173702Z 2025-08-20 04:12:58.017 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T04:12:58.0249308Z 2025-08-20 04:12:58.024 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T04:12:58.0266653Z 2025-08-20 04:12:58.026 +00:00 [INF] Hosting environment: Staging
2025-08-20T04:12:58.0320975Z 2025-08-20 04:12:58.031 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T04:12:58.9597227Z 2025-08-20 04:12:58.951 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.3:8080/robots933456.txt - null null
2025-08-20T04:12:59.0579055Z 2025-08-20 04:12:59.057 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T04:12:59.2736127Z 2025-08-20 04:12:59.247 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.3:8080/robots933456.txt - 404 0 null 320.8836ms
2025-08-20T04:12:59.3147283Z 2025-08-20 04:12:59.301 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.3:8080/robots933456.txt, Response status code: 404
2025-08-20T04:13:08.0986727Z 2025-08-20 04:13:08.096 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T04:13:08.1172587Z 2025-08-20 04:13:08.102 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 7.3362ms
2025-08-20T04:13:08.1229551Z 2025-08-20 04:13:08.115 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T04:13:08.4111620Z 2025-08-20 04:13:08.409 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:13:08.4349083Z 2025-08-20 04:13:08.433 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:13:08.4375219Z 2025-08-20 04:13:08.437 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:13:08.4439197Z 2025-08-20 04:13:08.440 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:13:08.4743882Z 2025-08-20 04:13:08.473 +00:00 [INF] Starting configuration status health check
2025-08-20T04:13:09.2278804Z 2025-08-20 04:13:09.227 +00:00 [INF] All configurations are valid
2025-08-20T04:13:10.6558600Z 2025-08-20 04:13:10.655 +00:00 [INF] Starting configuration status health check
2025-08-20T04:13:10.6618159Z 2025-08-20 04:13:10.661 +00:00 [INF] All configurations are valid
2025-08-20T04:13:12.5311581Z 2025-08-20 04:13:12.528 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:13:12.5472520Z 2025-08-20 04:13:12.546 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:13:12.5489522Z 2025-08-20 04:13:12.548 +00:00 [INF] Starting configuration status health check
2025-08-20T04:13:12.5557401Z 2025-08-20 04:13:12.550 +00:00 [INF] All configurations are valid
2025-08-20T04:13:27.4827699Z 2025-08-20 04:13:27.482 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:13:27.4828302Z 2025-08-20 04:13:27.482 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:13:27.4927549Z 2025-08-20 04:13:27.482 +00:00 [ERR] An error occurred using the connection to database 'Zeus.People.EventStore' on server 'localhost'.
2025-08-20T04:13:27.5345536Z 2025-08-20 04:13:27.504 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 16981.9708ms with message 'Event Store connection failed'
2025-08-20T04:13:27.5346177Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:13:27.5346224Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:13:27.5346249Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:13:27.5346518Z --- End of stack trace from previous location ---
2025-08-20T04:13:27.5346554Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:13:27.5346582Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:13:27.5346610Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:13:27.5346641Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:13:27.5346672Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:13:27.5346708Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:13:27.5346732Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:13:27.5346761Z 2025-08-20 04:13:27.504 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 17393.2563ms with message 'Event Store connection failed'
2025-08-20T04:13:27.5346888Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:13:27.5346919Z    at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
2025-08-20T04:13:27.5346948Z    at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
2025-08-20T04:13:27.5346982Z    at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
2025-08-20T04:13:27.5347034Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
2025-08-20T04:13:27.5347072Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
2025-08-20T04:13:27.5347173Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
2025-08-20T04:13:27.5347586Z    at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
2025-08-20T04:13:27.5347630Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
2025-08-20T04:13:27.5347663Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
2025-08-20T04:13:27.5347692Z    at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:13:27.5347722Z    at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
2025-08-20T04:13:27.5347756Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:13:27.5347859Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:13:27.5347886Z --- End of stack trace from previous location ---
2025-08-20T04:13:27.5347914Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:13:27.5347942Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:13:27.5347970Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:13:27.5348000Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:13:27.5348085Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:13:27.5348196Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:13:27.5348227Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:13:27.5354094Z 2025-08-20 04:13:27.504 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 14927.1446ms with message 'Event Store connection failed'
2025-08-20T04:13:27.5354233Z Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
2025-08-20T04:13:27.5354272Z    at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
2025-08-20T04:13:27.5354297Z    at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
2025-08-20T04:13:27.5354320Z --- End of stack trace from previous location ---
2025-08-20T04:13:27.5354349Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:13:27.5354531Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
2025-08-20T04:13:27.5354563Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
2025-08-20T04:13:27.5354593Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:13:27.5354624Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:13:27.5354659Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:13:27.5354683Z ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-08-20T04:13:30.9280606Z 2025-08-20 04:13:30.925 +00:00 [ERR] Health check database with status Unhealthy completed after 20255.5837ms with message 'Database connection failed'
2025-08-20T04:13:30.9281232Z 2025-08-20 04:13:30.926 +00:00 [ERR] Health check database with status Unhealthy completed after 18360.6713ms with message 'Database connection failed'
2025-08-20T04:13:30.9291870Z 2025-08-20 04:13:30.928 +00:00 [ERR] Health check database with status Unhealthy completed after 20940.2385ms with message 'Database connection failed'
2025-08-20T04:13:31.0563937Z 2025-08-20 04:13:31.052 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:13:31.0756028Z 2025-08-20 04:13:31.056 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:13:31.0756532Z 2025-08-20 04:13:31.056 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:13:31.0756578Z 2025-08-20 04:13:31.058 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 503 null application/json 22624.7412ms
2025-08-20T04:13:31.1051466Z 2025-08-20 04:13:31.077 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 503 null application/json 22668.0783ms
2025-08-20T04:13:31.1065704Z 2025-08-20 04:13:31.097 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 503 null application/json 18569.6539ms
2025-08-20T04:14:19.4224091Z    _____                               
2025-08-20T04:14:19.4226176Z   /  _  \ __________ _________   ____  
2025-08-20T04:14:19.4226243Z  /  /_\  \\___   /  |  \_  __ \_/ __ \ 
2025-08-20T04:14:19.4226342Z /    |    \/    /|  |  /|  | \/\  ___/ 
2025-08-20T04:14:19.4226373Z \____|__  /_____ \____/ |__|    \___  >
2025-08-20T04:14:19.4226411Z         \/      \/                  \/ 
2025-08-20T04:14:19.4226442Z A P P   S E R V I C E   O N   L I N U X
2025-08-20T04:14:19.4226468Z 
2025-08-20T04:14:19.4226503Z Documentation: http://aka.ms/webapp-linux
2025-08-20T04:14:19.4226536Z Dotnet quickstart: https://aka.ms/dotnet-qs
2025-08-20T04:14:19.4226590Z ASP .NETCore Version: 8.0.18
2025-08-20T04:14:19.4226621Z Note: Any data outside '/home' is not persisted
2025-08-20T04:14:23.7169208Z Starting OpenBSD Secure Shell server: sshd.
2025-08-20T04:14:23.7306657Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-08-20T04:14:23.7597688Z Updating certificates in /etc/ssl/certs...
2025-08-20T04:14:31.0377709Z rehash: warning: skipping ca-certificates.crt,it does not contain exactly one certificate or CRL
2025-08-20T04:14:31.0632713Z 4 added, 0 removed; done.
2025-08-20T04:14:31.0635817Z Running hooks in /etc/ca-certificates/update.d...
2025-08-20T04:14:31.0714936Z done.
2025-08-20T04:14:31.0878786Z CA certificates copied and updated successfully.
2025-08-20T04:14:31.3068843Z Starting periodic command scheduler: cron.
2025-08-20T04:14:31.3079266Z Running oryx create-script -appPath /home/site/wwwroot -output /opt/startup/startup.sh -defaultAppFilePath /defaulthome/hostingstart/hostingstart.dll     -bindPort 8080 -bindPort2 '' -userStartupCommand '' 
2025-08-20T04:14:31.3523326Z Could not find build manifest file at '/home/site/wwwroot/oryx-manifest.toml'
2025-08-20T04:14:31.3525546Z Could not find operation ID in manifest. Generating an operation id...
2025-08-20T04:14:31.3527506Z Build Operation ID: 6055b0a2-c57a-4489-a572-c2f49faf396e
2025-08-20T04:14:31.5289262Z 
2025-08-20T04:14:31.5300701Z Agent extension 
2025-08-20T04:14:31.5364550Z Before if loop >> DotNet Runtime 
2025-08-20T04:14:31.6934308Z DotNet Runtime 8.0Writing output script to '/opt/startup/startup.sh'
2025-08-20T04:14:31.8085029Z Trying to find the startup DLL name...
2025-08-20T04:14:31.8085722Z Found the startup D name: Zeus.People.API.dll
2025-08-20T04:14:31.8085770Z Running the command: dotnet "Zeus.People.API.dll"
2025-08-20T04:14:35.1763491Z 2025-08-20 04:14:35.042 +00:00 [INF] Starting Zeus.People API configuration
2025-08-20T04:14:35.3642987Z Warning: KeyVault:VaultUrl not configured. Skipping Key Vault configuration.
2025-08-20T04:14:35.8901144Z 2025-08-20 04:14:35.852 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:14:35.8902228Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:14:35.8946703Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:14:35.8953575Z    at System.Uri..ctor(String uriString)
2025-08-20T04:14:35.9001228Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:14:35.9011135Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:14:35.9018886Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:14:35.9288873Z 2025-08-20 04:14:35.928 +00:00 [INF] JWT Authentication configured successfully
2025-08-20T04:14:35.9864405Z 2025-08-20 04:14:35.986 +00:00 [INF] Starting configuration validation...
2025-08-20T04:14:36.0169724Z 2025-08-20 04:14:36.016 +00:00 [ERR] Failed to initialize Key Vault client for vault: kvdvjm4oxxoy2g6
2025-08-20T04:14:36.0170503Z System.UriFormatException: Invalid URI: The format of the URI could not be determined.
2025-08-20T04:14:36.0170557Z    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
2025-08-20T04:14:36.0170591Z    at System.Uri..ctor(String uriString)
2025-08-20T04:14:36.0170634Z    at Zeus.People.API.Configuration.KeyVaultConfiguration.GetVaultUri() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/KeyVaultConfiguration.cs:line 144
2025-08-20T04:14:36.0170750Z    at Zeus.People.API.Configuration.ConfigurationService.CreateSecretClient() in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 282
2025-08-20T04:14:36.0170794Z    at Zeus.People.API.Configuration.ConfigurationService..ctor(IConfiguration configuration, IOptions`1 keyVaultConfig, IMemoryCache cache, ILogger`1 logger) in /home/runner/work/Zeus.People/Zeus.People/src/API/Configuration/ConfigurationService.cs:line 47
2025-08-20T04:14:36.0316052Z 2025-08-20 04:14:36.031 +00:00 [INF] Testing Key Vault connectivity...
2025-08-20T04:14:36.0378841Z 2025-08-20 04:14:36.037 +00:00 [INF] Key Vault connectivity verified
2025-08-20T04:14:36.0997828Z 2025-08-20 04:14:36.099 +00:00 [INF] Configuration validation completed successfully
2025-08-20T04:14:36.4676127Z 2025-08-20 04:14:36.466 +00:00 [INF] Starting Zeus.People API
2025-08-20T04:14:36.5149431Z 2025-08-20 04:14:36.514 +00:00 [INF] Azure Web Sites environment detected. Using '/home/ASP.NET/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-20T04:14:36.9847251Z 2025-08-20 04:14:36.984 +00:00 [INF] Now listening on: http://[::]:8080
2025-08-20T04:14:36.9927348Z 2025-08-20 04:14:36.992 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-20T04:14:36.9993606Z 2025-08-20 04:14:36.999 +00:00 [INF] Hosting environment: Staging
2025-08-20T04:14:37.0012495Z 2025-08-20 04:14:37.001 +00:00 [INF] Content root path: /home/site/wwwroot
2025-08-20T04:14:37.7401503Z 2025-08-20 04:14:37.732 +00:00 [INF] Request starting HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - null null
2025-08-20T04:14:37.8800913Z 2025-08-20 04:14:37.879 +00:00 [WRN] Failed to determine the https port for redirect.
2025-08-20T04:14:38.1537496Z 2025-08-20 04:14:38.108 +00:00 [INF] Request finished HTTP/1.1 GET http://169.254.129.2:8080/robots933456.txt - 404 0 null 397.1163ms
2025-08-20T04:14:38.2051513Z 2025-08-20 04:14:38.204 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://169.254.129.2:8080/robots933456.txt, Response status code: 404
2025-08-20T04:14:48.5694118Z 2025-08-20 04:14:48.568 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/ - null 0
2025-08-20T04:14:48.5937185Z 2025-08-20 04:14:48.577 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/ - 404 0 null 15.6154ms
2025-08-20T04:14:48.6010233Z 2025-08-20 04:14:48.600 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:8080/, Response status code: 404
2025-08-20T04:14:48.8691809Z 2025-08-20 04:14:48.868 +00:00 [INF] Request starting HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - null 0
2025-08-20T04:14:48.8863906Z 2025-08-20 04:14:48.886 +00:00 [INF] Executing endpoint 'Health checks'
2025-08-20T04:14:48.9396518Z 2025-08-20 04:14:48.939 +00:00 [INF] Starting configuration status health check
2025-08-20T04:14:51.1374718Z 2025-08-20 04:14:51.137 +00:00 [INF] All configurations are valid
2025-08-20T04:14:53.4581994Z 2025-08-20 04:14:53.456 +00:00 [ERR] Health check database with status Unhealthy completed after 4042.8306ms with message 'Database connection failed'
2025-08-20T04:14:53.4764093Z 2025-08-20 04:14:53.453 +00:00 [ERR] Health check eventstore with status Unhealthy completed after 2947.2004ms with message 'Event Store connection failed'
2025-08-20T04:14:53.4764381Z System.ArgumentException: Keyword not supported: '@microsoft.keyvault(vaultname'.
2025-08-20T04:14:53.4764425Z    at Microsoft.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)
2025-08-20T04:14:53.4764490Z    at Microsoft.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms)
2025-08-20T04:14:53.4764516Z    at Microsoft.Data.SqlClient.SqlConnectionString..ctor(String connectionString)
2025-08-20T04:14:53.4764546Z    at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnectionOptions(String connectionString, DbConnectionOptions previous)
2025-08-20T04:14:53.4764576Z    at Microsoft.Data.ProviderBase.DbConnectionFactory.GetConnectionPoolGroup(DbConnectionPoolKey key, DbConnectionPoolGroupOptions poolOptions, DbConnectionOptions& userConnectionOptions)
2025-08-20T04:14:53.4764601Z    at Microsoft.Data.SqlClient.SqlConnection.ConnectionString_Set(DbConnectionPoolKey key)
2025-08-20T04:14:53.4764626Z    at Microsoft.Data.SqlClient.SqlConnection.set_ConnectionString(String value)
2025-08-20T04:14:53.4764651Z    at Microsoft.Data.SqlClient.SqlConnection..ctor(String connectionString)
2025-08-20T04:14:53.4764677Z    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.CreateDbConnection()
2025-08-20T04:14:53.4764853Z    at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
2025-08-20T04:14:53.4764913Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
2025-08-20T04:14:53.4764944Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
2025-08-20T04:14:53.4764974Z    at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
2025-08-20T04:14:53.4765022Z    at Zeus.People.Infrastructure.HealthChecks.EventStoreHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/Zeus.People/Zeus.People/src/Infrastructure/HealthChecks/EventStoreHealthCheck.cs:line 26
2025-08-20T04:14:59.4752557Z 2025-08-20 04:14:59.474 +00:00 [INF] Executed endpoint 'Health checks'
2025-08-20T04:14:59.4896789Z 2025-08-20 04:14:59.482 +00:00 [INF] Request finished HTTP/1.1 GET http://app-academic-staging-dvjm4oxxoy2g6.azurewebsites.net/health - 503 null application/json 10613.3941ms
